var NP=Object.defineProperty;var OP=(t,e,r)=>e in t?NP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var _r=(t,e,r)=>OP(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var zi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{};function ci(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function n0(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Lt={},bg={};bg.byteLength=LP;bg.toByteArray=UP;bg.fromByteArray=qP;var Wo=[],Os=[],BP=typeof Uint8Array<"u"?Uint8Array:Array,Yb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Su=0,DP=Yb.length;Su<DP;++Su)Wo[Su]=Yb[Su],Os[Yb.charCodeAt(Su)]=Su;Os[45]=62;Os[95]=63;function B7(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");r===-1&&(r=e);var n=r===e?0:4-r%4;return[r,n]}function LP(t){var e=B7(t),r=e[0],n=e[1];return(r+n)*3/4-n}function $P(t,e,r){return(e+r)*3/4-r}function UP(t){var e,r=B7(t),n=r[0],i=r[1],s=new BP($P(t,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)e=Os[t.charCodeAt(c)]<<18|Os[t.charCodeAt(c+1)]<<12|Os[t.charCodeAt(c+2)]<<6|Os[t.charCodeAt(c+3)],s[o++]=e>>16&255,s[o++]=e>>8&255,s[o++]=e&255;return i===2&&(e=Os[t.charCodeAt(c)]<<2|Os[t.charCodeAt(c+1)]>>4,s[o++]=e&255),i===1&&(e=Os[t.charCodeAt(c)]<<10|Os[t.charCodeAt(c+1)]<<4|Os[t.charCodeAt(c+2)]>>2,s[o++]=e>>8&255,s[o++]=e&255),s}function zP(t){return Wo[t>>18&63]+Wo[t>>12&63]+Wo[t>>6&63]+Wo[t&63]}function FP(t,e,r){for(var n,i=[],s=e;s<r;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),i.push(zP(n));return i.join("")}function qP(t){for(var e,r=t.length,n=r%3,i=[],s=16383,o=0,a=r-n;o<a;o+=s)i.push(FP(t,o,o+s>a?a:o+s));return n===1?(e=t[r-1],i.push(Wo[e>>2]+Wo[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Wo[e>>10]+Wo[e>>4&63]+Wo[e<<2&63]+"=")),i.join("")}var U2={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */U2.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,l=c>>1,g=-7,b=r?i-1:0,x=r?-1:1,_=t[e+b];for(b+=x,s=_&(1<<-g)-1,_>>=-g,g+=a;g>0;s=s*256+t[e+b],b+=x,g-=8);for(o=s&(1<<-g)-1,s>>=-g,g+=n;g>0;o=o*256+t[e+b],b+=x,g-=8);if(s===0)s=1-l;else{if(s===c)return o?NaN:(_?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-l}return(_?-1:1)*o*Math.pow(2,s-n)};U2.write=function(t,e,r,n,i,s){var o,a,c,l=s*8-i-1,g=(1<<l)-1,b=g>>1,x=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:s-1,E=n?1:-1,M=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=g):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+b>=1?e+=x/c:e+=x*Math.pow(2,1-b),e*c>=2&&(o++,c/=2),o+b>=g?(a=0,o=g):o+b>=1?(a=(e*c-1)*Math.pow(2,i),o=o+b):(a=e*Math.pow(2,b-1)*Math.pow(2,i),o=0));i>=8;t[r+_]=a&255,_+=E,a/=256,i-=8);for(o=o<<i|a,l+=i;l>0;t[r+_]=o&255,_+=E,o/=256,l-=8);t[r+_-E]|=M*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=bg,r=U2,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=a,t.SlowBuffer=R,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=s(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const q=new Uint8Array(1),T={foo:function(){return 42}};return Object.setPrototypeOf(T,Uint8Array.prototype),Object.setPrototypeOf(q,T),q.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(q){if(q>i)throw new RangeError('The value "'+q+'" is invalid for option "size"');const T=new Uint8Array(q);return Object.setPrototypeOf(T,a.prototype),T}function a(q,T,L){if(typeof q=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(q)}return c(q,T,L)}a.poolSize=8192;function c(q,T,L){if(typeof q=="string")return x(q,T);if(ArrayBuffer.isView(q))return E(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(Ae(q,ArrayBuffer)||q&&Ae(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(q,SharedArrayBuffer)||q&&Ae(q.buffer,SharedArrayBuffer)))return M(q,T,L);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const G=q.valueOf&&q.valueOf();if(G!=null&&G!==q)return a.from(G,T,L);const re=B(q);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return a.from(q[Symbol.toPrimitive]("string"),T,L);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}a.from=function(q,T,L){return c(q,T,L)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function l(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function g(q,T,L){return l(q),q<=0?o(q):T!==void 0?typeof L=="string"?o(q).fill(T,L):o(q).fill(T):o(q)}a.alloc=function(q,T,L){return g(q,T,L)};function b(q){return l(q),o(q<0?0:P(q)|0)}a.allocUnsafe=function(q){return b(q)},a.allocUnsafeSlow=function(q){return b(q)};function x(q,T){if((typeof T!="string"||T==="")&&(T="utf8"),!a.isEncoding(T))throw new TypeError("Unknown encoding: "+T);const L=D(q,T)|0;let G=o(L);const re=G.write(q,T);return re!==L&&(G=G.slice(0,re)),G}function _(q){const T=q.length<0?0:P(q.length)|0,L=o(T);for(let G=0;G<T;G+=1)L[G]=q[G]&255;return L}function E(q){if(Ae(q,Uint8Array)){const T=new Uint8Array(q);return M(T.buffer,T.byteOffset,T.byteLength)}return _(q)}function M(q,T,L){if(T<0||q.byteLength<T)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<T+(L||0))throw new RangeError('"length" is outside of buffer bounds');let G;return T===void 0&&L===void 0?G=new Uint8Array(q):L===void 0?G=new Uint8Array(q,T):G=new Uint8Array(q,T,L),Object.setPrototypeOf(G,a.prototype),G}function B(q){if(a.isBuffer(q)){const T=P(q.length)|0,L=o(T);return L.length===0||q.copy(L,0,0,T),L}if(q.length!==void 0)return typeof q.length!="number"||ot(q.length)?o(0):_(q);if(q.type==="Buffer"&&Array.isArray(q.data))return _(q.data)}function P(q){if(q>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return q|0}function R(q){return+q!=q&&(q=0),a.alloc(+q)}a.isBuffer=function(T){return T!=null&&T._isBuffer===!0&&T!==a.prototype},a.compare=function(T,L){if(Ae(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),Ae(L,Uint8Array)&&(L=a.from(L,L.offset,L.byteLength)),!a.isBuffer(T)||!a.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(T===L)return 0;let G=T.length,re=L.length;for(let fe=0,oe=Math.min(G,re);fe<oe;++fe)if(T[fe]!==L[fe]){G=T[fe],re=L[fe];break}return G<re?-1:re<G?1:0},a.isEncoding=function(T){switch(String(T).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(T,L){if(!Array.isArray(T))throw new TypeError('"list" argument must be an Array of Buffers');if(T.length===0)return a.alloc(0);let G;if(L===void 0)for(L=0,G=0;G<T.length;++G)L+=T[G].length;const re=a.allocUnsafe(L);let fe=0;for(G=0;G<T.length;++G){let oe=T[G];if(Ae(oe,Uint8Array))fe+oe.length>re.length?(a.isBuffer(oe)||(oe=a.from(oe)),oe.copy(re,fe)):Uint8Array.prototype.set.call(re,oe,fe);else if(a.isBuffer(oe))oe.copy(re,fe);else throw new TypeError('"list" argument must be an Array of Buffers');fe+=oe.length}return re};function D(q,T){if(a.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||Ae(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const L=q.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&L===0)return 0;let re=!1;for(;;)switch(T){case"ascii":case"latin1":case"binary":return L;case"utf8":case"utf-8":return bt(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L*2;case"hex":return L>>>1;case"base64":return dt(q).length;default:if(re)return G?-1:bt(q).length;T=(""+T).toLowerCase(),re=!0}}a.byteLength=D;function U(q,T,L){let G=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((L===void 0||L>this.length)&&(L=this.length),L<=0)||(L>>>=0,T>>>=0,L<=T))return"";for(q||(q="utf8");;)switch(q){case"hex":return y(this,T,L);case"utf8":case"utf-8":return d(this,T,L);case"ascii":return w(this,T,L);case"latin1":case"binary":return S(this,T,L);case"base64":return h(this,T,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return u(this,T,L);default:if(G)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),G=!0}}a.prototype._isBuffer=!0;function F(q,T,L){const G=q[T];q[T]=q[L],q[L]=G}a.prototype.swap16=function(){const T=this.length;if(T%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<T;L+=2)F(this,L,L+1);return this},a.prototype.swap32=function(){const T=this.length;if(T%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<T;L+=4)F(this,L,L+3),F(this,L+1,L+2);return this},a.prototype.swap64=function(){const T=this.length;if(T%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<T;L+=8)F(this,L,L+7),F(this,L+1,L+6),F(this,L+2,L+5),F(this,L+3,L+4);return this},a.prototype.toString=function(){const T=this.length;return T===0?"":arguments.length===0?d(this,0,T):U.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(T){if(!a.isBuffer(T))throw new TypeError("Argument must be a Buffer");return this===T?!0:a.compare(this,T)===0},a.prototype.inspect=function(){let T="";const L=t.INSPECT_MAX_BYTES;return T=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(T+=" ... "),"<Buffer "+T+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(T,L,G,re,fe){if(Ae(T,Uint8Array)&&(T=a.from(T,T.offset,T.byteLength)),!a.isBuffer(T))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof T);if(L===void 0&&(L=0),G===void 0&&(G=T?T.length:0),re===void 0&&(re=0),fe===void 0&&(fe=this.length),L<0||G>T.length||re<0||fe>this.length)throw new RangeError("out of range index");if(re>=fe&&L>=G)return 0;if(re>=fe)return-1;if(L>=G)return 1;if(L>>>=0,G>>>=0,re>>>=0,fe>>>=0,this===T)return 0;let oe=fe-re,we=G-L;const Ge=Math.min(oe,we),Se=this.slice(re,fe),Le=T.slice(L,G);for(let gt=0;gt<Ge;++gt)if(Se[gt]!==Le[gt]){oe=Se[gt],we=Le[gt];break}return oe<we?-1:we<oe?1:0};function W(q,T,L,G,re){if(q.length===0)return-1;if(typeof L=="string"?(G=L,L=0):L>2147483647?L=2147483647:L<-2147483648&&(L=-2147483648),L=+L,ot(L)&&(L=re?0:q.length-1),L<0&&(L=q.length+L),L>=q.length){if(re)return-1;L=q.length-1}else if(L<0)if(re)L=0;else return-1;if(typeof T=="string"&&(T=a.from(T,G)),a.isBuffer(T))return T.length===0?-1:k(q,T,L,G,re);if(typeof T=="number")return T=T&255,typeof Uint8Array.prototype.indexOf=="function"?re?Uint8Array.prototype.indexOf.call(q,T,L):Uint8Array.prototype.lastIndexOf.call(q,T,L):k(q,[T],L,G,re);throw new TypeError("val must be string, number or Buffer")}function k(q,T,L,G,re){let fe=1,oe=q.length,we=T.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(q.length<2||T.length<2)return-1;fe=2,oe/=2,we/=2,L/=2}function Ge(Le,gt){return fe===1?Le[gt]:Le.readUInt16BE(gt*fe)}let Se;if(re){let Le=-1;for(Se=L;Se<oe;Se++)if(Ge(q,Se)===Ge(T,Le===-1?0:Se-Le)){if(Le===-1&&(Le=Se),Se-Le+1===we)return Le*fe}else Le!==-1&&(Se-=Se-Le),Le=-1}else for(L+we>oe&&(L=oe-we),Se=L;Se>=0;Se--){let Le=!0;for(let gt=0;gt<we;gt++)if(Ge(q,Se+gt)!==Ge(T,gt)){Le=!1;break}if(Le)return Se}return-1}a.prototype.includes=function(T,L,G){return this.indexOf(T,L,G)!==-1},a.prototype.indexOf=function(T,L,G){return W(this,T,L,G,!0)},a.prototype.lastIndexOf=function(T,L,G){return W(this,T,L,G,!1)};function K(q,T,L,G){L=Number(L)||0;const re=q.length-L;G?(G=Number(G),G>re&&(G=re)):G=re;const fe=T.length;G>fe/2&&(G=fe/2);let oe;for(oe=0;oe<G;++oe){const we=parseInt(T.substr(oe*2,2),16);if(ot(we))return oe;q[L+oe]=we}return oe}function te(q,T,L,G){return _e(bt(T,q.length-L),q,L,G)}function ce(q,T,L,G){return _e(ke(T),q,L,G)}function A(q,T,L,G){return _e(dt(T),q,L,G)}function f(q,T,L,G){return _e(Ke(T,q.length-L),q,L,G)}a.prototype.write=function(T,L,G,re){if(L===void 0)re="utf8",G=this.length,L=0;else if(G===void 0&&typeof L=="string")re=L,G=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(G)?(G=G>>>0,re===void 0&&(re="utf8")):(re=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const fe=this.length-L;if((G===void 0||G>fe)&&(G=fe),T.length>0&&(G<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");re||(re="utf8");let oe=!1;for(;;)switch(re){case"hex":return K(this,T,L,G);case"utf8":case"utf-8":return te(this,T,L,G);case"ascii":case"latin1":case"binary":return ce(this,T,L,G);case"base64":return A(this,T,L,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f(this,T,L,G);default:if(oe)throw new TypeError("Unknown encoding: "+re);re=(""+re).toLowerCase(),oe=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function h(q,T,L){return T===0&&L===q.length?e.fromByteArray(q):e.fromByteArray(q.slice(T,L))}function d(q,T,L){L=Math.min(q.length,L);const G=[];let re=T;for(;re<L;){const fe=q[re];let oe=null,we=fe>239?4:fe>223?3:fe>191?2:1;if(re+we<=L){let Ge,Se,Le,gt;switch(we){case 1:fe<128&&(oe=fe);break;case 2:Ge=q[re+1],(Ge&192)===128&&(gt=(fe&31)<<6|Ge&63,gt>127&&(oe=gt));break;case 3:Ge=q[re+1],Se=q[re+2],(Ge&192)===128&&(Se&192)===128&&(gt=(fe&15)<<12|(Ge&63)<<6|Se&63,gt>2047&&(gt<55296||gt>57343)&&(oe=gt));break;case 4:Ge=q[re+1],Se=q[re+2],Le=q[re+3],(Ge&192)===128&&(Se&192)===128&&(Le&192)===128&&(gt=(fe&15)<<18|(Ge&63)<<12|(Se&63)<<6|Le&63,gt>65535&&gt<1114112&&(oe=gt))}}oe===null?(oe=65533,we=1):oe>65535&&(oe-=65536,G.push(oe>>>10&1023|55296),oe=56320|oe&1023),G.push(oe),re+=we}return v(G)}const p=4096;function v(q){const T=q.length;if(T<=p)return String.fromCharCode.apply(String,q);let L="",G=0;for(;G<T;)L+=String.fromCharCode.apply(String,q.slice(G,G+=p));return L}function w(q,T,L){let G="";L=Math.min(q.length,L);for(let re=T;re<L;++re)G+=String.fromCharCode(q[re]&127);return G}function S(q,T,L){let G="";L=Math.min(q.length,L);for(let re=T;re<L;++re)G+=String.fromCharCode(q[re]);return G}function y(q,T,L){const G=q.length;(!T||T<0)&&(T=0),(!L||L<0||L>G)&&(L=G);let re="";for(let fe=T;fe<L;++fe)re+=xe[q[fe]];return re}function u(q,T,L){const G=q.slice(T,L);let re="";for(let fe=0;fe<G.length-1;fe+=2)re+=String.fromCharCode(G[fe]+G[fe+1]*256);return re}a.prototype.slice=function(T,L){const G=this.length;T=~~T,L=L===void 0?G:~~L,T<0?(T+=G,T<0&&(T=0)):T>G&&(T=G),L<0?(L+=G,L<0&&(L=0)):L>G&&(L=G),L<T&&(L=T);const re=this.subarray(T,L);return Object.setPrototypeOf(re,a.prototype),re};function m(q,T,L){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+T>L)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(T,L,G){T=T>>>0,L=L>>>0,G||m(T,L,this.length);let re=this[T],fe=1,oe=0;for(;++oe<L&&(fe*=256);)re+=this[T+oe]*fe;return re},a.prototype.readUintBE=a.prototype.readUIntBE=function(T,L,G){T=T>>>0,L=L>>>0,G||m(T,L,this.length);let re=this[T+--L],fe=1;for(;L>0&&(fe*=256);)re+=this[T+--L]*fe;return re},a.prototype.readUint8=a.prototype.readUInt8=function(T,L){return T=T>>>0,L||m(T,1,this.length),this[T]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(T,L){return T=T>>>0,L||m(T,2,this.length),this[T]|this[T+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(T,L){return T=T>>>0,L||m(T,2,this.length),this[T]<<8|this[T+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(T,L){return T=T>>>0,L||m(T,4,this.length),(this[T]|this[T+1]<<8|this[T+2]<<16)+this[T+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(T,L){return T=T>>>0,L||m(T,4,this.length),this[T]*16777216+(this[T+1]<<16|this[T+2]<<8|this[T+3])},a.prototype.readBigUInt64LE=Ie(function(T){T=T>>>0,le(T,"offset");const L=this[T],G=this[T+7];(L===void 0||G===void 0)&&Ee(T,this.length-8);const re=L+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24,fe=this[++T]+this[++T]*2**8+this[++T]*2**16+G*2**24;return BigInt(re)+(BigInt(fe)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ie(function(T){T=T>>>0,le(T,"offset");const L=this[T],G=this[T+7];(L===void 0||G===void 0)&&Ee(T,this.length-8);const re=L*2**24+this[++T]*2**16+this[++T]*2**8+this[++T],fe=this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+G;return(BigInt(re)<<BigInt(32))+BigInt(fe)}),a.prototype.readIntLE=function(T,L,G){T=T>>>0,L=L>>>0,G||m(T,L,this.length);let re=this[T],fe=1,oe=0;for(;++oe<L&&(fe*=256);)re+=this[T+oe]*fe;return fe*=128,re>=fe&&(re-=Math.pow(2,8*L)),re},a.prototype.readIntBE=function(T,L,G){T=T>>>0,L=L>>>0,G||m(T,L,this.length);let re=L,fe=1,oe=this[T+--re];for(;re>0&&(fe*=256);)oe+=this[T+--re]*fe;return fe*=128,oe>=fe&&(oe-=Math.pow(2,8*L)),oe},a.prototype.readInt8=function(T,L){return T=T>>>0,L||m(T,1,this.length),this[T]&128?(255-this[T]+1)*-1:this[T]},a.prototype.readInt16LE=function(T,L){T=T>>>0,L||m(T,2,this.length);const G=this[T]|this[T+1]<<8;return G&32768?G|4294901760:G},a.prototype.readInt16BE=function(T,L){T=T>>>0,L||m(T,2,this.length);const G=this[T+1]|this[T]<<8;return G&32768?G|4294901760:G},a.prototype.readInt32LE=function(T,L){return T=T>>>0,L||m(T,4,this.length),this[T]|this[T+1]<<8|this[T+2]<<16|this[T+3]<<24},a.prototype.readInt32BE=function(T,L){return T=T>>>0,L||m(T,4,this.length),this[T]<<24|this[T+1]<<16|this[T+2]<<8|this[T+3]},a.prototype.readBigInt64LE=Ie(function(T){T=T>>>0,le(T,"offset");const L=this[T],G=this[T+7];(L===void 0||G===void 0)&&Ee(T,this.length-8);const re=this[T+4]+this[T+5]*2**8+this[T+6]*2**16+(G<<24);return(BigInt(re)<<BigInt(32))+BigInt(L+this[++T]*2**8+this[++T]*2**16+this[++T]*2**24)}),a.prototype.readBigInt64BE=Ie(function(T){T=T>>>0,le(T,"offset");const L=this[T],G=this[T+7];(L===void 0||G===void 0)&&Ee(T,this.length-8);const re=(L<<24)+this[++T]*2**16+this[++T]*2**8+this[++T];return(BigInt(re)<<BigInt(32))+BigInt(this[++T]*2**24+this[++T]*2**16+this[++T]*2**8+G)}),a.prototype.readFloatLE=function(T,L){return T=T>>>0,L||m(T,4,this.length),r.read(this,T,!0,23,4)},a.prototype.readFloatBE=function(T,L){return T=T>>>0,L||m(T,4,this.length),r.read(this,T,!1,23,4)},a.prototype.readDoubleLE=function(T,L){return T=T>>>0,L||m(T,8,this.length),r.read(this,T,!0,52,8)},a.prototype.readDoubleBE=function(T,L){return T=T>>>0,L||m(T,8,this.length),r.read(this,T,!1,52,8)};function I(q,T,L,G,re,fe){if(!a.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>re||T<fe)throw new RangeError('"value" argument is out of bounds');if(L+G>q.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(T,L,G,re){if(T=+T,L=L>>>0,G=G>>>0,!re){const we=Math.pow(2,8*G)-1;I(this,T,L,G,we,0)}let fe=1,oe=0;for(this[L]=T&255;++oe<G&&(fe*=256);)this[L+oe]=T/fe&255;return L+G},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(T,L,G,re){if(T=+T,L=L>>>0,G=G>>>0,!re){const we=Math.pow(2,8*G)-1;I(this,T,L,G,we,0)}let fe=G-1,oe=1;for(this[L+fe]=T&255;--fe>=0&&(oe*=256);)this[L+fe]=T/oe&255;return L+G},a.prototype.writeUint8=a.prototype.writeUInt8=function(T,L,G){return T=+T,L=L>>>0,G||I(this,T,L,1,255,0),this[L]=T&255,L+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(T,L,G){return T=+T,L=L>>>0,G||I(this,T,L,2,65535,0),this[L]=T&255,this[L+1]=T>>>8,L+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(T,L,G){return T=+T,L=L>>>0,G||I(this,T,L,2,65535,0),this[L]=T>>>8,this[L+1]=T&255,L+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(T,L,G){return T=+T,L=L>>>0,G||I(this,T,L,4,4294967295,0),this[L+3]=T>>>24,this[L+2]=T>>>16,this[L+1]=T>>>8,this[L]=T&255,L+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(T,L,G){return T=+T,L=L>>>0,G||I(this,T,L,4,4294967295,0),this[L]=T>>>24,this[L+1]=T>>>16,this[L+2]=T>>>8,this[L+3]=T&255,L+4};function $(q,T,L,G,re){se(T,G,re,q,L,7);let fe=Number(T&BigInt(4294967295));q[L++]=fe,fe=fe>>8,q[L++]=fe,fe=fe>>8,q[L++]=fe,fe=fe>>8,q[L++]=fe;let oe=Number(T>>BigInt(32)&BigInt(4294967295));return q[L++]=oe,oe=oe>>8,q[L++]=oe,oe=oe>>8,q[L++]=oe,oe=oe>>8,q[L++]=oe,L}function Z(q,T,L,G,re){se(T,G,re,q,L,7);let fe=Number(T&BigInt(4294967295));q[L+7]=fe,fe=fe>>8,q[L+6]=fe,fe=fe>>8,q[L+5]=fe,fe=fe>>8,q[L+4]=fe;let oe=Number(T>>BigInt(32)&BigInt(4294967295));return q[L+3]=oe,oe=oe>>8,q[L+2]=oe,oe=oe>>8,q[L+1]=oe,oe=oe>>8,q[L]=oe,L+8}a.prototype.writeBigUInt64LE=Ie(function(T,L=0){return $(this,T,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ie(function(T,L=0){return Z(this,T,L,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(T,L,G,re){if(T=+T,L=L>>>0,!re){const Ge=Math.pow(2,8*G-1);I(this,T,L,G,Ge-1,-Ge)}let fe=0,oe=1,we=0;for(this[L]=T&255;++fe<G&&(oe*=256);)T<0&&we===0&&this[L+fe-1]!==0&&(we=1),this[L+fe]=(T/oe>>0)-we&255;return L+G},a.prototype.writeIntBE=function(T,L,G,re){if(T=+T,L=L>>>0,!re){const Ge=Math.pow(2,8*G-1);I(this,T,L,G,Ge-1,-Ge)}let fe=G-1,oe=1,we=0;for(this[L+fe]=T&255;--fe>=0&&(oe*=256);)T<0&&we===0&&this[L+fe+1]!==0&&(we=1),this[L+fe]=(T/oe>>0)-we&255;return L+G},a.prototype.writeInt8=function(T,L,G){return T=+T,L=L>>>0,G||I(this,T,L,1,127,-128),T<0&&(T=255+T+1),this[L]=T&255,L+1},a.prototype.writeInt16LE=function(T,L,G){return T=+T,L=L>>>0,G||I(this,T,L,2,32767,-32768),this[L]=T&255,this[L+1]=T>>>8,L+2},a.prototype.writeInt16BE=function(T,L,G){return T=+T,L=L>>>0,G||I(this,T,L,2,32767,-32768),this[L]=T>>>8,this[L+1]=T&255,L+2},a.prototype.writeInt32LE=function(T,L,G){return T=+T,L=L>>>0,G||I(this,T,L,4,2147483647,-2147483648),this[L]=T&255,this[L+1]=T>>>8,this[L+2]=T>>>16,this[L+3]=T>>>24,L+4},a.prototype.writeInt32BE=function(T,L,G){return T=+T,L=L>>>0,G||I(this,T,L,4,2147483647,-2147483648),T<0&&(T=4294967295+T+1),this[L]=T>>>24,this[L+1]=T>>>16,this[L+2]=T>>>8,this[L+3]=T&255,L+4},a.prototype.writeBigInt64LE=Ie(function(T,L=0){return $(this,T,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ie(function(T,L=0){return Z(this,T,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function O(q,T,L,G,re,fe){if(L+G>q.length)throw new RangeError("Index out of range");if(L<0)throw new RangeError("Index out of range")}function Q(q,T,L,G,re){return T=+T,L=L>>>0,re||O(q,T,L,4),r.write(q,T,L,G,23,4),L+4}a.prototype.writeFloatLE=function(T,L,G){return Q(this,T,L,!0,G)},a.prototype.writeFloatBE=function(T,L,G){return Q(this,T,L,!1,G)};function Y(q,T,L,G,re){return T=+T,L=L>>>0,re||O(q,T,L,8),r.write(q,T,L,G,52,8),L+8}a.prototype.writeDoubleLE=function(T,L,G){return Y(this,T,L,!0,G)},a.prototype.writeDoubleBE=function(T,L,G){return Y(this,T,L,!1,G)},a.prototype.copy=function(T,L,G,re){if(!a.isBuffer(T))throw new TypeError("argument should be a Buffer");if(G||(G=0),!re&&re!==0&&(re=this.length),L>=T.length&&(L=T.length),L||(L=0),re>0&&re<G&&(re=G),re===G||T.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(re<0)throw new RangeError("sourceEnd out of bounds");re>this.length&&(re=this.length),T.length-L<re-G&&(re=T.length-L+G);const fe=re-G;return this===T&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(L,G,re):Uint8Array.prototype.set.call(T,this.subarray(G,re),L),fe},a.prototype.fill=function(T,L,G,re){if(typeof T=="string"){if(typeof L=="string"?(re=L,L=0,G=this.length):typeof G=="string"&&(re=G,G=this.length),re!==void 0&&typeof re!="string")throw new TypeError("encoding must be a string");if(typeof re=="string"&&!a.isEncoding(re))throw new TypeError("Unknown encoding: "+re);if(T.length===1){const oe=T.charCodeAt(0);(re==="utf8"&&oe<128||re==="latin1")&&(T=oe)}}else typeof T=="number"?T=T&255:typeof T=="boolean"&&(T=Number(T));if(L<0||this.length<L||this.length<G)throw new RangeError("Out of range index");if(G<=L)return this;L=L>>>0,G=G===void 0?this.length:G>>>0,T||(T=0);let fe;if(typeof T=="number")for(fe=L;fe<G;++fe)this[fe]=T;else{const oe=a.isBuffer(T)?T:a.from(T,re),we=oe.length;if(we===0)throw new TypeError('The value "'+T+'" is invalid for argument "value"');for(fe=0;fe<G-L;++fe)this[fe+L]=oe[fe%we]}return this};const X={};function J(q,T,L){X[q]=class extends L{constructor(){super(),Object.defineProperty(this,"message",{value:T.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${q}]`,this.stack,delete this.name}get code(){return q}set code(re){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:re,writable:!0})}toString(){return`${this.name} [${q}]: ${this.message}`}}}J("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?`${q} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),J("ERR_INVALID_ARG_TYPE",function(q,T){return`The "${q}" argument must be of type number. Received type ${typeof T}`},TypeError),J("ERR_OUT_OF_RANGE",function(q,T,L){let G=`The value of "${q}" is out of range.`,re=L;return Number.isInteger(L)&&Math.abs(L)>2**32?re=N(String(L)):typeof L=="bigint"&&(re=String(L),(L>BigInt(2)**BigInt(32)||L<-(BigInt(2)**BigInt(32)))&&(re=N(re)),re+="n"),G+=` It must be ${T}. Received ${re}`,G},RangeError);function N(q){let T="",L=q.length;const G=q[0]==="-"?1:0;for(;L>=G+4;L-=3)T=`_${q.slice(L-3,L)}${T}`;return`${q.slice(0,L)}${T}`}function ee(q,T,L){le(T,"offset"),(q[T]===void 0||q[T+L]===void 0)&&Ee(T,q.length-(L+1))}function se(q,T,L,G,re,fe){if(q>L||q<T){const oe=typeof T=="bigint"?"n":"";let we;throw T===0||T===BigInt(0)?we=`>= 0${oe} and < 2${oe} ** ${(fe+1)*8}${oe}`:we=`>= -(2${oe} ** ${(fe+1)*8-1}${oe}) and < 2 ** ${(fe+1)*8-1}${oe}`,new X.ERR_OUT_OF_RANGE("value",we,q)}ee(G,re,fe)}function le(q,T){if(typeof q!="number")throw new X.ERR_INVALID_ARG_TYPE(T,"number",q)}function Ee(q,T,L){throw Math.floor(q)!==q?(le(q,L),new X.ERR_OUT_OF_RANGE("offset","an integer",q)):T<0?new X.ERR_BUFFER_OUT_OF_BOUNDS:new X.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${T}`,q)}const ye=/[^+/0-9A-Za-z-_]/g;function Be(q){if(q=q.split("=")[0],q=q.trim().replace(ye,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function bt(q,T){T=T||1/0;let L;const G=q.length;let re=null;const fe=[];for(let oe=0;oe<G;++oe){if(L=q.charCodeAt(oe),L>55295&&L<57344){if(!re){if(L>56319){(T-=3)>-1&&fe.push(239,191,189);continue}else if(oe+1===G){(T-=3)>-1&&fe.push(239,191,189);continue}re=L;continue}if(L<56320){(T-=3)>-1&&fe.push(239,191,189),re=L;continue}L=(re-55296<<10|L-56320)+65536}else re&&(T-=3)>-1&&fe.push(239,191,189);if(re=null,L<128){if((T-=1)<0)break;fe.push(L)}else if(L<2048){if((T-=2)<0)break;fe.push(L>>6|192,L&63|128)}else if(L<65536){if((T-=3)<0)break;fe.push(L>>12|224,L>>6&63|128,L&63|128)}else if(L<1114112){if((T-=4)<0)break;fe.push(L>>18|240,L>>12&63|128,L>>6&63|128,L&63|128)}else throw new Error("Invalid code point")}return fe}function ke(q){const T=[];for(let L=0;L<q.length;++L)T.push(q.charCodeAt(L)&255);return T}function Ke(q,T){let L,G,re;const fe=[];for(let oe=0;oe<q.length&&!((T-=2)<0);++oe)L=q.charCodeAt(oe),G=L>>8,re=L%256,fe.push(re),fe.push(G);return fe}function dt(q){return e.toByteArray(Be(q))}function _e(q,T,L,G){let re;for(re=0;re<G&&!(re+L>=T.length||re>=q.length);++re)T[re+L]=q[re];return re}function Ae(q,T){return q instanceof T||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===T.name}function ot(q){return q!==q}const xe=function(){const q="0123456789abcdef",T=new Array(256);for(let L=0;L<16;++L){const G=L*16;for(let re=0;re<16;++re)T[G+re]=q[L]+q[re]}return T}();function Ie(q){return typeof BigInt>"u"?it:q}function it(){throw new Error("BigInt not supported")}})(Lt);var D7={exports:{}},yn=D7.exports={},qo,Ko;function Ly(){throw new Error("setTimeout has not been defined")}function $y(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?qo=setTimeout:qo=Ly}catch{qo=Ly}try{typeof clearTimeout=="function"?Ko=clearTimeout:Ko=$y}catch{Ko=$y}})();function L7(t){if(qo===setTimeout)return setTimeout(t,0);if((qo===Ly||!qo)&&setTimeout)return qo=setTimeout,setTimeout(t,0);try{return qo(t,0)}catch{try{return qo.call(null,t,0)}catch{return qo.call(this,t,0)}}}function KP(t){if(Ko===clearTimeout)return clearTimeout(t);if((Ko===$y||!Ko)&&clearTimeout)return Ko=clearTimeout,clearTimeout(t);try{return Ko(t)}catch{try{return Ko.call(null,t)}catch{return Ko.call(this,t)}}}var Da=[],ed=!1,kf,Ap=-1;function jP(){!ed||!kf||(ed=!1,kf.length?Da=kf.concat(Da):Ap=-1,Da.length&&$7())}function $7(){if(!ed){var t=L7(jP);ed=!0;for(var e=Da.length;e;){for(kf=Da,Da=[];++Ap<e;)kf&&kf[Ap].run();Ap=-1,e=Da.length}kf=null,ed=!1,KP(t)}}yn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Da.push(new U7(t,e)),Da.length===1&&!ed&&L7($7)};function U7(t,e){this.fun=t,this.array=e}U7.prototype.run=function(){this.fun.apply(null,this.array)};yn.title="browser";yn.browser=!0;yn.env={};yn.argv=[];yn.version="";yn.versions={};function Qa(){}yn.on=Qa;yn.addListener=Qa;yn.once=Qa;yn.off=Qa;yn.removeListener=Qa;yn.removeAllListeners=Qa;yn.emit=Qa;yn.prependListener=Qa;yn.prependOnceListener=Qa;yn.listeners=function(t){return[]};yn.binding=function(t){throw new Error("process.binding is not supported")};yn.cwd=function(){return"/"};yn.chdir=function(t){throw new Error("process.chdir is not supported")};yn.umask=function(){return 0};var WP=D7.exports;const HP=ci(WP);window.Buffer=Lt.Buffer;window.process=HP;var z7={exports:{}},vg={},F7={exports:{}},ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=Symbol.for("react.element"),VP=Symbol.for("react.portal"),GP=Symbol.for("react.fragment"),YP=Symbol.for("react.strict_mode"),JP=Symbol.for("react.profiler"),XP=Symbol.for("react.provider"),ZP=Symbol.for("react.context"),QP=Symbol.for("react.forward_ref"),ek=Symbol.for("react.suspense"),tk=Symbol.for("react.memo"),rk=Symbol.for("react.lazy"),Pw=Symbol.iterator;function nk(t){return t===null||typeof t!="object"?null:(t=Pw&&t[Pw]||t["@@iterator"],typeof t=="function"?t:null)}var q7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K7=Object.assign,j7={};function Fd(t,e,r){this.props=t,this.context=e,this.refs=j7,this.updater=r||q7}Fd.prototype.isReactComponent={};Fd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Fd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W7(){}W7.prototype=Fd.prototype;function z2(t,e,r){this.props=t,this.context=e,this.refs=j7,this.updater=r||q7}var F2=z2.prototype=new W7;F2.constructor=z2;K7(F2,Fd.prototype);F2.isPureReactComponent=!0;var kw=Array.isArray,H7=Object.prototype.hasOwnProperty,q2={current:null},V7={key:!0,ref:!0,__self:!0,__source:!0};function G7(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)H7.call(e,n)&&!V7.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:i0,type:t,key:s,ref:o,props:i,_owner:q2.current}}function ik(t,e){return{$$typeof:i0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function K2(t){return typeof t=="object"&&t!==null&&t.$$typeof===i0}function sk(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Rw=/\/+/g;function Jb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sk(""+t.key):e.toString(36)}function Ip(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case i0:case VP:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Jb(o,0):n,kw(i)?(r="",t!=null&&(r=t.replace(Rw,"$&/")+"/"),Ip(i,e,r,"",function(l){return l})):i!=null&&(K2(i)&&(i=ik(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Rw,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",kw(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+Jb(s,a);o+=Ip(s,e,r,c,i)}else if(c=nk(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+Jb(s,a++),o+=Ip(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function z0(t,e,r){if(t==null)return t;var n=[],i=0;return Ip(t,n,"","",function(s){return e.call(r,s,i++)}),n}function ok(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var qi={current:null},Mp={transition:null},ak={ReactCurrentDispatcher:qi,ReactCurrentBatchConfig:Mp,ReactCurrentOwner:q2};function Y7(){throw Error("act(...) is not supported in production builds of React.")}ir.Children={map:z0,forEach:function(t,e,r){z0(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return z0(t,function(){e++}),e},toArray:function(t){return z0(t,function(e){return e})||[]},only:function(t){if(!K2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ir.Component=Fd;ir.Fragment=GP;ir.Profiler=JP;ir.PureComponent=z2;ir.StrictMode=YP;ir.Suspense=ek;ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ak;ir.act=Y7;ir.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=K7({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=q2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)H7.call(e,c)&&!V7.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:i0,type:t.type,key:i,ref:s,props:n,_owner:o}};ir.createContext=function(t){return t={$$typeof:ZP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:XP,_context:t},t.Consumer=t};ir.createElement=G7;ir.createFactory=function(t){var e=G7.bind(null,t);return e.type=t,e};ir.createRef=function(){return{current:null}};ir.forwardRef=function(t){return{$$typeof:QP,render:t}};ir.isValidElement=K2;ir.lazy=function(t){return{$$typeof:rk,_payload:{_status:-1,_result:t},_init:ok}};ir.memo=function(t,e){return{$$typeof:tk,type:t,compare:e===void 0?null:e}};ir.startTransition=function(t){var e=Mp.transition;Mp.transition={};try{t()}finally{Mp.transition=e}};ir.unstable_act=Y7;ir.useCallback=function(t,e){return qi.current.useCallback(t,e)};ir.useContext=function(t){return qi.current.useContext(t)};ir.useDebugValue=function(){};ir.useDeferredValue=function(t){return qi.current.useDeferredValue(t)};ir.useEffect=function(t,e){return qi.current.useEffect(t,e)};ir.useId=function(){return qi.current.useId()};ir.useImperativeHandle=function(t,e,r){return qi.current.useImperativeHandle(t,e,r)};ir.useInsertionEffect=function(t,e){return qi.current.useInsertionEffect(t,e)};ir.useLayoutEffect=function(t,e){return qi.current.useLayoutEffect(t,e)};ir.useMemo=function(t,e){return qi.current.useMemo(t,e)};ir.useReducer=function(t,e,r){return qi.current.useReducer(t,e,r)};ir.useRef=function(t){return qi.current.useRef(t)};ir.useState=function(t){return qi.current.useState(t)};ir.useSyncExternalStore=function(t,e,r){return qi.current.useSyncExternalStore(t,e,r)};ir.useTransition=function(){return qi.current.useTransition()};ir.version="18.3.1";F7.exports=ir;var td=F7.exports;const ck=ci(td);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fk=td,uk=Symbol.for("react.element"),dk=Symbol.for("react.fragment"),lk=Object.prototype.hasOwnProperty,hk=fk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pk={key:!0,ref:!0,__self:!0,__source:!0};function J7(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)lk.call(e,n)&&!pk.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:uk,type:t,key:s,ref:o,props:i,_owner:hk.current}}vg.Fragment=dk;vg.jsx=J7;vg.jsxs=J7;z7.exports=vg;var Mr=z7.exports,Uy={},X7={exports:{}},ws={},Z7={exports:{}},Q7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(S,y){var u=S.length;S.push(y);e:for(;0<u;){var m=u-1>>>1,I=S[m];if(0<i(I,y))S[m]=y,S[u]=I,u=m;else break e}}function r(S){return S.length===0?null:S[0]}function n(S){if(S.length===0)return null;var y=S[0],u=S.pop();if(u!==y){S[0]=u;e:for(var m=0,I=S.length,$=I>>>1;m<$;){var Z=2*(m+1)-1,O=S[Z],Q=Z+1,Y=S[Q];if(0>i(O,u))Q<I&&0>i(Y,O)?(S[m]=Y,S[Q]=u,m=Q):(S[m]=O,S[Z]=u,m=Z);else if(Q<I&&0>i(Y,u))S[m]=Y,S[Q]=u,m=Q;else break e}}return y}function i(S,y){var u=S.sortIndex-y.sortIndex;return u!==0?u:S.id-y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],g=1,b=null,x=3,_=!1,E=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(S){for(var y=r(l);y!==null;){if(y.callback===null)n(l);else if(y.startTime<=S)n(l),y.sortIndex=y.expirationTime,e(c,y);else break;y=r(l)}}function U(S){if(M=!1,D(S),!E)if(r(c)!==null)E=!0,v(F);else{var y=r(l);y!==null&&w(U,y.startTime-S)}}function F(S,y){E=!1,M&&(M=!1,P(K),K=-1),_=!0;var u=x;try{for(D(y),b=r(c);b!==null&&(!(b.expirationTime>y)||S&&!A());){var m=b.callback;if(typeof m=="function"){b.callback=null,x=b.priorityLevel;var I=m(b.expirationTime<=y);y=t.unstable_now(),typeof I=="function"?b.callback=I:b===r(c)&&n(c),D(y)}else n(c);b=r(c)}if(b!==null)var $=!0;else{var Z=r(l);Z!==null&&w(U,Z.startTime-y),$=!1}return $}finally{b=null,x=u,_=!1}}var W=!1,k=null,K=-1,te=5,ce=-1;function A(){return!(t.unstable_now()-ce<te)}function f(){if(k!==null){var S=t.unstable_now();ce=S;var y=!0;try{y=k(!0,S)}finally{y?h():(W=!1,k=null)}}else W=!1}var h;if(typeof R=="function")h=function(){R(f)};else if(typeof MessageChannel<"u"){var d=new MessageChannel,p=d.port2;d.port1.onmessage=f,h=function(){p.postMessage(null)}}else h=function(){B(f,0)};function v(S){k=S,W||(W=!0,h())}function w(S,y){K=B(function(){S(t.unstable_now())},y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_continueExecution=function(){E||_||(E=!0,v(F))},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(S){switch(x){case 1:case 2:case 3:var y=3;break;default:y=x}var u=x;x=y;try{return S()}finally{x=u}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(S,y){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var u=x;x=S;try{return y()}finally{x=u}},t.unstable_scheduleCallback=function(S,y,u){var m=t.unstable_now();switch(typeof u=="object"&&u!==null?(u=u.delay,u=typeof u=="number"&&0<u?m+u:m):u=m,S){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=u+I,S={id:g++,callback:y,priorityLevel:S,startTime:u,expirationTime:I,sortIndex:-1},u>m?(S.sortIndex=u,e(l,S),r(c)===null&&S===r(l)&&(M?(P(K),K=-1):M=!0,w(U,u-m))):(S.sortIndex=I,e(c,S),E||_||(E=!0,v(F))),S},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(S){var y=x;return function(){var u=x;x=y;try{return S.apply(this,arguments)}finally{x=u}}}})(Q7);Z7.exports=Q7;var gk=Z7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bk=td,ms=gk;function Xe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ex=new Set,mh={};function cu(t,e){vd(t,e),vd(t+"Capture",e)}function vd(t,e){for(mh[t]=e,t=0;t<e.length;t++)ex.add(e[t])}var Va=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zy=Object.prototype.hasOwnProperty,vk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Cw={},Tw={};function yk(t){return zy.call(Tw,t)?!0:zy.call(Cw,t)?!1:vk.test(t)?Tw[t]=!0:(Cw[t]=!0,!1)}function mk(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wk(t,e,r,n){if(e===null||typeof e>"u"||mk(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ki(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ai={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ai[t]=new Ki(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ai[e]=new Ki(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ai[t]=new Ki(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ai[t]=new Ki(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ai[t]=new Ki(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ai[t]=new Ki(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ai[t]=new Ki(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ai[t]=new Ki(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ai[t]=new Ki(t,5,!1,t.toLowerCase(),null,!1,!1)});var j2=/[\-:]([a-z])/g;function W2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(j2,W2);ai[e]=new Ki(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(j2,W2);ai[e]=new Ki(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(j2,W2);ai[e]=new Ki(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ai[t]=new Ki(t,1,!1,t.toLowerCase(),null,!1,!1)});ai.xlinkHref=new Ki("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ai[t]=new Ki(t,1,!1,t.toLowerCase(),null,!0,!0)});function H2(t,e,r,n){var i=ai.hasOwnProperty(e)?ai[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wk(e,r,i,n)&&(r=null),n||i===null?yk(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ec=bk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,F0=Symbol.for("react.element"),Du=Symbol.for("react.portal"),Lu=Symbol.for("react.fragment"),V2=Symbol.for("react.strict_mode"),Fy=Symbol.for("react.profiler"),tx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),G2=Symbol.for("react.forward_ref"),qy=Symbol.for("react.suspense"),Ky=Symbol.for("react.suspense_list"),Y2=Symbol.for("react.memo"),gc=Symbol.for("react.lazy"),nx=Symbol.for("react.offscreen"),Nw=Symbol.iterator;function xl(t){return t===null||typeof t!="object"?null:(t=Nw&&t[Nw]||t["@@iterator"],typeof t=="function"?t:null)}var nn=Object.assign,Xb;function Jl(t){if(Xb===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Xb=e&&e[1]||""}return`
`+Xb+t}var Zb=!1;function Qb(t,e){if(!t||Zb)return"";Zb=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var n=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){n=l}t.call(e.prototype)}else{try{throw Error()}catch(l){n=l}t()}}catch(l){if(l&&n&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Zb=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Jl(t):""}function xk(t){switch(t.tag){case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 2:case 15:return t=Qb(t.type,!1),t;case 11:return t=Qb(t.type.render,!1),t;case 1:return t=Qb(t.type,!0),t;default:return""}}function jy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lu:return"Fragment";case Du:return"Portal";case Fy:return"Profiler";case V2:return"StrictMode";case qy:return"Suspense";case Ky:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case rx:return(t.displayName||"Context")+".Consumer";case tx:return(t._context.displayName||"Context")+".Provider";case G2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y2:return e=t.displayName||null,e!==null?e:jy(t.type)||"Memo";case gc:e=t._payload,t=t._init;try{return jy(t(e))}catch{}}return null}function _k(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jy(e);case 8:return e===V2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ix(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sk(t){var e=ix(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function q0(t){t._valueTracker||(t._valueTracker=Sk(t))}function sx(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ix(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function c1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wy(t,e){var r=e.checked;return nn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ow(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Hc(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ox(t,e){e=e.checked,e!=null&&H2(t,"checked",e,!1)}function Hy(t,e){ox(t,e);var r=Hc(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vy(t,e.type,r):e.hasOwnProperty("defaultValue")&&Vy(t,e.type,Hc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bw(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Vy(t,e,r){(e!=="number"||c1(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Xl=Array.isArray;function rd(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Hc(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Xe(91));return nn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dw(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Xe(92));if(Xl(r)){if(1<r.length)throw Error(Xe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Hc(r)}}function ax(t,e){var r=Hc(e.value),n=Hc(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Lw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function cx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?cx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var K0,fx=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(K0=K0||document.createElement("div"),K0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=K0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var ih={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ek=["Webkit","ms","Moz","O"];Object.keys(ih).forEach(function(t){Ek.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ih[e]=ih[t]})});function ux(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||ih.hasOwnProperty(t)&&ih[t]?(""+e).trim():e+"px"}function dx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=ux(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Ak=nn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jy(t,e){if(e){if(Ak[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Xe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Xe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Xe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Xe(62))}}function Xy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zy=null;function J2(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qy=null,nd=null,id=null;function $w(t){if(t=a0(t)){if(typeof Qy!="function")throw Error(Xe(280));var e=t.stateNode;e&&(e=_g(e),Qy(t.stateNode,t.type,e))}}function lx(t){nd?id?id.push(t):id=[t]:nd=t}function hx(){if(nd){var t=nd,e=id;if(id=nd=null,$w(t),e)for(t=0;t<e.length;t++)$w(e[t])}}function px(t,e){return t(e)}function gx(){}var ev=!1;function bx(t,e,r){if(ev)return t(e,r);ev=!0;try{return px(t,e,r)}finally{ev=!1,(nd!==null||id!==null)&&(gx(),hx())}}function xh(t,e){var r=t.stateNode;if(r===null)return null;var n=_g(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Xe(231,e,typeof r));return r}var em=!1;if(Va)try{var _l={};Object.defineProperty(_l,"passive",{get:function(){em=!0}}),window.addEventListener("test",_l,_l),window.removeEventListener("test",_l,_l)}catch{em=!1}function Ik(t,e,r,n,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(r,l)}catch(g){this.onError(g)}}var sh=!1,f1=null,u1=!1,tm=null,Mk={onError:function(t){sh=!0,f1=t}};function Pk(t,e,r,n,i,s,o,a,c){sh=!1,f1=null,Ik.apply(Mk,arguments)}function kk(t,e,r,n,i,s,o,a,c){if(Pk.apply(this,arguments),sh){if(sh){var l=f1;sh=!1,f1=null}else throw Error(Xe(198));u1||(u1=!0,tm=l)}}function fu(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function vx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Uw(t){if(fu(t)!==t)throw Error(Xe(188))}function Rk(t){var e=t.alternate;if(!e){if(e=fu(t),e===null)throw Error(Xe(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Uw(i),t;if(s===n)return Uw(i),e;s=s.sibling}throw Error(Xe(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(Xe(189))}}if(r.alternate!==n)throw Error(Xe(190))}if(r.tag!==3)throw Error(Xe(188));return r.stateNode.current===r?t:e}function yx(t){return t=Rk(t),t!==null?mx(t):null}function mx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mx(t);if(e!==null)return e;t=t.sibling}return null}var wx=ms.unstable_scheduleCallback,zw=ms.unstable_cancelCallback,Ck=ms.unstable_shouldYield,Tk=ms.unstable_requestPaint,vn=ms.unstable_now,Nk=ms.unstable_getCurrentPriorityLevel,X2=ms.unstable_ImmediatePriority,xx=ms.unstable_UserBlockingPriority,d1=ms.unstable_NormalPriority,Ok=ms.unstable_LowPriority,_x=ms.unstable_IdlePriority,yg=null,Jo=null;function Bk(t){if(Jo&&typeof Jo.onCommitFiberRoot=="function")try{Jo.onCommitFiberRoot(yg,t,void 0,(t.current.flags&128)===128)}catch{}}var Eo=Math.clz32?Math.clz32:$k,Dk=Math.log,Lk=Math.LN2;function $k(t){return t>>>=0,t===0?32:31-(Dk(t)/Lk|0)|0}var j0=64,W0=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function l1(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Zl(a):(s&=o,s!==0&&(n=Zl(s)))}else o=r&~i,o!==0?n=Zl(o):s!==0&&(n=Zl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Eo(e),i=1<<r,n|=t[r],e&=~i;return n}function Uk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zk(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Eo(s),a=1<<o,c=i[o];c===-1?(!(a&r)||a&n)&&(i[o]=Uk(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function rm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Sx(){var t=j0;return j0<<=1,!(j0&4194240)&&(j0=64),t}function tv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function s0(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Eo(e),t[e]=r}function Fk(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Eo(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Z2(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Eo(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Er=0;function Ex(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ax,Q2,Ix,Mx,Px,nm=!1,H0=[],Oc=null,Bc=null,Dc=null,_h=new Map,Sh=new Map,xc=[],qk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fw(t,e){switch(t){case"focusin":case"focusout":Oc=null;break;case"dragenter":case"dragleave":Bc=null;break;case"mouseover":case"mouseout":Dc=null;break;case"pointerover":case"pointerout":_h.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sh.delete(e.pointerId)}}function Sl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=a0(e),e!==null&&Q2(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Kk(t,e,r,n,i){switch(e){case"focusin":return Oc=Sl(Oc,t,e,r,n,i),!0;case"dragenter":return Bc=Sl(Bc,t,e,r,n,i),!0;case"mouseover":return Dc=Sl(Dc,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return _h.set(s,Sl(_h.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Sh.set(s,Sl(Sh.get(s)||null,t,e,r,n,i)),!0}return!1}function kx(t){var e=Rf(t.target);if(e!==null){var r=fu(e);if(r!==null){if(e=r.tag,e===13){if(e=vx(r),e!==null){t.blockedOn=e,Px(t.priority,function(){Ix(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pp(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=im(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Zy=n,r.target.dispatchEvent(n),Zy=null}else return e=a0(r),e!==null&&Q2(e),t.blockedOn=r,!1;e.shift()}return!0}function qw(t,e,r){Pp(t)&&r.delete(e)}function jk(){nm=!1,Oc!==null&&Pp(Oc)&&(Oc=null),Bc!==null&&Pp(Bc)&&(Bc=null),Dc!==null&&Pp(Dc)&&(Dc=null),_h.forEach(qw),Sh.forEach(qw)}function El(t,e){t.blockedOn===e&&(t.blockedOn=null,nm||(nm=!0,ms.unstable_scheduleCallback(ms.unstable_NormalPriority,jk)))}function Eh(t){function e(i){return El(i,t)}if(0<H0.length){El(H0[0],t);for(var r=1;r<H0.length;r++){var n=H0[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Oc!==null&&El(Oc,t),Bc!==null&&El(Bc,t),Dc!==null&&El(Dc,t),_h.forEach(e),Sh.forEach(e),r=0;r<xc.length;r++)n=xc[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<xc.length&&(r=xc[0],r.blockedOn===null);)kx(r),r.blockedOn===null&&xc.shift()}var sd=ec.ReactCurrentBatchConfig,h1=!0;function Wk(t,e,r,n){var i=Er,s=sd.transition;sd.transition=null;try{Er=1,e3(t,e,r,n)}finally{Er=i,sd.transition=s}}function Hk(t,e,r,n){var i=Er,s=sd.transition;sd.transition=null;try{Er=4,e3(t,e,r,n)}finally{Er=i,sd.transition=s}}function e3(t,e,r,n){if(h1){var i=im(t,e,r,n);if(i===null)dv(t,e,n,p1,r),Fw(t,n);else if(Kk(i,t,e,r,n))n.stopPropagation();else if(Fw(t,n),e&4&&-1<qk.indexOf(t)){for(;i!==null;){var s=a0(i);if(s!==null&&Ax(s),s=im(t,e,r,n),s===null&&dv(t,e,n,p1,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else dv(t,e,n,null,r)}}var p1=null;function im(t,e,r,n){if(p1=null,t=J2(n),t=Rf(t),t!==null)if(e=fu(t),e===null)t=null;else if(r=e.tag,r===13){if(t=vx(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return p1=t,null}function Rx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nk()){case X2:return 1;case xx:return 4;case d1:case Ok:return 16;case _x:return 536870912;default:return 16}default:return 16}}var Mc=null,t3=null,kp=null;function Cx(){if(kp)return kp;var t,e=t3,r=e.length,n,i="value"in Mc?Mc.value:Mc.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return kp=i.slice(t,1<n?1-n:void 0)}function Rp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function V0(){return!0}function Kw(){return!1}function xs(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?V0:Kw,this.isPropagationStopped=Kw,this}return nn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=V0)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=V0)},persist:function(){},isPersistent:V0}),e}var qd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},r3=xs(qd),o0=nn({},qd,{view:0,detail:0}),Vk=xs(o0),rv,nv,Al,mg=nn({},o0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:n3,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Al&&(Al&&t.type==="mousemove"?(rv=t.screenX-Al.screenX,nv=t.screenY-Al.screenY):nv=rv=0,Al=t),rv)},movementY:function(t){return"movementY"in t?t.movementY:nv}}),jw=xs(mg),Gk=nn({},mg,{dataTransfer:0}),Yk=xs(Gk),Jk=nn({},o0,{relatedTarget:0}),iv=xs(Jk),Xk=nn({},qd,{animationName:0,elapsedTime:0,pseudoElement:0}),Zk=xs(Xk),Qk=nn({},qd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eR=xs(Qk),tR=nn({},qd,{data:0}),Ww=xs(tR),rR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iR[t])?!!e[t]:!1}function n3(){return sR}var oR=nn({},o0,{key:function(t){if(t.key){var e=rR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:n3,charCode:function(t){return t.type==="keypress"?Rp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aR=xs(oR),cR=nn({},mg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hw=xs(cR),fR=nn({},o0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:n3}),uR=xs(fR),dR=nn({},qd,{propertyName:0,elapsedTime:0,pseudoElement:0}),lR=xs(dR),hR=nn({},mg,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pR=xs(hR),gR=[9,13,27,32],i3=Va&&"CompositionEvent"in window,oh=null;Va&&"documentMode"in document&&(oh=document.documentMode);var bR=Va&&"TextEvent"in window&&!oh,Tx=Va&&(!i3||oh&&8<oh&&11>=oh),Vw=" ",Gw=!1;function Nx(t,e){switch(t){case"keyup":return gR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ox(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $u=!1;function vR(t,e){switch(t){case"compositionend":return Ox(e);case"keypress":return e.which!==32?null:(Gw=!0,Vw);case"textInput":return t=e.data,t===Vw&&Gw?null:t;default:return null}}function yR(t,e){if($u)return t==="compositionend"||!i3&&Nx(t,e)?(t=Cx(),kp=t3=Mc=null,$u=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Tx&&e.locale!=="ko"?null:e.data;default:return null}}var mR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yw(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mR[t.type]:e==="textarea"}function Bx(t,e,r,n){lx(n),e=g1(e,"onChange"),0<e.length&&(r=new r3("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ah=null,Ah=null;function wR(t){Hx(t,0)}function wg(t){var e=Fu(t);if(sx(e))return t}function xR(t,e){if(t==="change")return e}var Dx=!1;if(Va){var sv;if(Va){var ov="oninput"in document;if(!ov){var Jw=document.createElement("div");Jw.setAttribute("oninput","return;"),ov=typeof Jw.oninput=="function"}sv=ov}else sv=!1;Dx=sv&&(!document.documentMode||9<document.documentMode)}function Xw(){ah&&(ah.detachEvent("onpropertychange",Lx),Ah=ah=null)}function Lx(t){if(t.propertyName==="value"&&wg(Ah)){var e=[];Bx(e,Ah,t,J2(t)),bx(wR,e)}}function _R(t,e,r){t==="focusin"?(Xw(),ah=e,Ah=r,ah.attachEvent("onpropertychange",Lx)):t==="focusout"&&Xw()}function SR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wg(Ah)}function ER(t,e){if(t==="click")return wg(e)}function AR(t,e){if(t==="input"||t==="change")return wg(e)}function IR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mo=typeof Object.is=="function"?Object.is:IR;function Ih(t,e){if(Mo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!zy.call(e,i)||!Mo(t[i],e[i]))return!1}return!0}function Zw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qw(t,e){var r=Zw(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Zw(r)}}function $x(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$x(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ux(){for(var t=window,e=c1();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=c1(t.document)}return e}function s3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function MR(t){var e=Ux(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&$x(r.ownerDocument.documentElement,r)){if(n!==null&&s3(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Qw(r,s);var o=Qw(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PR=Va&&"documentMode"in document&&11>=document.documentMode,Uu=null,sm=null,ch=null,om=!1;function e5(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;om||Uu==null||Uu!==c1(n)||(n=Uu,"selectionStart"in n&&s3(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ch&&Ih(ch,n)||(ch=n,n=g1(sm,"onSelect"),0<n.length&&(e=new r3("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Uu)))}function G0(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zu={animationend:G0("Animation","AnimationEnd"),animationiteration:G0("Animation","AnimationIteration"),animationstart:G0("Animation","AnimationStart"),transitionend:G0("Transition","TransitionEnd")},av={},zx={};Va&&(zx=document.createElement("div").style,"AnimationEvent"in window||(delete zu.animationend.animation,delete zu.animationiteration.animation,delete zu.animationstart.animation),"TransitionEvent"in window||delete zu.transitionend.transition);function xg(t){if(av[t])return av[t];if(!zu[t])return t;var e=zu[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in zx)return av[t]=e[r];return t}var Fx=xg("animationend"),qx=xg("animationiteration"),Kx=xg("animationstart"),jx=xg("transitionend"),Wx=new Map,t5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xc(t,e){Wx.set(t,e),cu(e,[t])}for(var cv=0;cv<t5.length;cv++){var fv=t5[cv],kR=fv.toLowerCase(),RR=fv[0].toUpperCase()+fv.slice(1);Xc(kR,"on"+RR)}Xc(Fx,"onAnimationEnd");Xc(qx,"onAnimationIteration");Xc(Kx,"onAnimationStart");Xc("dblclick","onDoubleClick");Xc("focusin","onFocus");Xc("focusout","onBlur");Xc(jx,"onTransitionEnd");vd("onMouseEnter",["mouseout","mouseover"]);vd("onMouseLeave",["mouseout","mouseover"]);vd("onPointerEnter",["pointerout","pointerover"]);vd("onPointerLeave",["pointerout","pointerover"]);cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ql));function r5(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,kk(n,e,void 0,t),t.currentTarget=null}function Hx(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;r5(i,a,l),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;r5(i,a,l),s=c}}}if(u1)throw t=tm,u1=!1,tm=null,t}function Kr(t,e){var r=e[dm];r===void 0&&(r=e[dm]=new Set);var n=t+"__bubble";r.has(n)||(Vx(e,t,2,!1),r.add(n))}function uv(t,e,r){var n=0;e&&(n|=4),Vx(r,t,n,e)}var Y0="_reactListening"+Math.random().toString(36).slice(2);function Mh(t){if(!t[Y0]){t[Y0]=!0,ex.forEach(function(r){r!=="selectionchange"&&(CR.has(r)||uv(r,!1,t),uv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Y0]||(e[Y0]=!0,uv("selectionchange",!1,e))}}function Vx(t,e,r,n){switch(Rx(e)){case 1:var i=Wk;break;case 4:i=Hk;break;default:i=e3}r=i.bind(null,e,r,t),i=void 0,!em||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function dv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Rf(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}bx(function(){var l=s,g=J2(r),b=[];e:{var x=Wx.get(t);if(x!==void 0){var _=r3,E=t;switch(t){case"keypress":if(Rp(r)===0)break e;case"keydown":case"keyup":_=aR;break;case"focusin":E="focus",_=iv;break;case"focusout":E="blur",_=iv;break;case"beforeblur":case"afterblur":_=iv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_=jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_=Yk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_=uR;break;case Fx:case qx:case Kx:_=Zk;break;case jx:_=lR;break;case"scroll":_=Vk;break;case"wheel":_=pR;break;case"copy":case"cut":case"paste":_=eR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_=Hw}var M=(e&4)!==0,B=!M&&t==="scroll",P=M?x!==null?x+"Capture":null:x;M=[];for(var R=l,D;R!==null;){D=R;var U=D.stateNode;if(D.tag===5&&U!==null&&(D=U,P!==null&&(U=xh(R,P),U!=null&&M.push(Ph(R,U,D)))),B)break;R=R.return}0<M.length&&(x=new _(x,E,null,r,g),b.push({event:x,listeners:M}))}}if(!(e&7)){e:{if(x=t==="mouseover"||t==="pointerover",_=t==="mouseout"||t==="pointerout",x&&r!==Zy&&(E=r.relatedTarget||r.fromElement)&&(Rf(E)||E[Ga]))break e;if((_||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,_?(E=r.relatedTarget||r.toElement,_=l,E=E?Rf(E):null,E!==null&&(B=fu(E),E!==B||E.tag!==5&&E.tag!==6)&&(E=null)):(_=null,E=l),_!==E)){if(M=jw,U="onMouseLeave",P="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(M=Hw,U="onPointerLeave",P="onPointerEnter",R="pointer"),B=_==null?x:Fu(_),D=E==null?x:Fu(E),x=new M(U,R+"leave",_,r,g),x.target=B,x.relatedTarget=D,U=null,Rf(g)===l&&(M=new M(P,R+"enter",E,r,g),M.target=D,M.relatedTarget=B,U=M),B=U,_&&E)t:{for(M=_,P=E,R=0,D=M;D;D=Eu(D))R++;for(D=0,U=P;U;U=Eu(U))D++;for(;0<R-D;)M=Eu(M),R--;for(;0<D-R;)P=Eu(P),D--;for(;R--;){if(M===P||P!==null&&M===P.alternate)break t;M=Eu(M),P=Eu(P)}M=null}else M=null;_!==null&&n5(b,x,_,M,!1),E!==null&&B!==null&&n5(b,B,E,M,!0)}}e:{if(x=l?Fu(l):window,_=x.nodeName&&x.nodeName.toLowerCase(),_==="select"||_==="input"&&x.type==="file")var F=xR;else if(Yw(x))if(Dx)F=AR;else{F=SR;var W=_R}else(_=x.nodeName)&&_.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(F=ER);if(F&&(F=F(t,l))){Bx(b,F,r,g);break e}W&&W(t,x,l),t==="focusout"&&(W=x._wrapperState)&&W.controlled&&x.type==="number"&&Vy(x,"number",x.value)}switch(W=l?Fu(l):window,t){case"focusin":(Yw(W)||W.contentEditable==="true")&&(Uu=W,sm=l,ch=null);break;case"focusout":ch=sm=Uu=null;break;case"mousedown":om=!0;break;case"contextmenu":case"mouseup":case"dragend":om=!1,e5(b,r,g);break;case"selectionchange":if(PR)break;case"keydown":case"keyup":e5(b,r,g)}var k;if(i3)e:{switch(t){case"compositionstart":var K="onCompositionStart";break e;case"compositionend":K="onCompositionEnd";break e;case"compositionupdate":K="onCompositionUpdate";break e}K=void 0}else $u?Nx(t,r)&&(K="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(K="onCompositionStart");K&&(Tx&&r.locale!=="ko"&&($u||K!=="onCompositionStart"?K==="onCompositionEnd"&&$u&&(k=Cx()):(Mc=g,t3="value"in Mc?Mc.value:Mc.textContent,$u=!0)),W=g1(l,K),0<W.length&&(K=new Ww(K,t,null,r,g),b.push({event:K,listeners:W}),k?K.data=k:(k=Ox(r),k!==null&&(K.data=k)))),(k=bR?vR(t,r):yR(t,r))&&(l=g1(l,"onBeforeInput"),0<l.length&&(g=new Ww("onBeforeInput","beforeinput",null,r,g),b.push({event:g,listeners:l}),g.data=k))}Hx(b,e)})}function Ph(t,e,r){return{instance:t,listener:e,currentTarget:r}}function g1(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xh(t,r),s!=null&&n.unshift(Ph(t,s,i)),s=xh(t,e),s!=null&&n.push(Ph(t,s,i))),t=t.return}return n}function Eu(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function n5(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&l!==null&&(a=l,i?(c=xh(r,s),c!=null&&o.unshift(Ph(r,c,a))):i||(c=xh(r,s),c!=null&&o.push(Ph(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var TR=/\r\n?/g,NR=/\u0000|\uFFFD/g;function i5(t){return(typeof t=="string"?t:""+t).replace(TR,`
`).replace(NR,"")}function J0(t,e,r){if(e=i5(e),i5(t)!==e&&r)throw Error(Xe(425))}function b1(){}var am=null,cm=null;function fm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var um=typeof setTimeout=="function"?setTimeout:void 0,OR=typeof clearTimeout=="function"?clearTimeout:void 0,s5=typeof Promise=="function"?Promise:void 0,BR=typeof queueMicrotask=="function"?queueMicrotask:typeof s5<"u"?function(t){return s5.resolve(null).then(t).catch(DR)}:um;function DR(t){setTimeout(function(){throw t})}function lv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Eh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Eh(e)}function Lc(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function o5(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Kd=Math.random().toString(36).slice(2),Ho="__reactFiber$"+Kd,kh="__reactProps$"+Kd,Ga="__reactContainer$"+Kd,dm="__reactEvents$"+Kd,LR="__reactListeners$"+Kd,$R="__reactHandles$"+Kd;function Rf(t){var e=t[Ho];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ga]||r[Ho]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=o5(t);t!==null;){if(r=t[Ho])return r;t=o5(t)}return e}t=r,r=t.parentNode}return null}function a0(t){return t=t[Ho]||t[Ga],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Xe(33))}function _g(t){return t[kh]||null}var lm=[],qu=-1;function Zc(t){return{current:t}}function Hr(t){0>qu||(t.current=lm[qu],lm[qu]=null,qu--)}function Lr(t,e){qu++,lm[qu]=t.current,t.current=e}var Vc={},Ni=Zc(Vc),ts=Zc(!1),Vf=Vc;function yd(t,e){var r=t.type.contextTypes;if(!r)return Vc;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rs(t){return t=t.childContextTypes,t!=null}function v1(){Hr(ts),Hr(Ni)}function a5(t,e,r){if(Ni.current!==Vc)throw Error(Xe(168));Lr(Ni,e),Lr(ts,r)}function Gx(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Xe(108,_k(t)||"Unknown",i));return nn({},r,n)}function y1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Vc,Vf=Ni.current,Lr(Ni,t),Lr(ts,ts.current),!0}function c5(t,e,r){var n=t.stateNode;if(!n)throw Error(Xe(169));r?(t=Gx(t,e,Vf),n.__reactInternalMemoizedMergedChildContext=t,Hr(ts),Hr(Ni),Lr(Ni,t)):Hr(ts),Lr(ts,r)}var Pa=null,Sg=!1,hv=!1;function Yx(t){Pa===null?Pa=[t]:Pa.push(t)}function UR(t){Sg=!0,Yx(t)}function Qc(){if(!hv&&Pa!==null){hv=!0;var t=0,e=Er;try{var r=Pa;for(Er=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Pa=null,Sg=!1}catch(i){throw Pa!==null&&(Pa=Pa.slice(t+1)),wx(X2,Qc),i}finally{Er=e,hv=!1}}return null}var Ku=[],ju=0,m1=null,w1=0,$s=[],Us=0,Gf=null,La=1,$a="";function xf(t,e){Ku[ju++]=w1,Ku[ju++]=m1,m1=t,w1=e}function Jx(t,e,r){$s[Us++]=La,$s[Us++]=$a,$s[Us++]=Gf,Gf=t;var n=La;t=$a;var i=32-Eo(n)-1;n&=~(1<<i),r+=1;var s=32-Eo(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,La=1<<32-Eo(e)+i|r<<i|n,$a=s+t}else La=1<<s|r<<i|n,$a=t}function o3(t){t.return!==null&&(xf(t,1),Jx(t,1,0))}function a3(t){for(;t===m1;)m1=Ku[--ju],Ku[ju]=null,w1=Ku[--ju],Ku[ju]=null;for(;t===Gf;)Gf=$s[--Us],$s[Us]=null,$a=$s[--Us],$s[Us]=null,La=$s[--Us],$s[Us]=null}var ys=null,gs=null,Xr=!1,xo=null;function Xx(t,e){var r=Ks(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function f5(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ys=t,gs=Lc(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ys=t,gs=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Gf!==null?{id:La,overflow:$a}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ks(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,ys=t,gs=null,!0):!1;default:return!1}}function hm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function pm(t){if(Xr){var e=gs;if(e){var r=e;if(!f5(t,e)){if(hm(t))throw Error(Xe(418));e=Lc(r.nextSibling);var n=ys;e&&f5(t,e)?Xx(n,r):(t.flags=t.flags&-4097|2,Xr=!1,ys=t)}}else{if(hm(t))throw Error(Xe(418));t.flags=t.flags&-4097|2,Xr=!1,ys=t}}}function u5(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ys=t}function X0(t){if(t!==ys)return!1;if(!Xr)return u5(t),Xr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fm(t.type,t.memoizedProps)),e&&(e=gs)){if(hm(t))throw Zx(),Error(Xe(418));for(;e;)Xx(t,e),e=Lc(e.nextSibling)}if(u5(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Xe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){gs=Lc(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}gs=null}}else gs=ys?Lc(t.stateNode.nextSibling):null;return!0}function Zx(){for(var t=gs;t;)t=Lc(t.nextSibling)}function md(){gs=ys=null,Xr=!1}function c3(t){xo===null?xo=[t]:xo.push(t)}var zR=ec.ReactCurrentBatchConfig;function Il(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Xe(309));var n=r.stateNode}if(!n)throw Error(Xe(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Xe(284));if(!r._owner)throw Error(Xe(290,t))}return t}function Z0(t,e){throw t=Object.prototype.toString.call(e),Error(Xe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function d5(t){var e=t._init;return e(t._payload)}function Qx(t){function e(P,R){if(t){var D=P.deletions;D===null?(P.deletions=[R],P.flags|=16):D.push(R)}}function r(P,R){if(!t)return null;for(;R!==null;)e(P,R),R=R.sibling;return null}function n(P,R){for(P=new Map;R!==null;)R.key!==null?P.set(R.key,R):P.set(R.index,R),R=R.sibling;return P}function i(P,R){return P=Fc(P,R),P.index=0,P.sibling=null,P}function s(P,R,D){return P.index=D,t?(D=P.alternate,D!==null?(D=D.index,D<R?(P.flags|=2,R):D):(P.flags|=2,R)):(P.flags|=1048576,R)}function o(P){return t&&P.alternate===null&&(P.flags|=2),P}function a(P,R,D,U){return R===null||R.tag!==6?(R=wv(D,P.mode,U),R.return=P,R):(R=i(R,D),R.return=P,R)}function c(P,R,D,U){var F=D.type;return F===Lu?g(P,R,D.props.children,U,D.key):R!==null&&(R.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===gc&&d5(F)===R.type)?(U=i(R,D.props),U.ref=Il(P,R,D),U.return=P,U):(U=Lp(D.type,D.key,D.props,null,P.mode,U),U.ref=Il(P,R,D),U.return=P,U)}function l(P,R,D,U){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=xv(D,P.mode,U),R.return=P,R):(R=i(R,D.children||[]),R.return=P,R)}function g(P,R,D,U,F){return R===null||R.tag!==7?(R=$f(D,P.mode,U,F),R.return=P,R):(R=i(R,D),R.return=P,R)}function b(P,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return R=wv(""+R,P.mode,D),R.return=P,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case F0:return D=Lp(R.type,R.key,R.props,null,P.mode,D),D.ref=Il(P,null,R),D.return=P,D;case Du:return R=xv(R,P.mode,D),R.return=P,R;case gc:var U=R._init;return b(P,U(R._payload),D)}if(Xl(R)||xl(R))return R=$f(R,P.mode,D,null),R.return=P,R;Z0(P,R)}return null}function x(P,R,D,U){var F=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return F!==null?null:a(P,R,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case F0:return D.key===F?c(P,R,D,U):null;case Du:return D.key===F?l(P,R,D,U):null;case gc:return F=D._init,x(P,R,F(D._payload),U)}if(Xl(D)||xl(D))return F!==null?null:g(P,R,D,U,null);Z0(P,D)}return null}function _(P,R,D,U,F){if(typeof U=="string"&&U!==""||typeof U=="number")return P=P.get(D)||null,a(R,P,""+U,F);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case F0:return P=P.get(U.key===null?D:U.key)||null,c(R,P,U,F);case Du:return P=P.get(U.key===null?D:U.key)||null,l(R,P,U,F);case gc:var W=U._init;return _(P,R,D,W(U._payload),F)}if(Xl(U)||xl(U))return P=P.get(D)||null,g(R,P,U,F,null);Z0(R,U)}return null}function E(P,R,D,U){for(var F=null,W=null,k=R,K=R=0,te=null;k!==null&&K<D.length;K++){k.index>K?(te=k,k=null):te=k.sibling;var ce=x(P,k,D[K],U);if(ce===null){k===null&&(k=te);break}t&&k&&ce.alternate===null&&e(P,k),R=s(ce,R,K),W===null?F=ce:W.sibling=ce,W=ce,k=te}if(K===D.length)return r(P,k),Xr&&xf(P,K),F;if(k===null){for(;K<D.length;K++)k=b(P,D[K],U),k!==null&&(R=s(k,R,K),W===null?F=k:W.sibling=k,W=k);return Xr&&xf(P,K),F}for(k=n(P,k);K<D.length;K++)te=_(k,P,K,D[K],U),te!==null&&(t&&te.alternate!==null&&k.delete(te.key===null?K:te.key),R=s(te,R,K),W===null?F=te:W.sibling=te,W=te);return t&&k.forEach(function(A){return e(P,A)}),Xr&&xf(P,K),F}function M(P,R,D,U){var F=xl(D);if(typeof F!="function")throw Error(Xe(150));if(D=F.call(D),D==null)throw Error(Xe(151));for(var W=F=null,k=R,K=R=0,te=null,ce=D.next();k!==null&&!ce.done;K++,ce=D.next()){k.index>K?(te=k,k=null):te=k.sibling;var A=x(P,k,ce.value,U);if(A===null){k===null&&(k=te);break}t&&k&&A.alternate===null&&e(P,k),R=s(A,R,K),W===null?F=A:W.sibling=A,W=A,k=te}if(ce.done)return r(P,k),Xr&&xf(P,K),F;if(k===null){for(;!ce.done;K++,ce=D.next())ce=b(P,ce.value,U),ce!==null&&(R=s(ce,R,K),W===null?F=ce:W.sibling=ce,W=ce);return Xr&&xf(P,K),F}for(k=n(P,k);!ce.done;K++,ce=D.next())ce=_(k,P,K,ce.value,U),ce!==null&&(t&&ce.alternate!==null&&k.delete(ce.key===null?K:ce.key),R=s(ce,R,K),W===null?F=ce:W.sibling=ce,W=ce);return t&&k.forEach(function(f){return e(P,f)}),Xr&&xf(P,K),F}function B(P,R,D,U){if(typeof D=="object"&&D!==null&&D.type===Lu&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case F0:e:{for(var F=D.key,W=R;W!==null;){if(W.key===F){if(F=D.type,F===Lu){if(W.tag===7){r(P,W.sibling),R=i(W,D.props.children),R.return=P,P=R;break e}}else if(W.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===gc&&d5(F)===W.type){r(P,W.sibling),R=i(W,D.props),R.ref=Il(P,W,D),R.return=P,P=R;break e}r(P,W);break}else e(P,W);W=W.sibling}D.type===Lu?(R=$f(D.props.children,P.mode,U,D.key),R.return=P,P=R):(U=Lp(D.type,D.key,D.props,null,P.mode,U),U.ref=Il(P,R,D),U.return=P,P=U)}return o(P);case Du:e:{for(W=D.key;R!==null;){if(R.key===W)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){r(P,R.sibling),R=i(R,D.children||[]),R.return=P,P=R;break e}else{r(P,R);break}else e(P,R);R=R.sibling}R=xv(D,P.mode,U),R.return=P,P=R}return o(P);case gc:return W=D._init,B(P,R,W(D._payload),U)}if(Xl(D))return E(P,R,D,U);if(xl(D))return M(P,R,D,U);Z0(P,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,R!==null&&R.tag===6?(r(P,R.sibling),R=i(R,D),R.return=P,P=R):(r(P,R),R=wv(D,P.mode,U),R.return=P,P=R),o(P)):r(P,R)}return B}var wd=Qx(!0),e_=Qx(!1),x1=Zc(null),_1=null,Wu=null,f3=null;function u3(){f3=Wu=_1=null}function d3(t){var e=x1.current;Hr(x1),t._currentValue=e}function gm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function od(t,e){_1=t,f3=Wu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(es=!0),t.firstContext=null)}function Vs(t){var e=t._currentValue;if(f3!==t)if(t={context:t,memoizedValue:e,next:null},Wu===null){if(_1===null)throw Error(Xe(308));Wu=t,_1.dependencies={lanes:0,firstContext:t}}else Wu=Wu.next=t;return e}var Cf=null;function l3(t){Cf===null?Cf=[t]:Cf.push(t)}function t_(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,l3(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ya(t,n)}function Ya(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var bc=!1;function h3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function r_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ka(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function $c(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,br&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ya(t,r)}return i=n.interleaved,i===null?(e.next=e,l3(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ya(t,r)}function Cp(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Z2(t,r)}}function l5(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function S1(t,e,r,n){var i=t.updateQueue;bc=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var g=t.alternate;g!==null&&(g=g.updateQueue,a=g.lastBaseUpdate,a!==o&&(a===null?g.firstBaseUpdate=l:a.next=l,g.lastBaseUpdate=c))}if(s!==null){var b=i.baseState;o=0,g=l=c=null,a=s;do{var x=a.lane,_=a.eventTime;if((n&x)===x){g!==null&&(g=g.next={eventTime:_,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,M=a;switch(x=e,_=r,M.tag){case 1:if(E=M.payload,typeof E=="function"){b=E.call(_,b,x);break e}b=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=M.payload,x=typeof E=="function"?E.call(_,b,x):E,x==null)break e;b=nn({},b,x);break e;case 2:bc=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,x=i.effects,x===null?i.effects=[a]:x.push(a))}else _={eventTime:_,lane:x,tag:a.tag,payload:a.payload,callback:a.callback,next:null},g===null?(l=g=_,c=b):g=g.next=_,o|=x;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;x=a,a=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(g===null&&(c=b),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=g,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Jf|=o,t.lanes=o,t.memoizedState=b}}function h5(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Xe(191,i));i.call(n)}}}var c0={},Xo=Zc(c0),Rh=Zc(c0),Ch=Zc(c0);function Tf(t){if(t===c0)throw Error(Xe(174));return t}function p3(t,e){switch(Lr(Ch,e),Lr(Rh,t),Lr(Xo,c0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yy(e,t)}Hr(Xo),Lr(Xo,e)}function xd(){Hr(Xo),Hr(Rh),Hr(Ch)}function n_(t){Tf(Ch.current);var e=Tf(Xo.current),r=Yy(e,t.type);e!==r&&(Lr(Rh,t),Lr(Xo,r))}function g3(t){Rh.current===t&&(Hr(Xo),Hr(Rh))}var Qr=Zc(0);function E1(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var pv=[];function b3(){for(var t=0;t<pv.length;t++)pv[t]._workInProgressVersionPrimary=null;pv.length=0}var Tp=ec.ReactCurrentDispatcher,gv=ec.ReactCurrentBatchConfig,Yf=0,rn=null,En=null,Ln=null,A1=!1,fh=!1,Th=0,FR=0;function bi(){throw Error(Xe(321))}function v3(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Mo(t[r],e[r]))return!1;return!0}function y3(t,e,r,n,i,s){if(Yf=s,rn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Tp.current=t===null||t.memoizedState===null?WR:HR,t=r(n,i),fh){s=0;do{if(fh=!1,Th=0,25<=s)throw Error(Xe(301));s+=1,Ln=En=null,e.updateQueue=null,Tp.current=VR,t=r(n,i)}while(fh)}if(Tp.current=I1,e=En!==null&&En.next!==null,Yf=0,Ln=En=rn=null,A1=!1,e)throw Error(Xe(300));return t}function m3(){var t=Th!==0;return Th=0,t}function Uo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?rn.memoizedState=Ln=t:Ln=Ln.next=t,Ln}function Gs(){if(En===null){var t=rn.alternate;t=t!==null?t.memoizedState:null}else t=En.next;var e=Ln===null?rn.memoizedState:Ln.next;if(e!==null)Ln=e,En=t;else{if(t===null)throw Error(Xe(310));En=t,t={memoizedState:En.memoizedState,baseState:En.baseState,baseQueue:En.baseQueue,queue:En.queue,next:null},Ln===null?rn.memoizedState=Ln=t:Ln=Ln.next=t}return Ln}function Nh(t,e){return typeof e=="function"?e(t):e}function bv(t){var e=Gs(),r=e.queue;if(r===null)throw Error(Xe(311));r.lastRenderedReducer=t;var n=En,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,l=s;do{var g=l.lane;if((Yf&g)===g)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),n=l.hasEagerState?l.eagerState:t(n,l.action);else{var b={lane:g,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=b,o=n):c=c.next=b,rn.lanes|=g,Jf|=g}l=l.next}while(l!==null&&l!==s);c===null?o=n:c.next=a,Mo(n,e.memoizedState)||(es=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,rn.lanes|=s,Jf|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function vv(t){var e=Gs(),r=e.queue;if(r===null)throw Error(Xe(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Mo(s,e.memoizedState)||(es=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function i_(){}function s_(t,e){var r=rn,n=Gs(),i=e(),s=!Mo(n.memoizedState,i);if(s&&(n.memoizedState=i,es=!0),n=n.queue,w3(c_.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ln!==null&&Ln.memoizedState.tag&1){if(r.flags|=2048,Oh(9,a_.bind(null,r,n,i,e),void 0,null),zn===null)throw Error(Xe(349));Yf&30||o_(r,e,i)}return i}function o_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=rn.updateQueue,e===null?(e={lastEffect:null,stores:null},rn.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function a_(t,e,r,n){e.value=r,e.getSnapshot=n,f_(e)&&u_(t)}function c_(t,e,r){return r(function(){f_(e)&&u_(t)})}function f_(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Mo(t,r)}catch{return!0}}function u_(t){var e=Ya(t,1);e!==null&&Ao(e,t,1,-1)}function p5(t){var e=Uo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nh,lastRenderedState:t},e.queue=t,t=t.dispatch=jR.bind(null,rn,t),[e.memoizedState,t]}function Oh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=rn.updateQueue,e===null?(e={lastEffect:null,stores:null},rn.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function d_(){return Gs().memoizedState}function Np(t,e,r,n){var i=Uo();rn.flags|=t,i.memoizedState=Oh(1|e,r,void 0,n===void 0?null:n)}function Eg(t,e,r,n){var i=Gs();n=n===void 0?null:n;var s=void 0;if(En!==null){var o=En.memoizedState;if(s=o.destroy,n!==null&&v3(n,o.deps)){i.memoizedState=Oh(e,r,s,n);return}}rn.flags|=t,i.memoizedState=Oh(1|e,r,s,n)}function g5(t,e){return Np(8390656,8,t,e)}function w3(t,e){return Eg(2048,8,t,e)}function l_(t,e){return Eg(4,2,t,e)}function h_(t,e){return Eg(4,4,t,e)}function p_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function g_(t,e,r){return r=r!=null?r.concat([t]):null,Eg(4,4,p_.bind(null,e,t),r)}function x3(){}function b_(t,e){var r=Gs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&v3(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function v_(t,e){var r=Gs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&v3(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function y_(t,e,r){return Yf&21?(Mo(r,e)||(r=Sx(),rn.lanes|=r,Jf|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,es=!0),t.memoizedState=r)}function qR(t,e){var r=Er;Er=r!==0&&4>r?r:4,t(!0);var n=gv.transition;gv.transition={};try{t(!1),e()}finally{Er=r,gv.transition=n}}function m_(){return Gs().memoizedState}function KR(t,e,r){var n=zc(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},w_(t))x_(e,r);else if(r=t_(t,e,r,n),r!==null){var i=$i();Ao(r,t,n,i),__(r,e,n)}}function jR(t,e,r){var n=zc(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(w_(t))x_(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Mo(a,o)){var c=e.interleaved;c===null?(i.next=i,l3(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=t_(t,e,i,n),r!==null&&(i=$i(),Ao(r,t,n,i),__(r,e,n))}}function w_(t){var e=t.alternate;return t===rn||e!==null&&e===rn}function x_(t,e){fh=A1=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function __(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Z2(t,r)}}var I1={readContext:Vs,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useInsertionEffect:bi,useLayoutEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useMutableSource:bi,useSyncExternalStore:bi,useId:bi,unstable_isNewReconciler:!1},WR={readContext:Vs,useCallback:function(t,e){return Uo().memoizedState=[t,e===void 0?null:e],t},useContext:Vs,useEffect:g5,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Np(4194308,4,p_.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Np(4194308,4,t,e)},useInsertionEffect:function(t,e){return Np(4,2,t,e)},useMemo:function(t,e){var r=Uo();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Uo();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=KR.bind(null,rn,t),[n.memoizedState,t]},useRef:function(t){var e=Uo();return t={current:t},e.memoizedState=t},useState:p5,useDebugValue:x3,useDeferredValue:function(t){return Uo().memoizedState=t},useTransition:function(){var t=p5(!1),e=t[0];return t=qR.bind(null,t[1]),Uo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=rn,i=Uo();if(Xr){if(r===void 0)throw Error(Xe(407));r=r()}else{if(r=e(),zn===null)throw Error(Xe(349));Yf&30||o_(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,g5(c_.bind(null,n,s,t),[t]),n.flags|=2048,Oh(9,a_.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Uo(),e=zn.identifierPrefix;if(Xr){var r=$a,n=La;r=(n&~(1<<32-Eo(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Th++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=FR++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HR={readContext:Vs,useCallback:b_,useContext:Vs,useEffect:w3,useImperativeHandle:g_,useInsertionEffect:l_,useLayoutEffect:h_,useMemo:v_,useReducer:bv,useRef:d_,useState:function(){return bv(Nh)},useDebugValue:x3,useDeferredValue:function(t){var e=Gs();return y_(e,En.memoizedState,t)},useTransition:function(){var t=bv(Nh)[0],e=Gs().memoizedState;return[t,e]},useMutableSource:i_,useSyncExternalStore:s_,useId:m_,unstable_isNewReconciler:!1},VR={readContext:Vs,useCallback:b_,useContext:Vs,useEffect:w3,useImperativeHandle:g_,useInsertionEffect:l_,useLayoutEffect:h_,useMemo:v_,useReducer:vv,useRef:d_,useState:function(){return vv(Nh)},useDebugValue:x3,useDeferredValue:function(t){var e=Gs();return En===null?e.memoizedState=t:y_(e,En.memoizedState,t)},useTransition:function(){var t=vv(Nh)[0],e=Gs().memoizedState;return[t,e]},useMutableSource:i_,useSyncExternalStore:s_,useId:m_,unstable_isNewReconciler:!1};function bo(t,e){if(t&&t.defaultProps){e=nn({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function bm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:nn({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Ag={isMounted:function(t){return(t=t._reactInternals)?fu(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$i(),i=zc(t),s=Ka(n,i);s.payload=e,r!=null&&(s.callback=r),e=$c(t,s,i),e!==null&&(Ao(e,t,i,n),Cp(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$i(),i=zc(t),s=Ka(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=$c(t,s,i),e!==null&&(Ao(e,t,i,n),Cp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$i(),n=zc(t),i=Ka(r,n);i.tag=2,e!=null&&(i.callback=e),e=$c(t,i,n),e!==null&&(Ao(e,t,n,r),Cp(e,t,n))}};function b5(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ih(r,n)||!Ih(i,s):!0}function S_(t,e,r){var n=!1,i=Vc,s=e.contextType;return typeof s=="object"&&s!==null?s=Vs(s):(i=rs(e)?Vf:Ni.current,n=e.contextTypes,s=(n=n!=null)?yd(t,i):Vc),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ag,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function v5(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Ag.enqueueReplaceState(e,e.state,null)}function vm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},h3(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vs(s):(s=rs(e)?Vf:Ni.current,i.context=yd(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(bm(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ag.enqueueReplaceState(i,i.state,null),S1(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function _d(t,e){try{var r="",n=e;do r+=xk(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function yv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function ym(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var GR=typeof WeakMap=="function"?WeakMap:Map;function E_(t,e,r){r=Ka(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){P1||(P1=!0,Pm=n),ym(t,e)},r}function A_(t,e,r){r=Ka(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){ym(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){ym(t,e),typeof n!="function"&&(Uc===null?Uc=new Set([this]):Uc.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function y5(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new GR;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=cC.bind(null,t,e,r),e.then(t,t))}function m5(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function w5(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ka(-1,1),e.tag=2,$c(r,e,1))),r.lanes|=1),t)}var YR=ec.ReactCurrentOwner,es=!1;function Bi(t,e,r,n){e.child=t===null?e_(e,null,r,n):wd(e,t.child,r,n)}function x5(t,e,r,n,i){r=r.render;var s=e.ref;return od(e,i),n=y3(t,e,r,n,s,i),r=m3(),t!==null&&!es?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ja(t,e,i)):(Xr&&r&&o3(e),e.flags|=1,Bi(t,e,n,i),e.child)}function _5(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!k3(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,I_(t,e,s,n,i)):(t=Lp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ih,r(o,n)&&t.ref===e.ref)return Ja(t,e,i)}return e.flags|=1,t=Fc(s,n),t.ref=e.ref,t.return=e,e.child=t}function I_(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ih(s,n)&&t.ref===e.ref)if(es=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(es=!0);else return e.lanes=t.lanes,Ja(t,e,i)}return mm(t,e,r,n,i)}function M_(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lr(Vu,us),us|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Lr(Vu,us),us|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Lr(Vu,us),us|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Lr(Vu,us),us|=n;return Bi(t,e,i,r),e.child}function P_(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function mm(t,e,r,n,i){var s=rs(r)?Vf:Ni.current;return s=yd(e,s),od(e,i),r=y3(t,e,r,n,s,i),n=m3(),t!==null&&!es?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ja(t,e,i)):(Xr&&n&&o3(e),e.flags|=1,Bi(t,e,r,i),e.child)}function S5(t,e,r,n,i){if(rs(r)){var s=!0;y1(e)}else s=!1;if(od(e,i),e.stateNode===null)Op(t,e),S_(e,r,n),vm(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=r.contextType;typeof l=="object"&&l!==null?l=Vs(l):(l=rs(r)?Vf:Ni.current,l=yd(e,l));var g=r.getDerivedStateFromProps,b=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function";b||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==l)&&v5(e,o,n,l),bc=!1;var x=e.memoizedState;o.state=x,S1(e,n,o,i),c=e.memoizedState,a!==n||x!==c||ts.current||bc?(typeof g=="function"&&(bm(e,r,g,n),c=e.memoizedState),(a=bc||b5(e,r,a,n,x,c,l))?(b||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=l,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,r_(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:bo(e.type,a),o.props=l,b=e.pendingProps,x=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Vs(c):(c=rs(r)?Vf:Ni.current,c=yd(e,c));var _=r.getDerivedStateFromProps;(g=typeof _=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==b||x!==c)&&v5(e,o,n,c),bc=!1,x=e.memoizedState,o.state=x,S1(e,n,o,i);var E=e.memoizedState;a!==b||x!==E||ts.current||bc?(typeof _=="function"&&(bm(e,r,_,n),E=e.memoizedState),(l=bc||b5(e,r,l,n,x,E,c)||!1)?(g||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,E,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,E,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=E),o.props=n,o.state=E,o.context=c,n=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&x===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&x===t.memoizedState||(e.flags|=1024),n=!1)}return wm(t,e,r,n,s,i)}function wm(t,e,r,n,i,s){P_(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&c5(e,r,!1),Ja(t,e,s);n=e.stateNode,YR.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=wd(e,t.child,null,s),e.child=wd(e,null,a,s)):Bi(t,e,a,s),e.memoizedState=n.state,i&&c5(e,r,!0),e.child}function k_(t){var e=t.stateNode;e.pendingContext?a5(t,e.pendingContext,e.pendingContext!==e.context):e.context&&a5(t,e.context,!1),p3(t,e.containerInfo)}function E5(t,e,r,n,i){return md(),c3(i),e.flags|=256,Bi(t,e,r,n),e.child}var xm={dehydrated:null,treeContext:null,retryLane:0};function _m(t){return{baseLanes:t,cachePool:null,transitions:null}}function R_(t,e,r){var n=e.pendingProps,i=Qr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Lr(Qr,i&1),t===null)return pm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Pg(o,n,0,null),t=$f(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=_m(r),e.memoizedState=xm,t):_3(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return JR(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Fc(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fc(a,s):(s=$f(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?_m(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=xm,n}return s=t.child,t=s.sibling,n=Fc(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function _3(t,e){return e=Pg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Q0(t,e,r,n){return n!==null&&c3(n),wd(e,t.child,null,r),t=_3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JR(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=yv(Error(Xe(422))),Q0(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Pg({mode:"visible",children:n.children},i,0,null),s=$f(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&wd(e,t.child,null,o),e.child.memoizedState=_m(o),e.memoizedState=xm,s);if(!(e.mode&1))return Q0(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Xe(419)),n=yv(s,n,void 0),Q0(t,e,o,n)}if(a=(o&t.childLanes)!==0,es||a){if(n=zn,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ya(t,i),Ao(n,t,i,-1))}return P3(),n=yv(Error(Xe(421))),Q0(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=fC.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,gs=Lc(i.nextSibling),ys=e,Xr=!0,xo=null,t!==null&&($s[Us++]=La,$s[Us++]=$a,$s[Us++]=Gf,La=t.id,$a=t.overflow,Gf=e),e=_3(e,n.children),e.flags|=4096,e)}function A5(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),gm(t.return,e,r)}function mv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function C_(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Bi(t,e,n.children,r),n=Qr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A5(t,r,e);else if(t.tag===19)A5(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Lr(Qr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&E1(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),mv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&E1(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}mv(e,!0,r,null,s);break;case"together":mv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Op(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ja(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Jf|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Xe(153));if(e.child!==null){for(t=e.child,r=Fc(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Fc(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function XR(t,e,r){switch(e.tag){case 3:k_(e),md();break;case 5:n_(e);break;case 1:rs(e.type)&&y1(e);break;case 4:p3(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Lr(x1,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Lr(Qr,Qr.current&1),e.flags|=128,null):r&e.child.childLanes?R_(t,e,r):(Lr(Qr,Qr.current&1),t=Ja(t,e,r),t!==null?t.sibling:null);Lr(Qr,Qr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return C_(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lr(Qr,Qr.current),n)break;return null;case 22:case 23:return e.lanes=0,M_(t,e,r)}return Ja(t,e,r)}var T_,Sm,N_,O_;T_=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sm=function(){};N_=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Tf(Xo.current);var s=null;switch(r){case"input":i=Wy(t,i),n=Wy(t,n),s=[];break;case"select":i=nn({},i,{value:void 0}),n=nn({},n,{value:void 0}),s=[];break;case"textarea":i=Gy(t,i),n=Gy(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=b1)}Jy(r,n);var o;r=null;for(l in i)if(!n.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(mh.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in n){var c=n[l];if(a=i!=null?i[l]:void 0,n.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(l,r)),r=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(mh.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Kr("scroll",t),s||a===c||(s=[])):(s=s||[]).push(l,c))}r&&(s=s||[]).push("style",r);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};O_=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ml(t,e){if(!Xr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function vi(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function ZR(t,e,r){var n=e.pendingProps;switch(a3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vi(e),null;case 1:return rs(e.type)&&v1(),vi(e),null;case 3:return n=e.stateNode,xd(),Hr(ts),Hr(Ni),b3(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(X0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,xo!==null&&(Cm(xo),xo=null))),Sm(t,e),vi(e),null;case 5:g3(e);var i=Tf(Ch.current);if(r=e.type,t!==null&&e.stateNode!=null)N_(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Xe(166));return vi(e),null}if(t=Tf(Xo.current),X0(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ho]=e,n[kh]=s,t=(e.mode&1)!==0,r){case"dialog":Kr("cancel",n),Kr("close",n);break;case"iframe":case"object":case"embed":Kr("load",n);break;case"video":case"audio":for(i=0;i<Ql.length;i++)Kr(Ql[i],n);break;case"source":Kr("error",n);break;case"img":case"image":case"link":Kr("error",n),Kr("load",n);break;case"details":Kr("toggle",n);break;case"input":Ow(n,s),Kr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Kr("invalid",n);break;case"textarea":Dw(n,s),Kr("invalid",n)}Jy(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&J0(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&J0(n.textContent,a,t),i=["children",""+a]):mh.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Kr("scroll",n)}switch(r){case"input":q0(n),Bw(n,s,!0);break;case"textarea":q0(n),Lw(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=b1)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=cx(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Ho]=e,t[kh]=n,T_(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xy(r,n),r){case"dialog":Kr("cancel",t),Kr("close",t),i=n;break;case"iframe":case"object":case"embed":Kr("load",t),i=n;break;case"video":case"audio":for(i=0;i<Ql.length;i++)Kr(Ql[i],t);i=n;break;case"source":Kr("error",t),i=n;break;case"img":case"image":case"link":Kr("error",t),Kr("load",t),i=n;break;case"details":Kr("toggle",t),i=n;break;case"input":Ow(t,n),i=Wy(t,n),Kr("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=nn({},n,{value:void 0}),Kr("invalid",t);break;case"textarea":Dw(t,n),i=Gy(t,n),Kr("invalid",t);break;default:i=n}Jy(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?dx(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&fx(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wh(t,c):typeof c=="number"&&wh(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mh.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Kr("scroll",t):c!=null&&H2(t,s,c,o))}switch(r){case"input":q0(t),Bw(t,n,!1);break;case"textarea":q0(t),Lw(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Hc(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?rd(t,!!n.multiple,s,!1):n.defaultValue!=null&&rd(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=b1)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vi(e),null;case 6:if(t&&e.stateNode!=null)O_(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Xe(166));if(r=Tf(Ch.current),Tf(Xo.current),X0(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ho]=e,(s=n.nodeValue!==r)&&(t=ys,t!==null))switch(t.tag){case 3:J0(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&J0(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ho]=e,e.stateNode=n}return vi(e),null;case 13:if(Hr(Qr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xr&&gs!==null&&e.mode&1&&!(e.flags&128))Zx(),md(),e.flags|=98560,s=!1;else if(s=X0(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Xe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Xe(317));s[Ho]=e}else md(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vi(e),s=!1}else xo!==null&&(Cm(xo),xo=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Qr.current&1?In===0&&(In=3):P3())),e.updateQueue!==null&&(e.flags|=4),vi(e),null);case 4:return xd(),Sm(t,e),t===null&&Mh(e.stateNode.containerInfo),vi(e),null;case 10:return d3(e.type._context),vi(e),null;case 17:return rs(e.type)&&v1(),vi(e),null;case 19:if(Hr(Qr),s=e.memoizedState,s===null)return vi(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Ml(s,!1);else{if(In!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=E1(t),o!==null){for(e.flags|=128,Ml(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Lr(Qr,Qr.current&1|2),e.child}t=t.sibling}s.tail!==null&&vn()>Sd&&(e.flags|=128,n=!0,Ml(s,!1),e.lanes=4194304)}else{if(!n)if(t=E1(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ml(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xr)return vi(e),null}else 2*vn()-s.renderingStartTime>Sd&&r!==1073741824&&(e.flags|=128,n=!0,Ml(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=vn(),e.sibling=null,r=Qr.current,Lr(Qr,n?r&1|2:r&1),e):(vi(e),null);case 22:case 23:return M3(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?us&1073741824&&(vi(e),e.subtreeFlags&6&&(e.flags|=8192)):vi(e),null;case 24:return null;case 25:return null}throw Error(Xe(156,e.tag))}function QR(t,e){switch(a3(e),e.tag){case 1:return rs(e.type)&&v1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xd(),Hr(ts),Hr(Ni),b3(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return g3(e),null;case 13:if(Hr(Qr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Xe(340));md()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Hr(Qr),null;case 4:return xd(),null;case 10:return d3(e.type._context),null;case 22:case 23:return M3(),null;case 24:return null;default:return null}}var ep=!1,Mi=!1,eC=typeof WeakSet=="function"?WeakSet:Set,At=null;function Hu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){un(t,e,n)}else r.current=null}function Em(t,e,r){try{r()}catch(n){un(t,e,n)}}var I5=!1;function tC(t,e){if(am=h1,t=Ux(),s3(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,l=0,g=0,b=t,x=null;t:for(;;){for(var _;b!==r||i!==0&&b.nodeType!==3||(a=o+i),b!==s||n!==0&&b.nodeType!==3||(c=o+n),b.nodeType===3&&(o+=b.nodeValue.length),(_=b.firstChild)!==null;)x=b,b=_;for(;;){if(b===t)break t;if(x===r&&++l===i&&(a=o),x===s&&++g===n&&(c=o),(_=b.nextSibling)!==null)break;b=x,x=b.parentNode}b=_}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(cm={focusedElem:t,selectionRange:r},h1=!1,At=e;At!==null;)if(e=At,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,At=t;else for(;At!==null;){e=At;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var M=E.memoizedProps,B=E.memoizedState,P=e.stateNode,R=P.getSnapshotBeforeUpdate(e.elementType===e.type?M:bo(e.type,M),B);P.__reactInternalSnapshotBeforeUpdate=R}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Xe(163))}}catch(U){un(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,At=t;break}At=e.return}return E=I5,I5=!1,E}function uh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Em(e,r,s)}i=i.next}while(i!==n)}}function Ig(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Am(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function B_(t){var e=t.alternate;e!==null&&(t.alternate=null,B_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ho],delete e[kh],delete e[dm],delete e[LR],delete e[$R])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function D_(t){return t.tag===5||t.tag===3||t.tag===4}function M5(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||D_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Im(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=b1));else if(n!==4&&(t=t.child,t!==null))for(Im(t,e,r),t=t.sibling;t!==null;)Im(t,e,r),t=t.sibling}function Mm(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Mm(t,e,r),t=t.sibling;t!==null;)Mm(t,e,r),t=t.sibling}var ti=null,mo=!1;function ac(t,e,r){for(r=r.child;r!==null;)L_(t,e,r),r=r.sibling}function L_(t,e,r){if(Jo&&typeof Jo.onCommitFiberUnmount=="function")try{Jo.onCommitFiberUnmount(yg,r)}catch{}switch(r.tag){case 5:Mi||Hu(r,e);case 6:var n=ti,i=mo;ti=null,ac(t,e,r),ti=n,mo=i,ti!==null&&(mo?(t=ti,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ti.removeChild(r.stateNode));break;case 18:ti!==null&&(mo?(t=ti,r=r.stateNode,t.nodeType===8?lv(t.parentNode,r):t.nodeType===1&&lv(t,r),Eh(t)):lv(ti,r.stateNode));break;case 4:n=ti,i=mo,ti=r.stateNode.containerInfo,mo=!0,ac(t,e,r),ti=n,mo=i;break;case 0:case 11:case 14:case 15:if(!Mi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Em(r,e,o),i=i.next}while(i!==n)}ac(t,e,r);break;case 1:if(!Mi&&(Hu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){un(r,e,a)}ac(t,e,r);break;case 21:ac(t,e,r);break;case 22:r.mode&1?(Mi=(n=Mi)||r.memoizedState!==null,ac(t,e,r),Mi=n):ac(t,e,r);break;default:ac(t,e,r)}}function P5(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new eC),e.forEach(function(n){var i=uC.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function co(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ti=a.stateNode,mo=!1;break e;case 3:ti=a.stateNode.containerInfo,mo=!0;break e;case 4:ti=a.stateNode.containerInfo,mo=!0;break e}a=a.return}if(ti===null)throw Error(Xe(160));L_(s,o,i),ti=null,mo=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){un(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)$_(e,t),e=e.sibling}function $_(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(co(e,t),Co(t),n&4){try{uh(3,t,t.return),Ig(3,t)}catch(M){un(t,t.return,M)}try{uh(5,t,t.return)}catch(M){un(t,t.return,M)}}break;case 1:co(e,t),Co(t),n&512&&r!==null&&Hu(r,r.return);break;case 5:if(co(e,t),Co(t),n&512&&r!==null&&Hu(r,r.return),t.flags&32){var i=t.stateNode;try{wh(i,"")}catch(M){un(t,t.return,M)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ox(i,s),Xy(a,o);var l=Xy(a,s);for(o=0;o<c.length;o+=2){var g=c[o],b=c[o+1];g==="style"?dx(i,b):g==="dangerouslySetInnerHTML"?fx(i,b):g==="children"?wh(i,b):H2(i,g,b,l)}switch(a){case"input":Hy(i,s);break;case"textarea":ax(i,s);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var _=s.value;_!=null?rd(i,!!s.multiple,_,!1):x!==!!s.multiple&&(s.defaultValue!=null?rd(i,!!s.multiple,s.defaultValue,!0):rd(i,!!s.multiple,s.multiple?[]:"",!1))}i[kh]=s}catch(M){un(t,t.return,M)}}break;case 6:if(co(e,t),Co(t),n&4){if(t.stateNode===null)throw Error(Xe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(M){un(t,t.return,M)}}break;case 3:if(co(e,t),Co(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Eh(e.containerInfo)}catch(M){un(t,t.return,M)}break;case 4:co(e,t),Co(t);break;case 13:co(e,t),Co(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(A3=vn())),n&4&&P5(t);break;case 22:if(g=r!==null&&r.memoizedState!==null,t.mode&1?(Mi=(l=Mi)||g,co(e,t),Mi=l):co(e,t),Co(t),n&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!g&&t.mode&1)for(At=t,g=t.child;g!==null;){for(b=At=g;At!==null;){switch(x=At,_=x.child,x.tag){case 0:case 11:case 14:case 15:uh(4,x,x.return);break;case 1:Hu(x,x.return);var E=x.stateNode;if(typeof E.componentWillUnmount=="function"){n=x,r=x.return;try{e=n,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(M){un(n,r,M)}}break;case 5:Hu(x,x.return);break;case 22:if(x.memoizedState!==null){R5(b);continue}}_!==null?(_.return=x,At=_):R5(b)}g=g.sibling}e:for(g=null,b=t;;){if(b.tag===5){if(g===null){g=b;try{i=b.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=b.stateNode,c=b.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=ux("display",o))}catch(M){un(t,t.return,M)}}}else if(b.tag===6){if(g===null)try{b.stateNode.nodeValue=l?"":b.memoizedProps}catch(M){un(t,t.return,M)}}else if((b.tag!==22&&b.tag!==23||b.memoizedState===null||b===t)&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===t)break e;for(;b.sibling===null;){if(b.return===null||b.return===t)break e;g===b&&(g=null),b=b.return}g===b&&(g=null),b.sibling.return=b.return,b=b.sibling}}break;case 19:co(e,t),Co(t),n&4&&P5(t);break;case 21:break;default:co(e,t),Co(t)}}function Co(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(D_(r)){var n=r;break e}r=r.return}throw Error(Xe(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wh(i,""),n.flags&=-33);var s=M5(t);Mm(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=M5(t);Im(t,a,o);break;default:throw Error(Xe(161))}}catch(c){un(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rC(t,e,r){At=t,U_(t)}function U_(t,e,r){for(var n=(t.mode&1)!==0;At!==null;){var i=At,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||ep;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||Mi;a=ep;var l=Mi;if(ep=o,(Mi=c)&&!l)for(At=i;At!==null;)o=At,c=o.child,o.tag===22&&o.memoizedState!==null?C5(i):c!==null?(c.return=o,At=c):C5(i);for(;s!==null;)At=s,U_(s),s=s.sibling;At=i,ep=a,Mi=l}k5(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,At=s):k5(t)}}function k5(t){for(;At!==null;){var e=At;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mi||Ig(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Mi)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:bo(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&h5(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}h5(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var g=l.memoizedState;if(g!==null){var b=g.dehydrated;b!==null&&Eh(b)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Xe(163))}Mi||e.flags&512&&Am(e)}catch(x){un(e,e.return,x)}}if(e===t){At=null;break}if(r=e.sibling,r!==null){r.return=e.return,At=r;break}At=e.return}}function R5(t){for(;At!==null;){var e=At;if(e===t){At=null;break}var r=e.sibling;if(r!==null){r.return=e.return,At=r;break}At=e.return}}function C5(t){for(;At!==null;){var e=At;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Ig(4,e)}catch(c){un(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){un(e,i,c)}}var s=e.return;try{Am(e)}catch(c){un(e,s,c)}break;case 5:var o=e.return;try{Am(e)}catch(c){un(e,o,c)}}}catch(c){un(e,e.return,c)}if(e===t){At=null;break}var a=e.sibling;if(a!==null){a.return=e.return,At=a;break}At=e.return}}var nC=Math.ceil,M1=ec.ReactCurrentDispatcher,S3=ec.ReactCurrentOwner,Ws=ec.ReactCurrentBatchConfig,br=0,zn=null,xn=null,oi=0,us=0,Vu=Zc(0),In=0,Bh=null,Jf=0,Mg=0,E3=0,dh=null,Xi=null,A3=0,Sd=1/0,Ma=null,P1=!1,Pm=null,Uc=null,tp=!1,Pc=null,k1=0,lh=0,km=null,Bp=-1,Dp=0;function $i(){return br&6?vn():Bp!==-1?Bp:Bp=vn()}function zc(t){return t.mode&1?br&2&&oi!==0?oi&-oi:zR.transition!==null?(Dp===0&&(Dp=Sx()),Dp):(t=Er,t!==0||(t=window.event,t=t===void 0?16:Rx(t.type)),t):1}function Ao(t,e,r,n){if(50<lh)throw lh=0,km=null,Error(Xe(185));s0(t,r,n),(!(br&2)||t!==zn)&&(t===zn&&(!(br&2)&&(Mg|=r),In===4&&_c(t,oi)),ns(t,n),r===1&&br===0&&!(e.mode&1)&&(Sd=vn()+500,Sg&&Qc()))}function ns(t,e){var r=t.callbackNode;zk(t,e);var n=l1(t,t===zn?oi:0);if(n===0)r!==null&&zw(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&zw(r),e===1)t.tag===0?UR(T5.bind(null,t)):Yx(T5.bind(null,t)),BR(function(){!(br&6)&&Qc()}),r=null;else{switch(Ex(n)){case 1:r=X2;break;case 4:r=xx;break;case 16:r=d1;break;case 536870912:r=_x;break;default:r=d1}r=V_(r,z_.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function z_(t,e){if(Bp=-1,Dp=0,br&6)throw Error(Xe(327));var r=t.callbackNode;if(ad()&&t.callbackNode!==r)return null;var n=l1(t,t===zn?oi:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=R1(t,n);else{e=n;var i=br;br|=2;var s=q_();(zn!==t||oi!==e)&&(Ma=null,Sd=vn()+500,Lf(t,e));do try{oC();break}catch(a){F_(t,a)}while(!0);u3(),M1.current=s,br=i,xn!==null?e=0:(zn=null,oi=0,e=In)}if(e!==0){if(e===2&&(i=rm(t),i!==0&&(n=i,e=Rm(t,i))),e===1)throw r=Bh,Lf(t,0),_c(t,n),ns(t,vn()),r;if(e===6)_c(t,n);else{if(i=t.current.alternate,!(n&30)&&!iC(i)&&(e=R1(t,n),e===2&&(s=rm(t),s!==0&&(n=s,e=Rm(t,s))),e===1))throw r=Bh,Lf(t,0),_c(t,n),ns(t,vn()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Xe(345));case 2:_f(t,Xi,Ma);break;case 3:if(_c(t,n),(n&130023424)===n&&(e=A3+500-vn(),10<e)){if(l1(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){$i(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=um(_f.bind(null,t,Xi,Ma),e);break}_f(t,Xi,Ma);break;case 4:if(_c(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Eo(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=vn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*nC(n/1960))-n,10<n){t.timeoutHandle=um(_f.bind(null,t,Xi,Ma),n);break}_f(t,Xi,Ma);break;case 5:_f(t,Xi,Ma);break;default:throw Error(Xe(329))}}}return ns(t,vn()),t.callbackNode===r?z_.bind(null,t):null}function Rm(t,e){var r=dh;return t.current.memoizedState.isDehydrated&&(Lf(t,e).flags|=256),t=R1(t,e),t!==2&&(e=Xi,Xi=r,e!==null&&Cm(e)),t}function Cm(t){Xi===null?Xi=t:Xi.push.apply(Xi,t)}function iC(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Mo(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _c(t,e){for(e&=~E3,e&=~Mg,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Eo(e),n=1<<r;t[r]=-1,e&=~n}}function T5(t){if(br&6)throw Error(Xe(327));ad();var e=l1(t,0);if(!(e&1))return ns(t,vn()),null;var r=R1(t,e);if(t.tag!==0&&r===2){var n=rm(t);n!==0&&(e=n,r=Rm(t,n))}if(r===1)throw r=Bh,Lf(t,0),_c(t,e),ns(t,vn()),r;if(r===6)throw Error(Xe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_f(t,Xi,Ma),ns(t,vn()),null}function I3(t,e){var r=br;br|=1;try{return t(e)}finally{br=r,br===0&&(Sd=vn()+500,Sg&&Qc())}}function Xf(t){Pc!==null&&Pc.tag===0&&!(br&6)&&ad();var e=br;br|=1;var r=Ws.transition,n=Er;try{if(Ws.transition=null,Er=1,t)return t()}finally{Er=n,Ws.transition=r,br=e,!(br&6)&&Qc()}}function M3(){us=Vu.current,Hr(Vu)}function Lf(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,OR(r)),xn!==null)for(r=xn.return;r!==null;){var n=r;switch(a3(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&v1();break;case 3:xd(),Hr(ts),Hr(Ni),b3();break;case 5:g3(n);break;case 4:xd();break;case 13:Hr(Qr);break;case 19:Hr(Qr);break;case 10:d3(n.type._context);break;case 22:case 23:M3()}r=r.return}if(zn=t,xn=t=Fc(t.current,null),oi=us=e,In=0,Bh=null,E3=Mg=Jf=0,Xi=dh=null,Cf!==null){for(e=0;e<Cf.length;e++)if(r=Cf[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Cf=null}return t}function F_(t,e){do{var r=xn;try{if(u3(),Tp.current=I1,A1){for(var n=rn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}A1=!1}if(Yf=0,Ln=En=rn=null,fh=!1,Th=0,S3.current=null,r===null||r.return===null){In=1,Bh=e,xn=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=oi,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,g=a,b=g.tag;if(!(g.mode&1)&&(b===0||b===11||b===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var _=m5(o);if(_!==null){_.flags&=-257,w5(_,o,a,s,e),_.mode&1&&y5(s,l,e),e=_,c=l;var E=e.updateQueue;if(E===null){var M=new Set;M.add(c),e.updateQueue=M}else E.add(c);break e}else{if(!(e&1)){y5(s,l,e),P3();break e}c=Error(Xe(426))}}else if(Xr&&a.mode&1){var B=m5(o);if(B!==null){!(B.flags&65536)&&(B.flags|=256),w5(B,o,a,s,e),c3(_d(c,a));break e}}s=c=_d(c,a),In!==4&&(In=2),dh===null?dh=[s]:dh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var P=E_(s,c,e);l5(s,P);break e;case 1:a=c;var R=s.type,D=s.stateNode;if(!(s.flags&128)&&(typeof R.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Uc===null||!Uc.has(D)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=A_(s,a,e);l5(s,U);break e}}s=s.return}while(s!==null)}j_(r)}catch(F){e=F,xn===r&&r!==null&&(xn=r=r.return);continue}break}while(!0)}function q_(){var t=M1.current;return M1.current=I1,t===null?I1:t}function P3(){(In===0||In===3||In===2)&&(In=4),zn===null||!(Jf&268435455)&&!(Mg&268435455)||_c(zn,oi)}function R1(t,e){var r=br;br|=2;var n=q_();(zn!==t||oi!==e)&&(Ma=null,Lf(t,e));do try{sC();break}catch(i){F_(t,i)}while(!0);if(u3(),br=r,M1.current=n,xn!==null)throw Error(Xe(261));return zn=null,oi=0,In}function sC(){for(;xn!==null;)K_(xn)}function oC(){for(;xn!==null&&!Ck();)K_(xn)}function K_(t){var e=H_(t.alternate,t,us);t.memoizedProps=t.pendingProps,e===null?j_(t):xn=e,S3.current=null}function j_(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=QR(r,e),r!==null){r.flags&=32767,xn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{In=6,xn=null;return}}else if(r=ZR(r,e,us),r!==null){xn=r;return}if(e=e.sibling,e!==null){xn=e;return}xn=e=t}while(e!==null);In===0&&(In=5)}function _f(t,e,r){var n=Er,i=Ws.transition;try{Ws.transition=null,Er=1,aC(t,e,r,n)}finally{Ws.transition=i,Er=n}return null}function aC(t,e,r,n){do ad();while(Pc!==null);if(br&6)throw Error(Xe(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Xe(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(Fk(t,s),t===zn&&(xn=zn=null,oi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tp||(tp=!0,V_(d1,function(){return ad(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ws.transition,Ws.transition=null;var o=Er;Er=1;var a=br;br|=4,S3.current=null,tC(t,r),$_(r,t),MR(cm),h1=!!am,cm=am=null,t.current=r,rC(r),Tk(),br=a,Er=o,Ws.transition=s}else t.current=r;if(tp&&(tp=!1,Pc=t,k1=i),s=t.pendingLanes,s===0&&(Uc=null),Bk(r.stateNode),ns(t,vn()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(P1)throw P1=!1,t=Pm,Pm=null,t;return k1&1&&t.tag!==0&&ad(),s=t.pendingLanes,s&1?t===km?lh++:(lh=0,km=t):lh=0,Qc(),null}function ad(){if(Pc!==null){var t=Ex(k1),e=Ws.transition,r=Er;try{if(Ws.transition=null,Er=16>t?16:t,Pc===null)var n=!1;else{if(t=Pc,Pc=null,k1=0,br&6)throw Error(Xe(331));var i=br;for(br|=4,At=t.current;At!==null;){var s=At,o=s.child;if(At.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(At=l;At!==null;){var g=At;switch(g.tag){case 0:case 11:case 15:uh(8,g,s)}var b=g.child;if(b!==null)b.return=g,At=b;else for(;At!==null;){g=At;var x=g.sibling,_=g.return;if(B_(g),g===l){At=null;break}if(x!==null){x.return=_,At=x;break}At=_}}}var E=s.alternate;if(E!==null){var M=E.child;if(M!==null){E.child=null;do{var B=M.sibling;M.sibling=null,M=B}while(M!==null)}}At=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,At=o;else e:for(;At!==null;){if(s=At,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uh(9,s,s.return)}var P=s.sibling;if(P!==null){P.return=s.return,At=P;break e}At=s.return}}var R=t.current;for(At=R;At!==null;){o=At;var D=o.child;if(o.subtreeFlags&2064&&D!==null)D.return=o,At=D;else e:for(o=R;At!==null;){if(a=At,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ig(9,a)}}catch(F){un(a,a.return,F)}if(a===o){At=null;break e}var U=a.sibling;if(U!==null){U.return=a.return,At=U;break e}At=a.return}}if(br=i,Qc(),Jo&&typeof Jo.onPostCommitFiberRoot=="function")try{Jo.onPostCommitFiberRoot(yg,t)}catch{}n=!0}return n}finally{Er=r,Ws.transition=e}}return!1}function N5(t,e,r){e=_d(r,e),e=E_(t,e,1),t=$c(t,e,1),e=$i(),t!==null&&(s0(t,1,e),ns(t,e))}function un(t,e,r){if(t.tag===3)N5(t,t,r);else for(;e!==null;){if(e.tag===3){N5(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Uc===null||!Uc.has(n))){t=_d(r,t),t=A_(e,t,1),e=$c(e,t,1),t=$i(),e!==null&&(s0(e,1,t),ns(e,t));break}}e=e.return}}function cC(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=$i(),t.pingedLanes|=t.suspendedLanes&r,zn===t&&(oi&r)===r&&(In===4||In===3&&(oi&130023424)===oi&&500>vn()-A3?Lf(t,0):E3|=r),ns(t,e)}function W_(t,e){e===0&&(t.mode&1?(e=W0,W0<<=1,!(W0&130023424)&&(W0=4194304)):e=1);var r=$i();t=Ya(t,e),t!==null&&(s0(t,e,r),ns(t,r))}function fC(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),W_(t,r)}function uC(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Xe(314))}n!==null&&n.delete(e),W_(t,r)}var H_;H_=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ts.current)es=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return es=!1,XR(t,e,r);es=!!(t.flags&131072)}else es=!1,Xr&&e.flags&1048576&&Jx(e,w1,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Op(t,e),t=e.pendingProps;var i=yd(e,Ni.current);od(e,r),i=y3(null,e,n,t,i,r);var s=m3();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rs(n)?(s=!0,y1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,h3(e),i.updater=Ag,e.stateNode=i,i._reactInternals=e,vm(e,n,t,r),e=wm(null,e,n,!0,s,r)):(e.tag=0,Xr&&s&&o3(e),Bi(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Op(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=lC(n),t=bo(n,t),i){case 0:e=mm(null,e,n,t,r);break e;case 1:e=S5(null,e,n,t,r);break e;case 11:e=x5(null,e,n,t,r);break e;case 14:e=_5(null,e,n,bo(n.type,t),r);break e}throw Error(Xe(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bo(n,i),mm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bo(n,i),S5(t,e,n,i,r);case 3:e:{if(k_(e),t===null)throw Error(Xe(387));n=e.pendingProps,s=e.memoizedState,i=s.element,r_(t,e),S1(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_d(Error(Xe(423)),e),e=E5(t,e,n,r,i);break e}else if(n!==i){i=_d(Error(Xe(424)),e),e=E5(t,e,n,r,i);break e}else for(gs=Lc(e.stateNode.containerInfo.firstChild),ys=e,Xr=!0,xo=null,r=e_(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(md(),n===i){e=Ja(t,e,r);break e}Bi(t,e,n,r)}e=e.child}return e;case 5:return n_(e),t===null&&pm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,fm(n,i)?o=null:s!==null&&fm(n,s)&&(e.flags|=32),P_(t,e),Bi(t,e,o,r),e.child;case 6:return t===null&&pm(e),null;case 13:return R_(t,e,r);case 4:return p3(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=wd(e,null,n,r):Bi(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bo(n,i),x5(t,e,n,i,r);case 7:return Bi(t,e,e.pendingProps,r),e.child;case 8:return Bi(t,e,e.pendingProps.children,r),e.child;case 12:return Bi(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Lr(x1,n._currentValue),n._currentValue=o,s!==null)if(Mo(s.value,o)){if(s.children===i.children&&!ts.current){e=Ja(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Ka(-1,r&-r),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var g=l.pending;g===null?c.next=c:(c.next=g.next,g.next=c),l.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),gm(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Xe(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),gm(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Bi(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,od(e,r),i=Vs(i),n=n(i),e.flags|=1,Bi(t,e,n,r),e.child;case 14:return n=e.type,i=bo(n,e.pendingProps),i=bo(n.type,i),_5(t,e,n,i,r);case 15:return I_(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:bo(n,i),Op(t,e),e.tag=1,rs(n)?(t=!0,y1(e)):t=!1,od(e,r),S_(e,n,i),vm(e,n,i,r),wm(null,e,n,!0,t,r);case 19:return C_(t,e,r);case 22:return M_(t,e,r)}throw Error(Xe(156,e.tag))};function V_(t,e){return wx(t,e)}function dC(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ks(t,e,r,n){return new dC(t,e,r,n)}function k3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lC(t){if(typeof t=="function")return k3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===G2)return 11;if(t===Y2)return 14}return 2}function Fc(t,e){var r=t.alternate;return r===null?(r=Ks(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Lp(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")k3(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Lu:return $f(r.children,i,s,e);case V2:o=8,i|=8;break;case Fy:return t=Ks(12,r,e,i|2),t.elementType=Fy,t.lanes=s,t;case qy:return t=Ks(13,r,e,i),t.elementType=qy,t.lanes=s,t;case Ky:return t=Ks(19,r,e,i),t.elementType=Ky,t.lanes=s,t;case nx:return Pg(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case tx:o=10;break e;case rx:o=9;break e;case G2:o=11;break e;case Y2:o=14;break e;case gc:o=16,n=null;break e}throw Error(Xe(130,t==null?t:typeof t,""))}return e=Ks(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function $f(t,e,r,n){return t=Ks(7,t,n,e),t.lanes=r,t}function Pg(t,e,r,n){return t=Ks(22,t,n,e),t.elementType=nx,t.lanes=r,t.stateNode={isHidden:!1},t}function wv(t,e,r){return t=Ks(6,t,null,e),t.lanes=r,t}function xv(t,e,r){return e=Ks(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hC(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tv(0),this.expirationTimes=tv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function R3(t,e,r,n,i,s,o,a,c){return t=new hC(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ks(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},h3(s),t}function pC(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Du,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function G_(t){if(!t)return Vc;t=t._reactInternals;e:{if(fu(t)!==t||t.tag!==1)throw Error(Xe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Xe(171))}if(t.tag===1){var r=t.type;if(rs(r))return Gx(t,r,e)}return e}function Y_(t,e,r,n,i,s,o,a,c){return t=R3(r,n,!0,t,i,s,o,a,c),t.context=G_(null),r=t.current,n=$i(),i=zc(r),s=Ka(n,i),s.callback=e??null,$c(r,s,i),t.current.lanes=i,s0(t,i,n),ns(t,n),t}function kg(t,e,r,n){var i=e.current,s=$i(),o=zc(i);return r=G_(r),e.context===null?e.context=r:e.pendingContext=r,e=Ka(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=$c(i,e,o),t!==null&&(Ao(t,i,o,s),Cp(t,i,o)),o}function C1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function O5(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function C3(t,e){O5(t,e),(t=t.alternate)&&O5(t,e)}function gC(){return null}var J_=typeof reportError=="function"?reportError:function(t){console.error(t)};function T3(t){this._internalRoot=t}Rg.prototype.render=T3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Xe(409));kg(t,e,null,null)};Rg.prototype.unmount=T3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Xf(function(){kg(null,t,null,null)}),e[Ga]=null}};function Rg(t){this._internalRoot=t}Rg.prototype.unstable_scheduleHydration=function(t){if(t){var e=Mx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<xc.length&&e!==0&&e<xc[r].priority;r++);xc.splice(r,0,t),r===0&&kx(t)}};function N3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B5(){}function bC(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var l=C1(o);s.call(l)}}var o=Y_(e,n,t,0,null,!1,!1,"",B5);return t._reactRootContainer=o,t[Ga]=o.current,Mh(t.nodeType===8?t.parentNode:t),Xf(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var l=C1(c);a.call(l)}}var c=R3(t,0,!1,null,null,!1,!1,"",B5);return t._reactRootContainer=c,t[Ga]=c.current,Mh(t.nodeType===8?t.parentNode:t),Xf(function(){kg(e,c,r,n)}),c}function Tg(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=C1(o);a.call(c)}}kg(e,o,t,i)}else o=bC(r,e,t,i,n);return C1(o)}Ax=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Zl(e.pendingLanes);r!==0&&(Z2(e,r|1),ns(e,vn()),!(br&6)&&(Sd=vn()+500,Qc()))}break;case 13:Xf(function(){var n=Ya(t,1);if(n!==null){var i=$i();Ao(n,t,1,i)}}),C3(t,1)}};Q2=function(t){if(t.tag===13){var e=Ya(t,134217728);if(e!==null){var r=$i();Ao(e,t,134217728,r)}C3(t,134217728)}};Ix=function(t){if(t.tag===13){var e=zc(t),r=Ya(t,e);if(r!==null){var n=$i();Ao(r,t,e,n)}C3(t,e)}};Mx=function(){return Er};Px=function(t,e){var r=Er;try{return Er=t,e()}finally{Er=r}};Qy=function(t,e,r){switch(e){case"input":if(Hy(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=_g(n);if(!i)throw Error(Xe(90));sx(n),Hy(n,i)}}}break;case"textarea":ax(t,r);break;case"select":e=r.value,e!=null&&rd(t,!!r.multiple,e,!1)}};px=I3;gx=Xf;var vC={usingClientEntryPoint:!1,Events:[a0,Fu,_g,lx,hx,I3]},Pl={findFiberByHostInstance:Rf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yC={bundleType:Pl.bundleType,version:Pl.version,rendererPackageName:Pl.rendererPackageName,rendererConfig:Pl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ec.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yx(t),t===null?null:t.stateNode},findFiberByHostInstance:Pl.findFiberByHostInstance||gC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rp.isDisabled&&rp.supportsFiber)try{yg=rp.inject(yC),Jo=rp}catch{}}ws.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vC;ws.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!N3(e))throw Error(Xe(200));return pC(t,e,null,r)};ws.createRoot=function(t,e){if(!N3(t))throw Error(Xe(299));var r=!1,n="",i=J_;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=R3(t,1,!1,null,null,r,!1,n,i),t[Ga]=e.current,Mh(t.nodeType===8?t.parentNode:t),new T3(e)};ws.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Xe(188)):(t=Object.keys(t).join(","),Error(Xe(268,t)));return t=yx(e),t=t===null?null:t.stateNode,t};ws.flushSync=function(t){return Xf(t)};ws.hydrate=function(t,e,r){if(!Cg(e))throw Error(Xe(200));return Tg(null,t,e,!0,r)};ws.hydrateRoot=function(t,e,r){if(!N3(t))throw Error(Xe(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=J_;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Y_(e,null,t,1,r??null,i,!1,s,o),t[Ga]=e.current,Mh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Rg(e)};ws.render=function(t,e,r){if(!Cg(e))throw Error(Xe(200));return Tg(null,t,e,!1,r)};ws.unmountComponentAtNode=function(t){if(!Cg(t))throw Error(Xe(40));return t._reactRootContainer?(Xf(function(){Tg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ga]=null})}),!0):!1};ws.unstable_batchedUpdates=I3;ws.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Cg(r))throw Error(Xe(200));if(t==null||t._reactInternals===void 0)throw Error(Xe(38));return Tg(t,e,r,!1,n)};ws.version="18.3.1-next-f1338f8080-20240426";function X_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(X_)}catch(t){console.error(t)}}X_(),X7.exports=ws;var mC=X7.exports,D5=mC;Uy.createRoot=D5.createRoot,Uy.hydrateRoot=D5.hydrateRoot;function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function wC(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xC(t){var e=wC(t,"string");return Dh(e)=="symbol"?e:e+""}function Oe(t,e,r){return(e=xC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L5(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function He(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L5(Object(r),!0).forEach(function(n){Oe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L5(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T1(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function _C(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function f0(t,...e){if(!_C(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function SC(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");T1(t.outputLen),T1(t.blockLen)}function Ed(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Z_(t,e){f0(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const Au=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EC=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),_v=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),To=(t,e)=>t<<32-e|t>>>e,$5=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,AC=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function U5(t){for(let e=0;e<t.length;e++)t[e]=AC(t[e])}function IC(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Ng(t){return typeof t=="string"&&(t=IC(t)),f0(t),t}function MC(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];f0(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let O3=class{clone(){return this._cloneInto()}};function B3(t){const e=n=>t().update(Ng(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Q_(t=32){if(Au&&typeof Au.getRandomValues=="function")return Au.getRandomValues(new Uint8Array(t));if(Au&&typeof Au.randomBytes=="function")return Au.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function PC(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}const kC=(t,e,r)=>t&e^~t&r,RC=(t,e,r)=>t&e^t&r^e&r;class eS extends O3{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_v(this.buffer)}update(e){Ed(this);const{view:r,buffer:n,blockLen:i}=this;e=Ng(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=_v(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ed(this),Z_(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let b=o;b<i;b++)r[b]=0;PC(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=_v(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,g=this.get();if(l>g.length)throw new Error("_sha2: outputLen bigger than state");for(let b=0;b<l;b++)a.setUint32(4*b,g[b],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}}const CC=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cc=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),fc=new Uint32Array(64);let TC=class extends eS{constructor(){super(64,32,8,!1),this.A=cc[0]|0,this.B=cc[1]|0,this.C=cc[2]|0,this.D=cc[3]|0,this.E=cc[4]|0,this.F=cc[5]|0,this.G=cc[6]|0,this.H=cc[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let b=0;b<16;b++,r+=4)fc[b]=e.getUint32(r,!1);for(let b=16;b<64;b++){const x=fc[b-15],_=fc[b-2],E=To(x,7)^To(x,18)^x>>>3,M=To(_,17)^To(_,19)^_>>>10;fc[b]=M+fc[b-7]+E+fc[b-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:g}=this;for(let b=0;b<64;b++){const x=To(a,6)^To(a,11)^To(a,25),_=g+x+kC(a,c,l)+CC[b]+fc[b]|0,M=(To(n,2)^To(n,13)^To(n,22))+RC(n,i,s)|0;g=l,l=c,c=a,a=o+_|0,o=s,s=i,i=n,n=_+M|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,g=g+this.H|0,this.set(n,i,s,o,a,c,l,g)}roundClean(){fc.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Tm=B3(()=>new TC),np=BigInt(2**32-1),Nm=BigInt(32);function tS(t,e=!1){return e?{h:Number(t&np),l:Number(t>>Nm&np)}:{h:Number(t>>Nm&np)|0,l:Number(t&np)|0}}function rS(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=tS(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const NC=(t,e)=>BigInt(t>>>0)<<Nm|BigInt(e>>>0),OC=(t,e,r)=>t>>>r,BC=(t,e,r)=>t<<32-r|e>>>r,DC=(t,e,r)=>t>>>r|e<<32-r,LC=(t,e,r)=>t<<32-r|e>>>r,$C=(t,e,r)=>t<<64-r|e>>>r-32,UC=(t,e,r)=>t>>>r-32|e<<64-r,zC=(t,e)=>e,FC=(t,e)=>t,nS=(t,e,r)=>t<<r|e>>>32-r,iS=(t,e,r)=>e<<r|t>>>32-r,sS=(t,e,r)=>e<<r-32|t>>>64-r,oS=(t,e,r)=>t<<r-32|e>>>64-r;function qC(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const KC=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),jC=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,WC=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),HC=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,VC=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),GC=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Zt={fromBig:tS,split:rS,toBig:NC,shrSH:OC,shrSL:BC,rotrSH:DC,rotrSL:LC,rotrBH:$C,rotrBL:UC,rotr32H:zC,rotr32L:FC,rotlSH:nS,rotlSL:iS,rotlBH:sS,rotlBL:oS,add:qC,add3L:KC,add3H:jC,add4L:WC,add4H:HC,add5H:GC,add5L:VC},[YC,JC]=Zt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),uc=new Uint32Array(80),dc=new Uint32Array(80);let XC=class extends eS{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:g,Fh:b,Fl:x,Gh:_,Gl:E,Hh:M,Hl:B}=this;return[e,r,n,i,s,o,a,c,l,g,b,x,_,E,M,B]}set(e,r,n,i,s,o,a,c,l,g,b,x,_,E,M,B){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=g|0,this.Fh=b|0,this.Fl=x|0,this.Gh=_|0,this.Gl=E|0,this.Hh=M|0,this.Hl=B|0}process(e,r){for(let D=0;D<16;D++,r+=4)uc[D]=e.getUint32(r),dc[D]=e.getUint32(r+=4);for(let D=16;D<80;D++){const U=uc[D-15]|0,F=dc[D-15]|0,W=Zt.rotrSH(U,F,1)^Zt.rotrSH(U,F,8)^Zt.shrSH(U,F,7),k=Zt.rotrSL(U,F,1)^Zt.rotrSL(U,F,8)^Zt.shrSL(U,F,7),K=uc[D-2]|0,te=dc[D-2]|0,ce=Zt.rotrSH(K,te,19)^Zt.rotrBH(K,te,61)^Zt.shrSH(K,te,6),A=Zt.rotrSL(K,te,19)^Zt.rotrBL(K,te,61)^Zt.shrSL(K,te,6),f=Zt.add4L(k,A,dc[D-7],dc[D-16]),h=Zt.add4H(f,W,ce,uc[D-7],uc[D-16]);uc[D]=h|0,dc[D]=f|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:g,Eh:b,El:x,Fh:_,Fl:E,Gh:M,Gl:B,Hh:P,Hl:R}=this;for(let D=0;D<80;D++){const U=Zt.rotrSH(b,x,14)^Zt.rotrSH(b,x,18)^Zt.rotrBH(b,x,41),F=Zt.rotrSL(b,x,14)^Zt.rotrSL(b,x,18)^Zt.rotrBL(b,x,41),W=b&_^~b&M,k=x&E^~x&B,K=Zt.add5L(R,F,k,JC[D],dc[D]),te=Zt.add5H(K,P,U,W,YC[D],uc[D]),ce=K|0,A=Zt.rotrSH(n,i,28)^Zt.rotrBH(n,i,34)^Zt.rotrBH(n,i,39),f=Zt.rotrSL(n,i,28)^Zt.rotrBL(n,i,34)^Zt.rotrBL(n,i,39),h=n&s^n&a^s&a,d=i&o^i&c^o&c;P=M|0,R=B|0,M=_|0,B=E|0,_=b|0,E=x|0,{h:b,l:x}=Zt.add(l|0,g|0,te|0,ce|0),l=a|0,g=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const p=Zt.add3L(ce,f,d);n=Zt.add3H(p,te,A,h),i=p|0}({h:n,l:i}=Zt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Zt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Zt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:g}=Zt.add(this.Dh|0,this.Dl|0,l|0,g|0),{h:b,l:x}=Zt.add(this.Eh|0,this.El|0,b|0,x|0),{h:_,l:E}=Zt.add(this.Fh|0,this.Fl|0,_|0,E|0),{h:M,l:B}=Zt.add(this.Gh|0,this.Gl|0,M|0,B|0),{h:P,l:R}=Zt.add(this.Hh|0,this.Hl|0,P|0,R|0),this.set(n,i,s,o,a,c,l,g,b,x,_,E,M,B,P,R)}roundClean(){uc.fill(0),dc.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const ZC=B3(()=>new XC);var D3={exports:{}};const QC={},eT=Object.freeze(Object.defineProperty({__proto__:null,default:QC},Symbol.toStringTag,{value:"Module"})),Og=n0(eT);D3.exports;(function(t){(function(e,r){function n(h,d){if(!h)throw new Error(d||"Assertion failed")}function i(h,d){h.super_=d;var p=function(){};p.prototype=d.prototype,h.prototype=new p,h.prototype.constructor=h}function s(h,d,p){if(s.isBN(h))return h;this.negative=0,this.words=null,this.length=0,this.red=null,h!==null&&((d==="le"||d==="be")&&(p=d,d=10),this._init(h||0,d||10,p||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Og.Buffer}catch{}s.isBN=function(d){return d instanceof s?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===s.wordSize&&Array.isArray(d.words)},s.max=function(d,p){return d.cmp(p)>0?d:p},s.min=function(d,p){return d.cmp(p)<0?d:p},s.prototype._init=function(d,p,v){if(typeof d=="number")return this._initNumber(d,p,v);if(typeof d=="object")return this._initArray(d,p,v);p==="hex"&&(p=16),n(p===(p|0)&&p>=2&&p<=36),d=d.toString().replace(/\s+/g,"");var w=0;d[0]==="-"&&(w++,this.negative=1),w<d.length&&(p===16?this._parseHex(d,w,v):(this._parseBase(d,p,w),v==="le"&&this._initArray(this.toArray(),p,v)))},s.prototype._initNumber=function(d,p,v){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(n(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),p,v)},s.prototype._initArray=function(d,p,v){if(n(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,y,u=0;if(v==="be")for(w=d.length-1,S=0;w>=0;w-=3)y=d[w]|d[w-1]<<8|d[w-2]<<16,this.words[S]|=y<<u&67108863,this.words[S+1]=y>>>26-u&67108863,u+=24,u>=26&&(u-=26,S++);else if(v==="le")for(w=0,S=0;w<d.length;w+=3)y=d[w]|d[w+1]<<8|d[w+2]<<16,this.words[S]|=y<<u&67108863,this.words[S+1]=y>>>26-u&67108863,u+=24,u>=26&&(u-=26,S++);return this._strip()};function a(h,d){var p=h.charCodeAt(d);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;n(!1,"Invalid character in "+h)}function c(h,d,p){var v=a(h,p);return p-1>=d&&(v|=a(h,p-1)<<4),v}s.prototype._parseHex=function(d,p,v){this.length=Math.ceil((d.length-p)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S=0,y=0,u;if(v==="be")for(w=d.length-1;w>=p;w-=2)u=c(d,p,w)<<S,this.words[y]|=u&67108863,S>=18?(S-=18,y+=1,this.words[y]|=u>>>26):S+=8;else{var m=d.length-p;for(w=m%2===0?p+1:p;w<d.length;w+=2)u=c(d,p,w)<<S,this.words[y]|=u&67108863,S>=18?(S-=18,y+=1,this.words[y]|=u>>>26):S+=8}this._strip()};function l(h,d,p,v){for(var w=0,S=0,y=Math.min(h.length,p),u=d;u<y;u++){var m=h.charCodeAt(u)-48;w*=v,m>=49?S=m-49+10:m>=17?S=m-17+10:S=m,n(m>=0&&S<v,"Invalid character"),w+=S}return w}s.prototype._parseBase=function(d,p,v){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=p)w++;w--,S=S/p|0;for(var y=d.length-v,u=y%w,m=Math.min(y,y-u)+v,I=0,$=v;$<m;$+=w)I=l(d,$,$+w,p),this.imuln(S),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I);if(u!==0){var Z=1;for(I=l(d,$,d.length,p),$=0;$<u;$++)Z*=p;this.imuln(Z),this.words[0]+I<67108864?this.words[0]+=I:this._iaddn(I)}this._strip()},s.prototype.copy=function(d){d.words=new Array(this.length);for(var p=0;p<this.length;p++)d.words[p]=this.words[p];d.length=this.length,d.negative=this.negative,d.red=this.red};function g(h,d){h.words=d.words,h.length=d.length,h.negative=d.negative,h.red=d.red}if(s.prototype._move=function(d){g(d,this)},s.prototype.clone=function(){var d=new s(null);return this.copy(d),d},s.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{s.prototype.inspect=b}else s.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var x=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],_=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],E=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(d,p){d=d||10,p=p|0||1;var v;if(d===16||d==="hex"){v="";for(var w=0,S=0,y=0;y<this.length;y++){var u=this.words[y],m=((u<<w|S)&16777215).toString(16);S=u>>>24-w&16777215,w+=2,w>=26&&(w-=26,y--),S!==0||y!==this.length-1?v=x[6-m.length]+m+v:v=m+v}for(S!==0&&(v=S.toString(16)+v);v.length%p!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(d===(d|0)&&d>=2&&d<=36){var I=_[d],$=E[d];v="";var Z=this.clone();for(Z.negative=0;!Z.isZero();){var O=Z.modrn($).toString(d);Z=Z.idivn($),Z.isZero()?v=O+v:v=x[I-O.length]+O+v}for(this.isZero()&&(v="0"+v);v.length%p!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(d,p){return this.toArrayLike(o,d,p)}),s.prototype.toArray=function(d,p){return this.toArrayLike(Array,d,p)};var M=function(d,p){return d.allocUnsafe?d.allocUnsafe(p):new d(p)};s.prototype.toArrayLike=function(d,p,v){this._strip();var w=this.byteLength(),S=v||Math.max(1,w);n(w<=S,"byte array longer than desired length"),n(S>0,"Requested array length <= 0");var y=M(d,S),u=p==="le"?"LE":"BE";return this["_toArrayLike"+u](y,w),y},s.prototype._toArrayLikeLE=function(d,p){for(var v=0,w=0,S=0,y=0;S<this.length;S++){var u=this.words[S]<<y|w;d[v++]=u&255,v<d.length&&(d[v++]=u>>8&255),v<d.length&&(d[v++]=u>>16&255),y===6?(v<d.length&&(d[v++]=u>>24&255),w=0,y=0):(w=u>>>24,y+=2)}if(v<d.length)for(d[v++]=w;v<d.length;)d[v++]=0},s.prototype._toArrayLikeBE=function(d,p){for(var v=d.length-1,w=0,S=0,y=0;S<this.length;S++){var u=this.words[S]<<y|w;d[v--]=u&255,v>=0&&(d[v--]=u>>8&255),v>=0&&(d[v--]=u>>16&255),y===6?(v>=0&&(d[v--]=u>>24&255),w=0,y=0):(w=u>>>24,y+=2)}if(v>=0)for(d[v--]=w;v>=0;)d[v--]=0},Math.clz32?s.prototype._countBits=function(d){return 32-Math.clz32(d)}:s.prototype._countBits=function(d){var p=d,v=0;return p>=4096&&(v+=13,p>>>=13),p>=64&&(v+=7,p>>>=7),p>=8&&(v+=4,p>>>=4),p>=2&&(v+=2,p>>>=2),v+p},s.prototype._zeroBits=function(d){if(d===0)return 26;var p=d,v=0;return p&8191||(v+=13,p>>>=13),p&127||(v+=7,p>>>=7),p&15||(v+=4,p>>>=4),p&3||(v+=2,p>>>=2),p&1||v++,v},s.prototype.bitLength=function(){var d=this.words[this.length-1],p=this._countBits(d);return(this.length-1)*26+p};function B(h){for(var d=new Array(h.bitLength()),p=0;p<d.length;p++){var v=p/26|0,w=p%26;d[p]=h.words[v]>>>w&1}return d}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,p=0;p<this.length;p++){var v=this._zeroBits(this.words[p]);if(d+=v,v!==26)break}return d},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},s.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]|d.words[p];return this._strip()},s.prototype.ior=function(d){return n((this.negative|d.negative)===0),this.iuor(d)},s.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},s.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},s.prototype.iuand=function(d){var p;this.length>d.length?p=d:p=this;for(var v=0;v<p.length;v++)this.words[v]=this.words[v]&d.words[v];return this.length=p.length,this._strip()},s.prototype.iand=function(d){return n((this.negative|d.negative)===0),this.iuand(d)},s.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},s.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},s.prototype.iuxor=function(d){var p,v;this.length>d.length?(p=this,v=d):(p=d,v=this);for(var w=0;w<v.length;w++)this.words[w]=p.words[w]^v.words[w];if(this!==p)for(;w<p.length;w++)this.words[w]=p.words[w];return this.length=p.length,this._strip()},s.prototype.ixor=function(d){return n((this.negative|d.negative)===0),this.iuxor(d)},s.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},s.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},s.prototype.inotn=function(d){n(typeof d=="number"&&d>=0);var p=Math.ceil(d/26)|0,v=d%26;this._expand(p),v>0&&p--;for(var w=0;w<p;w++)this.words[w]=~this.words[w]&67108863;return v>0&&(this.words[w]=~this.words[w]&67108863>>26-v),this._strip()},s.prototype.notn=function(d){return this.clone().inotn(d)},s.prototype.setn=function(d,p){n(typeof d=="number"&&d>=0);var v=d/26|0,w=d%26;return this._expand(v+1),p?this.words[v]=this.words[v]|1<<w:this.words[v]=this.words[v]&~(1<<w),this._strip()},s.prototype.iadd=function(d){var p;if(this.negative!==0&&d.negative===0)return this.negative=0,p=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,p=this.isub(d),d.negative=1,p._normSign();var v,w;this.length>d.length?(v=this,w=d):(v=d,w=this);for(var S=0,y=0;y<w.length;y++)p=(v.words[y]|0)+(w.words[y]|0)+S,this.words[y]=p&67108863,S=p>>>26;for(;S!==0&&y<v.length;y++)p=(v.words[y]|0)+S,this.words[y]=p&67108863,S=p>>>26;if(this.length=v.length,S!==0)this.words[this.length]=S,this.length++;else if(v!==this)for(;y<v.length;y++)this.words[y]=v.words[y];return this},s.prototype.add=function(d){var p;return d.negative!==0&&this.negative===0?(d.negative=0,p=this.sub(d),d.negative^=1,p):d.negative===0&&this.negative!==0?(this.negative=0,p=d.sub(this),this.negative=1,p):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},s.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var p=this.iadd(d);return d.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var v=this.cmp(d);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var w,S;v>0?(w=this,S=d):(w=d,S=this);for(var y=0,u=0;u<S.length;u++)p=(w.words[u]|0)-(S.words[u]|0)+y,y=p>>26,this.words[u]=p&67108863;for(;y!==0&&u<w.length;u++)p=(w.words[u]|0)+y,y=p>>26,this.words[u]=p&67108863;if(y===0&&u<w.length&&w!==this)for(;u<w.length;u++)this.words[u]=w.words[u];return this.length=Math.max(this.length,u),w!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(d){return this.clone().isub(d)};function P(h,d,p){p.negative=d.negative^h.negative;var v=h.length+d.length|0;p.length=v,v=v-1|0;var w=h.words[0]|0,S=d.words[0]|0,y=w*S,u=y&67108863,m=y/67108864|0;p.words[0]=u;for(var I=1;I<v;I++){for(var $=m>>>26,Z=m&67108863,O=Math.min(I,d.length-1),Q=Math.max(0,I-h.length+1);Q<=O;Q++){var Y=I-Q|0;w=h.words[Y]|0,S=d.words[Q]|0,y=w*S+Z,$+=y/67108864|0,Z=y&67108863}p.words[I]=Z|0,m=$|0}return m!==0?p.words[I]=m|0:p.length--,p._strip()}var R=function(d,p,v){var w=d.words,S=p.words,y=v.words,u=0,m,I,$,Z=w[0]|0,O=Z&8191,Q=Z>>>13,Y=w[1]|0,X=Y&8191,J=Y>>>13,N=w[2]|0,ee=N&8191,se=N>>>13,le=w[3]|0,Ee=le&8191,ye=le>>>13,Be=w[4]|0,bt=Be&8191,ke=Be>>>13,Ke=w[5]|0,dt=Ke&8191,_e=Ke>>>13,Ae=w[6]|0,ot=Ae&8191,xe=Ae>>>13,Ie=w[7]|0,it=Ie&8191,q=Ie>>>13,T=w[8]|0,L=T&8191,G=T>>>13,re=w[9]|0,fe=re&8191,oe=re>>>13,we=S[0]|0,Ge=we&8191,Se=we>>>13,Le=S[1]|0,gt=Le&8191,Ue=Le>>>13,ct=S[2]|0,Ht=ct&8191,Ye=ct>>>13,Je=S[3]|0,St=Je&8191,Re=Je>>>13,Ve=S[4]|0,Ot=Ve&8191,Ce=Ve>>>13,Ze=S[5]|0,Dt=Ze&8191,Me=Ze>>>13,Qe=S[6]|0,z=Qe&8191,j=Qe>>>13,H=S[7]|0,C=H&8191,V=H>>>13,ie=S[8]|0,de=ie&8191,ue=ie>>>13,pe=S[9]|0,$e=pe&8191,De=pe>>>13;v.negative=d.negative^p.negative,v.length=19,m=Math.imul(O,Ge),I=Math.imul(O,Se),I=I+Math.imul(Q,Ge)|0,$=Math.imul(Q,Se);var Bt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,m=Math.imul(X,Ge),I=Math.imul(X,Se),I=I+Math.imul(J,Ge)|0,$=Math.imul(J,Se),m=m+Math.imul(O,gt)|0,I=I+Math.imul(O,Ue)|0,I=I+Math.imul(Q,gt)|0,$=$+Math.imul(Q,Ue)|0;var tt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(tt>>>26)|0,tt&=67108863,m=Math.imul(ee,Ge),I=Math.imul(ee,Se),I=I+Math.imul(se,Ge)|0,$=Math.imul(se,Se),m=m+Math.imul(X,gt)|0,I=I+Math.imul(X,Ue)|0,I=I+Math.imul(J,gt)|0,$=$+Math.imul(J,Ue)|0,m=m+Math.imul(O,Ht)|0,I=I+Math.imul(O,Ye)|0,I=I+Math.imul(Q,Ht)|0,$=$+Math.imul(Q,Ye)|0;var xt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(xt>>>26)|0,xt&=67108863,m=Math.imul(Ee,Ge),I=Math.imul(Ee,Se),I=I+Math.imul(ye,Ge)|0,$=Math.imul(ye,Se),m=m+Math.imul(ee,gt)|0,I=I+Math.imul(ee,Ue)|0,I=I+Math.imul(se,gt)|0,$=$+Math.imul(se,Ue)|0,m=m+Math.imul(X,Ht)|0,I=I+Math.imul(X,Ye)|0,I=I+Math.imul(J,Ht)|0,$=$+Math.imul(J,Ye)|0,m=m+Math.imul(O,St)|0,I=I+Math.imul(O,Re)|0,I=I+Math.imul(Q,St)|0,$=$+Math.imul(Q,Re)|0;var _t=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(_t>>>26)|0,_t&=67108863,m=Math.imul(bt,Ge),I=Math.imul(bt,Se),I=I+Math.imul(ke,Ge)|0,$=Math.imul(ke,Se),m=m+Math.imul(Ee,gt)|0,I=I+Math.imul(Ee,Ue)|0,I=I+Math.imul(ye,gt)|0,$=$+Math.imul(ye,Ue)|0,m=m+Math.imul(ee,Ht)|0,I=I+Math.imul(ee,Ye)|0,I=I+Math.imul(se,Ht)|0,$=$+Math.imul(se,Ye)|0,m=m+Math.imul(X,St)|0,I=I+Math.imul(X,Re)|0,I=I+Math.imul(J,St)|0,$=$+Math.imul(J,Re)|0,m=m+Math.imul(O,Ot)|0,I=I+Math.imul(O,Ce)|0,I=I+Math.imul(Q,Ot)|0,$=$+Math.imul(Q,Ce)|0;var mt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(mt>>>26)|0,mt&=67108863,m=Math.imul(dt,Ge),I=Math.imul(dt,Se),I=I+Math.imul(_e,Ge)|0,$=Math.imul(_e,Se),m=m+Math.imul(bt,gt)|0,I=I+Math.imul(bt,Ue)|0,I=I+Math.imul(ke,gt)|0,$=$+Math.imul(ke,Ue)|0,m=m+Math.imul(Ee,Ht)|0,I=I+Math.imul(Ee,Ye)|0,I=I+Math.imul(ye,Ht)|0,$=$+Math.imul(ye,Ye)|0,m=m+Math.imul(ee,St)|0,I=I+Math.imul(ee,Re)|0,I=I+Math.imul(se,St)|0,$=$+Math.imul(se,Re)|0,m=m+Math.imul(X,Ot)|0,I=I+Math.imul(X,Ce)|0,I=I+Math.imul(J,Ot)|0,$=$+Math.imul(J,Ce)|0,m=m+Math.imul(O,Dt)|0,I=I+Math.imul(O,Me)|0,I=I+Math.imul(Q,Dt)|0,$=$+Math.imul(Q,Me)|0;var Tt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,m=Math.imul(ot,Ge),I=Math.imul(ot,Se),I=I+Math.imul(xe,Ge)|0,$=Math.imul(xe,Se),m=m+Math.imul(dt,gt)|0,I=I+Math.imul(dt,Ue)|0,I=I+Math.imul(_e,gt)|0,$=$+Math.imul(_e,Ue)|0,m=m+Math.imul(bt,Ht)|0,I=I+Math.imul(bt,Ye)|0,I=I+Math.imul(ke,Ht)|0,$=$+Math.imul(ke,Ye)|0,m=m+Math.imul(Ee,St)|0,I=I+Math.imul(Ee,Re)|0,I=I+Math.imul(ye,St)|0,$=$+Math.imul(ye,Re)|0,m=m+Math.imul(ee,Ot)|0,I=I+Math.imul(ee,Ce)|0,I=I+Math.imul(se,Ot)|0,$=$+Math.imul(se,Ce)|0,m=m+Math.imul(X,Dt)|0,I=I+Math.imul(X,Me)|0,I=I+Math.imul(J,Dt)|0,$=$+Math.imul(J,Me)|0,m=m+Math.imul(O,z)|0,I=I+Math.imul(O,j)|0,I=I+Math.imul(Q,z)|0,$=$+Math.imul(Q,j)|0;var Mt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,m=Math.imul(it,Ge),I=Math.imul(it,Se),I=I+Math.imul(q,Ge)|0,$=Math.imul(q,Se),m=m+Math.imul(ot,gt)|0,I=I+Math.imul(ot,Ue)|0,I=I+Math.imul(xe,gt)|0,$=$+Math.imul(xe,Ue)|0,m=m+Math.imul(dt,Ht)|0,I=I+Math.imul(dt,Ye)|0,I=I+Math.imul(_e,Ht)|0,$=$+Math.imul(_e,Ye)|0,m=m+Math.imul(bt,St)|0,I=I+Math.imul(bt,Re)|0,I=I+Math.imul(ke,St)|0,$=$+Math.imul(ke,Re)|0,m=m+Math.imul(Ee,Ot)|0,I=I+Math.imul(Ee,Ce)|0,I=I+Math.imul(ye,Ot)|0,$=$+Math.imul(ye,Ce)|0,m=m+Math.imul(ee,Dt)|0,I=I+Math.imul(ee,Me)|0,I=I+Math.imul(se,Dt)|0,$=$+Math.imul(se,Me)|0,m=m+Math.imul(X,z)|0,I=I+Math.imul(X,j)|0,I=I+Math.imul(J,z)|0,$=$+Math.imul(J,j)|0,m=m+Math.imul(O,C)|0,I=I+Math.imul(O,V)|0,I=I+Math.imul(Q,C)|0,$=$+Math.imul(Q,V)|0;var kt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(L,Ge),I=Math.imul(L,Se),I=I+Math.imul(G,Ge)|0,$=Math.imul(G,Se),m=m+Math.imul(it,gt)|0,I=I+Math.imul(it,Ue)|0,I=I+Math.imul(q,gt)|0,$=$+Math.imul(q,Ue)|0,m=m+Math.imul(ot,Ht)|0,I=I+Math.imul(ot,Ye)|0,I=I+Math.imul(xe,Ht)|0,$=$+Math.imul(xe,Ye)|0,m=m+Math.imul(dt,St)|0,I=I+Math.imul(dt,Re)|0,I=I+Math.imul(_e,St)|0,$=$+Math.imul(_e,Re)|0,m=m+Math.imul(bt,Ot)|0,I=I+Math.imul(bt,Ce)|0,I=I+Math.imul(ke,Ot)|0,$=$+Math.imul(ke,Ce)|0,m=m+Math.imul(Ee,Dt)|0,I=I+Math.imul(Ee,Me)|0,I=I+Math.imul(ye,Dt)|0,$=$+Math.imul(ye,Me)|0,m=m+Math.imul(ee,z)|0,I=I+Math.imul(ee,j)|0,I=I+Math.imul(se,z)|0,$=$+Math.imul(se,j)|0,m=m+Math.imul(X,C)|0,I=I+Math.imul(X,V)|0,I=I+Math.imul(J,C)|0,$=$+Math.imul(J,V)|0,m=m+Math.imul(O,de)|0,I=I+Math.imul(O,ue)|0,I=I+Math.imul(Q,de)|0,$=$+Math.imul(Q,ue)|0;var Pt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,m=Math.imul(fe,Ge),I=Math.imul(fe,Se),I=I+Math.imul(oe,Ge)|0,$=Math.imul(oe,Se),m=m+Math.imul(L,gt)|0,I=I+Math.imul(L,Ue)|0,I=I+Math.imul(G,gt)|0,$=$+Math.imul(G,Ue)|0,m=m+Math.imul(it,Ht)|0,I=I+Math.imul(it,Ye)|0,I=I+Math.imul(q,Ht)|0,$=$+Math.imul(q,Ye)|0,m=m+Math.imul(ot,St)|0,I=I+Math.imul(ot,Re)|0,I=I+Math.imul(xe,St)|0,$=$+Math.imul(xe,Re)|0,m=m+Math.imul(dt,Ot)|0,I=I+Math.imul(dt,Ce)|0,I=I+Math.imul(_e,Ot)|0,$=$+Math.imul(_e,Ce)|0,m=m+Math.imul(bt,Dt)|0,I=I+Math.imul(bt,Me)|0,I=I+Math.imul(ke,Dt)|0,$=$+Math.imul(ke,Me)|0,m=m+Math.imul(Ee,z)|0,I=I+Math.imul(Ee,j)|0,I=I+Math.imul(ye,z)|0,$=$+Math.imul(ye,j)|0,m=m+Math.imul(ee,C)|0,I=I+Math.imul(ee,V)|0,I=I+Math.imul(se,C)|0,$=$+Math.imul(se,V)|0,m=m+Math.imul(X,de)|0,I=I+Math.imul(X,ue)|0,I=I+Math.imul(J,de)|0,$=$+Math.imul(J,ue)|0,m=m+Math.imul(O,$e)|0,I=I+Math.imul(O,De)|0,I=I+Math.imul(Q,$e)|0,$=$+Math.imul(Q,De)|0;var at=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(at>>>26)|0,at&=67108863,m=Math.imul(fe,gt),I=Math.imul(fe,Ue),I=I+Math.imul(oe,gt)|0,$=Math.imul(oe,Ue),m=m+Math.imul(L,Ht)|0,I=I+Math.imul(L,Ye)|0,I=I+Math.imul(G,Ht)|0,$=$+Math.imul(G,Ye)|0,m=m+Math.imul(it,St)|0,I=I+Math.imul(it,Re)|0,I=I+Math.imul(q,St)|0,$=$+Math.imul(q,Re)|0,m=m+Math.imul(ot,Ot)|0,I=I+Math.imul(ot,Ce)|0,I=I+Math.imul(xe,Ot)|0,$=$+Math.imul(xe,Ce)|0,m=m+Math.imul(dt,Dt)|0,I=I+Math.imul(dt,Me)|0,I=I+Math.imul(_e,Dt)|0,$=$+Math.imul(_e,Me)|0,m=m+Math.imul(bt,z)|0,I=I+Math.imul(bt,j)|0,I=I+Math.imul(ke,z)|0,$=$+Math.imul(ke,j)|0,m=m+Math.imul(Ee,C)|0,I=I+Math.imul(Ee,V)|0,I=I+Math.imul(ye,C)|0,$=$+Math.imul(ye,V)|0,m=m+Math.imul(ee,de)|0,I=I+Math.imul(ee,ue)|0,I=I+Math.imul(se,de)|0,$=$+Math.imul(se,ue)|0,m=m+Math.imul(X,$e)|0,I=I+Math.imul(X,De)|0,I=I+Math.imul(J,$e)|0,$=$+Math.imul(J,De)|0;var pt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(pt>>>26)|0,pt&=67108863,m=Math.imul(fe,Ht),I=Math.imul(fe,Ye),I=I+Math.imul(oe,Ht)|0,$=Math.imul(oe,Ye),m=m+Math.imul(L,St)|0,I=I+Math.imul(L,Re)|0,I=I+Math.imul(G,St)|0,$=$+Math.imul(G,Re)|0,m=m+Math.imul(it,Ot)|0,I=I+Math.imul(it,Ce)|0,I=I+Math.imul(q,Ot)|0,$=$+Math.imul(q,Ce)|0,m=m+Math.imul(ot,Dt)|0,I=I+Math.imul(ot,Me)|0,I=I+Math.imul(xe,Dt)|0,$=$+Math.imul(xe,Me)|0,m=m+Math.imul(dt,z)|0,I=I+Math.imul(dt,j)|0,I=I+Math.imul(_e,z)|0,$=$+Math.imul(_e,j)|0,m=m+Math.imul(bt,C)|0,I=I+Math.imul(bt,V)|0,I=I+Math.imul(ke,C)|0,$=$+Math.imul(ke,V)|0,m=m+Math.imul(Ee,de)|0,I=I+Math.imul(Ee,ue)|0,I=I+Math.imul(ye,de)|0,$=$+Math.imul(ye,ue)|0,m=m+Math.imul(ee,$e)|0,I=I+Math.imul(ee,De)|0,I=I+Math.imul(se,$e)|0,$=$+Math.imul(se,De)|0;var rt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(rt>>>26)|0,rt&=67108863,m=Math.imul(fe,St),I=Math.imul(fe,Re),I=I+Math.imul(oe,St)|0,$=Math.imul(oe,Re),m=m+Math.imul(L,Ot)|0,I=I+Math.imul(L,Ce)|0,I=I+Math.imul(G,Ot)|0,$=$+Math.imul(G,Ce)|0,m=m+Math.imul(it,Dt)|0,I=I+Math.imul(it,Me)|0,I=I+Math.imul(q,Dt)|0,$=$+Math.imul(q,Me)|0,m=m+Math.imul(ot,z)|0,I=I+Math.imul(ot,j)|0,I=I+Math.imul(xe,z)|0,$=$+Math.imul(xe,j)|0,m=m+Math.imul(dt,C)|0,I=I+Math.imul(dt,V)|0,I=I+Math.imul(_e,C)|0,$=$+Math.imul(_e,V)|0,m=m+Math.imul(bt,de)|0,I=I+Math.imul(bt,ue)|0,I=I+Math.imul(ke,de)|0,$=$+Math.imul(ke,ue)|0,m=m+Math.imul(Ee,$e)|0,I=I+Math.imul(Ee,De)|0,I=I+Math.imul(ye,$e)|0,$=$+Math.imul(ye,De)|0;var ft=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(ft>>>26)|0,ft&=67108863,m=Math.imul(fe,Ot),I=Math.imul(fe,Ce),I=I+Math.imul(oe,Ot)|0,$=Math.imul(oe,Ce),m=m+Math.imul(L,Dt)|0,I=I+Math.imul(L,Me)|0,I=I+Math.imul(G,Dt)|0,$=$+Math.imul(G,Me)|0,m=m+Math.imul(it,z)|0,I=I+Math.imul(it,j)|0,I=I+Math.imul(q,z)|0,$=$+Math.imul(q,j)|0,m=m+Math.imul(ot,C)|0,I=I+Math.imul(ot,V)|0,I=I+Math.imul(xe,C)|0,$=$+Math.imul(xe,V)|0,m=m+Math.imul(dt,de)|0,I=I+Math.imul(dt,ue)|0,I=I+Math.imul(_e,de)|0,$=$+Math.imul(_e,ue)|0,m=m+Math.imul(bt,$e)|0,I=I+Math.imul(bt,De)|0,I=I+Math.imul(ke,$e)|0,$=$+Math.imul(ke,De)|0;var nt=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(nt>>>26)|0,nt&=67108863,m=Math.imul(fe,Dt),I=Math.imul(fe,Me),I=I+Math.imul(oe,Dt)|0,$=Math.imul(oe,Me),m=m+Math.imul(L,z)|0,I=I+Math.imul(L,j)|0,I=I+Math.imul(G,z)|0,$=$+Math.imul(G,j)|0,m=m+Math.imul(it,C)|0,I=I+Math.imul(it,V)|0,I=I+Math.imul(q,C)|0,$=$+Math.imul(q,V)|0,m=m+Math.imul(ot,de)|0,I=I+Math.imul(ot,ue)|0,I=I+Math.imul(xe,de)|0,$=$+Math.imul(xe,ue)|0,m=m+Math.imul(dt,$e)|0,I=I+Math.imul(dt,De)|0,I=I+Math.imul(_e,$e)|0,$=$+Math.imul(_e,De)|0;var et=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(et>>>26)|0,et&=67108863,m=Math.imul(fe,z),I=Math.imul(fe,j),I=I+Math.imul(oe,z)|0,$=Math.imul(oe,j),m=m+Math.imul(L,C)|0,I=I+Math.imul(L,V)|0,I=I+Math.imul(G,C)|0,$=$+Math.imul(G,V)|0,m=m+Math.imul(it,de)|0,I=I+Math.imul(it,ue)|0,I=I+Math.imul(q,de)|0,$=$+Math.imul(q,ue)|0,m=m+Math.imul(ot,$e)|0,I=I+Math.imul(ot,De)|0,I=I+Math.imul(xe,$e)|0,$=$+Math.imul(xe,De)|0;var be=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(be>>>26)|0,be&=67108863,m=Math.imul(fe,C),I=Math.imul(fe,V),I=I+Math.imul(oe,C)|0,$=Math.imul(oe,V),m=m+Math.imul(L,de)|0,I=I+Math.imul(L,ue)|0,I=I+Math.imul(G,de)|0,$=$+Math.imul(G,ue)|0,m=m+Math.imul(it,$e)|0,I=I+Math.imul(it,De)|0,I=I+Math.imul(q,$e)|0,$=$+Math.imul(q,De)|0;var ve=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(ve>>>26)|0,ve&=67108863,m=Math.imul(fe,de),I=Math.imul(fe,ue),I=I+Math.imul(oe,de)|0,$=Math.imul(oe,ue),m=m+Math.imul(L,$e)|0,I=I+Math.imul(L,De)|0,I=I+Math.imul(G,$e)|0,$=$+Math.imul(G,De)|0;var ze=(u+m|0)+((I&8191)<<13)|0;u=($+(I>>>13)|0)+(ze>>>26)|0,ze&=67108863,m=Math.imul(fe,$e),I=Math.imul(fe,De),I=I+Math.imul(oe,$e)|0,$=Math.imul(oe,De);var Pe=(u+m|0)+((I&8191)<<13)|0;return u=($+(I>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,y[0]=Bt,y[1]=tt,y[2]=xt,y[3]=_t,y[4]=mt,y[5]=Tt,y[6]=Mt,y[7]=kt,y[8]=Pt,y[9]=at,y[10]=pt,y[11]=rt,y[12]=ft,y[13]=nt,y[14]=et,y[15]=be,y[16]=ve,y[17]=ze,y[18]=Pe,u!==0&&(y[19]=u,v.length++),v};Math.imul||(R=P);function D(h,d,p){p.negative=d.negative^h.negative,p.length=h.length+d.length;for(var v=0,w=0,S=0;S<p.length-1;S++){var y=w;w=0;for(var u=v&67108863,m=Math.min(S,d.length-1),I=Math.max(0,S-h.length+1);I<=m;I++){var $=S-I,Z=h.words[$]|0,O=d.words[I]|0,Q=Z*O,Y=Q&67108863;y=y+(Q/67108864|0)|0,Y=Y+u|0,u=Y&67108863,y=y+(Y>>>26)|0,w+=y>>>26,y&=67108863}p.words[S]=u,v=y,y=w}return v!==0?p.words[S]=v:p.length--,p._strip()}function U(h,d,p){return D(h,d,p)}s.prototype.mulTo=function(d,p){var v,w=this.length+d.length;return this.length===10&&d.length===10?v=R(this,d,p):w<63?v=P(this,d,p):w<1024?v=D(this,d,p):v=U(this,d,p),v},s.prototype.mul=function(d){var p=new s(null);return p.words=new Array(this.length+d.length),this.mulTo(d,p)},s.prototype.mulf=function(d){var p=new s(null);return p.words=new Array(this.length+d.length),U(this,d,p)},s.prototype.imul=function(d){return this.clone().mulTo(d,this)},s.prototype.imuln=function(d){var p=d<0;p&&(d=-d),n(typeof d=="number"),n(d<67108864);for(var v=0,w=0;w<this.length;w++){var S=(this.words[w]|0)*d,y=(S&67108863)+(v&67108863);v>>=26,v+=S/67108864|0,v+=y>>>26,this.words[w]=y&67108863}return v!==0&&(this.words[w]=v,this.length++),p?this.ineg():this},s.prototype.muln=function(d){return this.clone().imuln(d)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(d){var p=B(d);if(p.length===0)return new s(1);for(var v=this,w=0;w<p.length&&p[w]===0;w++,v=v.sqr());if(++w<p.length)for(var S=v.sqr();w<p.length;w++,S=S.sqr())p[w]!==0&&(v=v.mul(S));return v},s.prototype.iushln=function(d){n(typeof d=="number"&&d>=0);var p=d%26,v=(d-p)/26,w=67108863>>>26-p<<26-p,S;if(p!==0){var y=0;for(S=0;S<this.length;S++){var u=this.words[S]&w,m=(this.words[S]|0)-u<<p;this.words[S]=m|y,y=u>>>26-p}y&&(this.words[S]=y,this.length++)}if(v!==0){for(S=this.length-1;S>=0;S--)this.words[S+v]=this.words[S];for(S=0;S<v;S++)this.words[S]=0;this.length+=v}return this._strip()},s.prototype.ishln=function(d){return n(this.negative===0),this.iushln(d)},s.prototype.iushrn=function(d,p,v){n(typeof d=="number"&&d>=0);var w;p?w=(p-p%26)/26:w=0;var S=d%26,y=Math.min((d-S)/26,this.length),u=67108863^67108863>>>S<<S,m=v;if(w-=y,w=Math.max(0,w),m){for(var I=0;I<y;I++)m.words[I]=this.words[I];m.length=y}if(y!==0)if(this.length>y)for(this.length-=y,I=0;I<this.length;I++)this.words[I]=this.words[I+y];else this.words[0]=0,this.length=1;var $=0;for(I=this.length-1;I>=0&&($!==0||I>=w);I--){var Z=this.words[I]|0;this.words[I]=$<<26-S|Z>>>S,$=Z&u}return m&&$!==0&&(m.words[m.length++]=$),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(d,p,v){return n(this.negative===0),this.iushrn(d,p,v)},s.prototype.shln=function(d){return this.clone().ishln(d)},s.prototype.ushln=function(d){return this.clone().iushln(d)},s.prototype.shrn=function(d){return this.clone().ishrn(d)},s.prototype.ushrn=function(d){return this.clone().iushrn(d)},s.prototype.testn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,v=(d-p)/26,w=1<<p;if(this.length<=v)return!1;var S=this.words[v];return!!(S&w)},s.prototype.imaskn=function(d){n(typeof d=="number"&&d>=0);var p=d%26,v=(d-p)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(p!==0&&v++,this.length=Math.min(v,this.length),p!==0){var w=67108863^67108863>>>p<<p;this.words[this.length-1]&=w}return this._strip()},s.prototype.maskn=function(d){return this.clone().imaskn(d)},s.prototype.iaddn=function(d){return n(typeof d=="number"),n(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<=d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},s.prototype._iaddn=function(d){this.words[0]+=d;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(d){if(n(typeof d=="number"),n(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(d){return this.clone().iaddn(d)},s.prototype.subn=function(d){return this.clone().isubn(d)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(d,p,v){var w=d.length+v,S;this._expand(w);var y,u=0;for(S=0;S<d.length;S++){y=(this.words[S+v]|0)+u;var m=(d.words[S]|0)*p;y-=m&67108863,u=(y>>26)-(m/67108864|0),this.words[S+v]=y&67108863}for(;S<this.length-v;S++)y=(this.words[S+v]|0)+u,u=y>>26,this.words[S+v]=y&67108863;if(u===0)return this._strip();for(n(u===-1),u=0,S=0;S<this.length;S++)y=-(this.words[S]|0)+u,u=y>>26,this.words[S]=y&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(d,p){var v=this.length-d.length,w=this.clone(),S=d,y=S.words[S.length-1]|0,u=this._countBits(y);v=26-u,v!==0&&(S=S.ushln(v),w.iushln(v),y=S.words[S.length-1]|0);var m=w.length-S.length,I;if(p!=="mod"){I=new s(null),I.length=m+1,I.words=new Array(I.length);for(var $=0;$<I.length;$++)I.words[$]=0}var Z=w.clone()._ishlnsubmul(S,1,m);Z.negative===0&&(w=Z,I&&(I.words[m]=1));for(var O=m-1;O>=0;O--){var Q=(w.words[S.length+O]|0)*67108864+(w.words[S.length+O-1]|0);for(Q=Math.min(Q/y|0,67108863),w._ishlnsubmul(S,Q,O);w.negative!==0;)Q--,w.negative=0,w._ishlnsubmul(S,1,O),w.isZero()||(w.negative^=1);I&&(I.words[O]=Q)}return I&&I._strip(),w._strip(),p!=="div"&&v!==0&&w.iushrn(v),{div:I||null,mod:w}},s.prototype.divmod=function(d,p,v){if(n(!d.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var w,S,y;return this.negative!==0&&d.negative===0?(y=this.neg().divmod(d,p),p!=="mod"&&(w=y.div.neg()),p!=="div"&&(S=y.mod.neg(),v&&S.negative!==0&&S.iadd(d)),{div:w,mod:S}):this.negative===0&&d.negative!==0?(y=this.divmod(d.neg(),p),p!=="mod"&&(w=y.div.neg()),{div:w,mod:y.mod}):this.negative&d.negative?(y=this.neg().divmod(d.neg(),p),p!=="div"&&(S=y.mod.neg(),v&&S.negative!==0&&S.isub(d)),{div:y.div,mod:S}):d.length>this.length||this.cmp(d)<0?{div:new s(0),mod:this}:d.length===1?p==="div"?{div:this.divn(d.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new s(this.modrn(d.words[0]))}:this._wordDiv(d,p)},s.prototype.div=function(d){return this.divmod(d,"div",!1).div},s.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},s.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},s.prototype.divRound=function(d){var p=this.divmod(d);if(p.mod.isZero())return p.div;var v=p.div.negative!==0?p.mod.isub(d):p.mod,w=d.ushrn(1),S=d.andln(1),y=v.cmp(w);return y<0||S===1&&y===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(d){var p=d<0;p&&(d=-d),n(d<=67108863);for(var v=(1<<26)%d,w=0,S=this.length-1;S>=0;S--)w=(v*w+(this.words[S]|0))%d;return p?-w:w},s.prototype.modn=function(d){return this.modrn(d)},s.prototype.idivn=function(d){var p=d<0;p&&(d=-d),n(d<=67108863);for(var v=0,w=this.length-1;w>=0;w--){var S=(this.words[w]|0)+v*67108864;this.words[w]=S/d|0,v=S%d}return this._strip(),p?this.ineg():this},s.prototype.divn=function(d){return this.clone().idivn(d)},s.prototype.egcd=function(d){n(d.negative===0),n(!d.isZero());var p=this,v=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var w=new s(1),S=new s(0),y=new s(0),u=new s(1),m=0;p.isEven()&&v.isEven();)p.iushrn(1),v.iushrn(1),++m;for(var I=v.clone(),$=p.clone();!p.isZero();){for(var Z=0,O=1;!(p.words[0]&O)&&Z<26;++Z,O<<=1);if(Z>0)for(p.iushrn(Z);Z-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(I),S.isub($)),w.iushrn(1),S.iushrn(1);for(var Q=0,Y=1;!(v.words[0]&Y)&&Q<26;++Q,Y<<=1);if(Q>0)for(v.iushrn(Q);Q-- >0;)(y.isOdd()||u.isOdd())&&(y.iadd(I),u.isub($)),y.iushrn(1),u.iushrn(1);p.cmp(v)>=0?(p.isub(v),w.isub(y),S.isub(u)):(v.isub(p),y.isub(w),u.isub(S))}return{a:y,b:u,gcd:v.iushln(m)}},s.prototype._invmp=function(d){n(d.negative===0),n(!d.isZero());var p=this,v=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var w=new s(1),S=new s(0),y=v.clone();p.cmpn(1)>0&&v.cmpn(1)>0;){for(var u=0,m=1;!(p.words[0]&m)&&u<26;++u,m<<=1);if(u>0)for(p.iushrn(u);u-- >0;)w.isOdd()&&w.iadd(y),w.iushrn(1);for(var I=0,$=1;!(v.words[0]&$)&&I<26;++I,$<<=1);if(I>0)for(v.iushrn(I);I-- >0;)S.isOdd()&&S.iadd(y),S.iushrn(1);p.cmp(v)>=0?(p.isub(v),w.isub(S)):(v.isub(p),S.isub(w))}var Z;return p.cmpn(1)===0?Z=w:Z=S,Z.cmpn(0)<0&&Z.iadd(d),Z},s.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var p=this.clone(),v=d.clone();p.negative=0,v.negative=0;for(var w=0;p.isEven()&&v.isEven();w++)p.iushrn(1),v.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;v.isEven();)v.iushrn(1);var S=p.cmp(v);if(S<0){var y=p;p=v,v=y}else if(S===0||v.cmpn(1)===0)break;p.isub(v)}while(!0);return v.iushln(w)},s.prototype.invm=function(d){return this.egcd(d).a.umod(d)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(d){return this.words[0]&d},s.prototype.bincn=function(d){n(typeof d=="number");var p=d%26,v=(d-p)/26,w=1<<p;if(this.length<=v)return this._expand(v+1),this.words[v]|=w,this;for(var S=w,y=v;S!==0&&y<this.length;y++){var u=this.words[y]|0;u+=S,S=u>>>26,u&=67108863,this.words[y]=u}return S!==0&&(this.words[y]=S,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(d){var p=d<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var v;if(this.length>1)v=1;else{p&&(d=-d),n(d<=67108863,"Number is too big");var w=this.words[0]|0;v=w===d?0:w<d?-1:1}return this.negative!==0?-v|0:v},s.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var p=this.ucmp(d);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var p=0,v=this.length-1;v>=0;v--){var w=this.words[v]|0,S=d.words[v]|0;if(w!==S){w<S?p=-1:w>S&&(p=1);break}}return p},s.prototype.gtn=function(d){return this.cmpn(d)===1},s.prototype.gt=function(d){return this.cmp(d)===1},s.prototype.gten=function(d){return this.cmpn(d)>=0},s.prototype.gte=function(d){return this.cmp(d)>=0},s.prototype.ltn=function(d){return this.cmpn(d)===-1},s.prototype.lt=function(d){return this.cmp(d)===-1},s.prototype.lten=function(d){return this.cmpn(d)<=0},s.prototype.lte=function(d){return this.cmp(d)<=0},s.prototype.eqn=function(d){return this.cmpn(d)===0},s.prototype.eq=function(d){return this.cmp(d)===0},s.red=function(d){return new A(d)},s.prototype.toRed=function(d){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(d){return this.red=d,this},s.prototype.forceRed=function(d){return n(!this.red,"Already a number in reduction context"),this._forceRed(d)},s.prototype.redAdd=function(d){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},s.prototype.redIAdd=function(d){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},s.prototype.redSub=function(d){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},s.prototype.redISub=function(d){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},s.prototype.redShl=function(d){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},s.prototype.redMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},s.prototype.redIMul=function(d){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(d){return n(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var F={k256:null,p224:null,p192:null,p25519:null};function W(h,d){this.name=h,this.p=new s(d,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}W.prototype._tmp=function(){var d=new s(null);return d.words=new Array(Math.ceil(this.n/13)),d},W.prototype.ireduce=function(d){var p=d,v;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),v=p.bitLength();while(v>this.n);var w=v<this.n?-1:p.ucmp(this.p);return w===0?(p.words[0]=0,p.length=1):w>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},W.prototype.split=function(d,p){d.iushrn(this.n,0,p)},W.prototype.imulK=function(d){return d.imul(this.k)};function k(){W.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(k,W),k.prototype.split=function(d,p){for(var v=4194303,w=Math.min(d.length,9),S=0;S<w;S++)p.words[S]=d.words[S];if(p.length=w,d.length<=9){d.words[0]=0,d.length=1;return}var y=d.words[9];for(p.words[p.length++]=y&v,S=10;S<d.length;S++){var u=d.words[S]|0;d.words[S-10]=(u&v)<<4|y>>>22,y=u}y>>>=22,d.words[S-10]=y,y===0&&d.length>10?d.length-=10:d.length-=9},k.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var p=0,v=0;v<d.length;v++){var w=d.words[v]|0;p+=w*977,d.words[v]=p&67108863,p=w*64+(p/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function K(){W.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(K,W);function te(){W.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(te,W);function ce(){W.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(ce,W),ce.prototype.imulK=function(d){for(var p=0,v=0;v<d.length;v++){var w=(d.words[v]|0)*19+p,S=w&67108863;w>>>=26,d.words[v]=S,p=w}return p!==0&&(d.words[d.length++]=p),d},s._prime=function(d){if(F[d])return F[d];var p;if(d==="k256")p=new k;else if(d==="p224")p=new K;else if(d==="p192")p=new te;else if(d==="p25519")p=new ce;else throw new Error("Unknown prime "+d);return F[d]=p,p};function A(h){if(typeof h=="string"){var d=s._prime(h);this.m=d.p,this.prime=d}else n(h.gtn(1),"modulus must be greater than 1"),this.m=h,this.prime=null}A.prototype._verify1=function(d){n(d.negative===0,"red works only with positives"),n(d.red,"red works only with red numbers")},A.prototype._verify2=function(d,p){n((d.negative|p.negative)===0,"red works only with positives"),n(d.red&&d.red===p.red,"red works only with red numbers")},A.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):(g(d,d.umod(this.m)._forceRed(this)),d)},A.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},A.prototype.add=function(d,p){this._verify2(d,p);var v=d.add(p);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},A.prototype.iadd=function(d,p){this._verify2(d,p);var v=d.iadd(p);return v.cmp(this.m)>=0&&v.isub(this.m),v},A.prototype.sub=function(d,p){this._verify2(d,p);var v=d.sub(p);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},A.prototype.isub=function(d,p){this._verify2(d,p);var v=d.isub(p);return v.cmpn(0)<0&&v.iadd(this.m),v},A.prototype.shl=function(d,p){return this._verify1(d),this.imod(d.ushln(p))},A.prototype.imul=function(d,p){return this._verify2(d,p),this.imod(d.imul(p))},A.prototype.mul=function(d,p){return this._verify2(d,p),this.imod(d.mul(p))},A.prototype.isqr=function(d){return this.imul(d,d.clone())},A.prototype.sqr=function(d){return this.mul(d,d)},A.prototype.sqrt=function(d){if(d.isZero())return d.clone();var p=this.m.andln(3);if(n(p%2===1),p===3){var v=this.m.add(new s(1)).iushrn(2);return this.pow(d,v)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);n(!w.isZero());var y=new s(1).toRed(this),u=y.redNeg(),m=this.m.subn(1).iushrn(1),I=this.m.bitLength();for(I=new s(2*I*I).toRed(this);this.pow(I,m).cmp(u)!==0;)I.redIAdd(u);for(var $=this.pow(I,w),Z=this.pow(d,w.addn(1).iushrn(1)),O=this.pow(d,w),Q=S;O.cmp(y)!==0;){for(var Y=O,X=0;Y.cmp(y)!==0;X++)Y=Y.redSqr();n(X<Q);var J=this.pow($,new s(1).iushln(Q-X-1));Z=Z.redMul(J),$=J.redSqr(),O=O.redMul($),Q=X}return Z},A.prototype.invm=function(d){var p=d._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},A.prototype.pow=function(d,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return d.clone();var v=4,w=new Array(1<<v);w[0]=new s(1).toRed(this),w[1]=d;for(var S=2;S<w.length;S++)w[S]=this.mul(w[S-1],d);var y=w[0],u=0,m=0,I=p.bitLength()%26;for(I===0&&(I=26),S=p.length-1;S>=0;S--){for(var $=p.words[S],Z=I-1;Z>=0;Z--){var O=$>>Z&1;if(y!==w[0]&&(y=this.sqr(y)),O===0&&u===0){m=0;continue}u<<=1,u|=O,m++,!(m!==v&&(S!==0||Z!==0))&&(y=this.mul(y,w[u]),m=0,u=0)}I=26}return y},A.prototype.convertTo=function(d){var p=d.umod(this.m);return p===d?p.clone():p},A.prototype.convertFrom=function(d){var p=d.clone();return p.red=null,p},s.mont=function(d){return new f(d)};function f(h){A.call(this,h),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(f,A),f.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},f.prototype.convertFrom=function(d){var p=this.imod(d.mul(this.rinv));return p.red=null,p},f.prototype.imul=function(d,p){if(d.isZero()||p.isZero())return d.words[0]=0,d.length=1,d;var v=d.imul(p),w=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(w).iushrn(this.shift),y=S;return S.cmp(this.m)>=0?y=S.isub(this.m):S.cmpn(0)<0&&(y=S.iadd(this.m)),y._forceRed(this)},f.prototype.mul=function(d,p){if(d.isZero()||p.isZero())return new s(0)._forceRed(this);var v=d.mul(p),w=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=v.isub(w).iushrn(this.shift),y=S;return S.cmp(this.m)>=0?y=S.isub(this.m):S.cmpn(0)<0&&(y=S.iadd(this.m)),y._forceRed(this)},f.prototype.invm=function(d){var p=this.imod(d._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,zi)})(D3);var aS=D3.exports;const Kt=ci(aS);var tc={},cr={},rc=cS;function cS(t,e){if(!t)throw new Error(e||"Assertion failed")}cS.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Om={exports:{}};typeof Object.create=="function"?Om.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Om.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}};var da=Om.exports,tT=rc,rT=da;cr.inherits=rT;function nT(t,e){return(t.charCodeAt(e)&64512)!==55296||e<0||e+1>=t.length?!1:(t.charCodeAt(e+1)&64512)===56320}function iT(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if(typeof t=="string")if(e){if(e==="hex")for(t=t.replace(/[^a-z0-9]+/ig,""),t.length%2!==0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var n=0,i=0;i<t.length;i++){var s=t.charCodeAt(i);s<128?r[n++]=s:s<2048?(r[n++]=s>>6|192,r[n++]=s&63|128):nT(t,i)?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),r[n++]=s>>18|240,r[n++]=s>>12&63|128,r[n++]=s>>6&63|128,r[n++]=s&63|128):(r[n++]=s>>12|224,r[n++]=s>>6&63|128,r[n++]=s&63|128)}else for(i=0;i<t.length;i++)r[i]=t[i]|0;return r}cr.toArray=iT;function sT(t){for(var e="",r=0;r<t.length;r++)e+=uS(t[r].toString(16));return e}cr.toHex=sT;function fS(t){var e=t>>>24|t>>>8&65280|t<<8&16711680|(t&255)<<24;return e>>>0}cr.htonl=fS;function oT(t,e){for(var r="",n=0;n<t.length;n++){var i=t[n];e==="little"&&(i=fS(i)),r+=dS(i.toString(16))}return r}cr.toHex32=oT;function uS(t){return t.length===1?"0"+t:t}cr.zero2=uS;function dS(t){return t.length===7?"0"+t:t.length===6?"00"+t:t.length===5?"000"+t:t.length===4?"0000"+t:t.length===3?"00000"+t:t.length===2?"000000"+t:t.length===1?"0000000"+t:t}cr.zero8=dS;function aT(t,e,r,n){var i=r-e;tT(i%4===0);for(var s=new Array(i/4),o=0,a=e;o<s.length;o++,a+=4){var c;n==="big"?c=t[a]<<24|t[a+1]<<16|t[a+2]<<8|t[a+3]:c=t[a+3]<<24|t[a+2]<<16|t[a+1]<<8|t[a],s[o]=c>>>0}return s}cr.join32=aT;function cT(t,e){for(var r=new Array(t.length*4),n=0,i=0;n<t.length;n++,i+=4){var s=t[n];e==="big"?(r[i]=s>>>24,r[i+1]=s>>>16&255,r[i+2]=s>>>8&255,r[i+3]=s&255):(r[i+3]=s>>>24,r[i+2]=s>>>16&255,r[i+1]=s>>>8&255,r[i]=s&255)}return r}cr.split32=cT;function fT(t,e){return t>>>e|t<<32-e}cr.rotr32=fT;function uT(t,e){return t<<e|t>>>32-e}cr.rotl32=uT;function dT(t,e){return t+e>>>0}cr.sum32=dT;function lT(t,e,r){return t+e+r>>>0}cr.sum32_3=lT;function hT(t,e,r,n){return t+e+r+n>>>0}cr.sum32_4=hT;function pT(t,e,r,n,i){return t+e+r+n+i>>>0}cr.sum32_5=pT;function gT(t,e,r,n){var i=t[e],s=t[e+1],o=n+s>>>0,a=(o<n?1:0)+r+i;t[e]=a>>>0,t[e+1]=o}cr.sum64=gT;function bT(t,e,r,n){var i=e+n>>>0,s=(i<e?1:0)+t+r;return s>>>0}cr.sum64_hi=bT;function vT(t,e,r,n){var i=e+n;return i>>>0}cr.sum64_lo=vT;function yT(t,e,r,n,i,s,o,a){var c=0,l=e;l=l+n>>>0,c+=l<e?1:0,l=l+s>>>0,c+=l<s?1:0,l=l+a>>>0,c+=l<a?1:0;var g=t+r+i+o+c;return g>>>0}cr.sum64_4_hi=yT;function mT(t,e,r,n,i,s,o,a){var c=e+n+s+a;return c>>>0}cr.sum64_4_lo=mT;function wT(t,e,r,n,i,s,o,a,c,l){var g=0,b=e;b=b+n>>>0,g+=b<e?1:0,b=b+s>>>0,g+=b<s?1:0,b=b+a>>>0,g+=b<a?1:0,b=b+l>>>0,g+=b<l?1:0;var x=t+r+i+o+c+g;return x>>>0}cr.sum64_5_hi=wT;function xT(t,e,r,n,i,s,o,a,c,l){var g=e+n+s+a+l;return g>>>0}cr.sum64_5_lo=xT;function _T(t,e,r){var n=e<<32-r|t>>>r;return n>>>0}cr.rotr64_hi=_T;function ST(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}cr.rotr64_lo=ST;function ET(t,e,r){return t>>>r}cr.shr64_hi=ET;function AT(t,e,r){var n=t<<32-r|e>>>r;return n>>>0}cr.shr64_lo=AT;var jd={},z5=cr,IT=rc;function Bg(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}jd.BlockHash=Bg;Bg.prototype.update=function(e,r){if(e=z5.toArray(e,r),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var n=e.length%this._delta8;this.pending=e.slice(e.length-n,e.length),this.pending.length===0&&(this.pending=null),e=z5.join32(e,0,e.length-n,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this};Bg.prototype.digest=function(e){return this.update(this._pad()),IT(this.pending===null),this._digest(e)};Bg.prototype._pad=function(){var e=this.pendingTotal,r=this._delta8,n=r-(e+this.padLength)%r,i=new Array(n+this.padLength);i[0]=128;for(var s=1;s<n;s++)i[s]=0;if(e<<=3,this.endian==="big"){for(var o=8;o<this.padLength;o++)i[s++]=0;i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=e>>>24&255,i[s++]=e>>>16&255,i[s++]=e>>>8&255,i[s++]=e&255}else for(i[s++]=e&255,i[s++]=e>>>8&255,i[s++]=e>>>16&255,i[s++]=e>>>24&255,i[s++]=0,i[s++]=0,i[s++]=0,i[s++]=0,o=8;o<this.padLength;o++)i[s++]=0;return i};var Wd={},la={},MT=cr,Zo=MT.rotr32;function PT(t,e,r,n){if(t===0)return lS(e,r,n);if(t===1||t===3)return pS(e,r,n);if(t===2)return hS(e,r,n)}la.ft_1=PT;function lS(t,e,r){return t&e^~t&r}la.ch32=lS;function hS(t,e,r){return t&e^t&r^e&r}la.maj32=hS;function pS(t,e,r){return t^e^r}la.p32=pS;function kT(t){return Zo(t,2)^Zo(t,13)^Zo(t,22)}la.s0_256=kT;function RT(t){return Zo(t,6)^Zo(t,11)^Zo(t,25)}la.s1_256=RT;function CT(t){return Zo(t,7)^Zo(t,18)^t>>>3}la.g0_256=CT;function TT(t){return Zo(t,17)^Zo(t,19)^t>>>10}la.g1_256=TT;var Ad=cr,NT=jd,OT=la,Sv=Ad.rotl32,kl=Ad.sum32,BT=Ad.sum32_5,DT=OT.ft_1,gS=NT.BlockHash,LT=[1518500249,1859775393,2400959708,3395469782];function sa(){if(!(this instanceof sa))return new sa;gS.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Ad.inherits(sa,gS);var $T=sa;sa.blockSize=512;sa.outSize=160;sa.hmacStrength=80;sa.padLength=64;sa.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=Sv(n[i-3]^n[i-8]^n[i-14]^n[i-16],1);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4];for(i=0;i<n.length;i++){var g=~~(i/20),b=BT(Sv(s,5),DT(g,o,a,c),l,n[i],LT[g]);l=c,c=a,a=Sv(o,30),o=s,s=b}this.h[0]=kl(this.h[0],s),this.h[1]=kl(this.h[1],o),this.h[2]=kl(this.h[2],a),this.h[3]=kl(this.h[3],c),this.h[4]=kl(this.h[4],l)};sa.prototype._digest=function(e){return e==="hex"?Ad.toHex32(this.h,"big"):Ad.split32(this.h,"big")};var Id=cr,UT=jd,Hd=la,zT=rc,fo=Id.sum32,FT=Id.sum32_4,qT=Id.sum32_5,KT=Hd.ch32,jT=Hd.maj32,WT=Hd.s0_256,HT=Hd.s1_256,VT=Hd.g0_256,GT=Hd.g1_256,bS=UT.BlockHash,YT=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function oa(){if(!(this instanceof oa))return new oa;bS.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=YT,this.W=new Array(64)}Id.inherits(oa,bS);var vS=oa;oa.blockSize=512;oa.outSize=256;oa.hmacStrength=192;oa.padLength=64;oa.prototype._update=function(e,r){for(var n=this.W,i=0;i<16;i++)n[i]=e[r+i];for(;i<n.length;i++)n[i]=FT(GT(n[i-2]),n[i-7],VT(n[i-15]),n[i-16]);var s=this.h[0],o=this.h[1],a=this.h[2],c=this.h[3],l=this.h[4],g=this.h[5],b=this.h[6],x=this.h[7];for(zT(this.k.length===n.length),i=0;i<n.length;i++){var _=qT(x,HT(l),KT(l,g,b),this.k[i],n[i]),E=fo(WT(s),jT(s,o,a));x=b,b=g,g=l,l=fo(c,_),c=a,a=o,o=s,s=fo(_,E)}this.h[0]=fo(this.h[0],s),this.h[1]=fo(this.h[1],o),this.h[2]=fo(this.h[2],a),this.h[3]=fo(this.h[3],c),this.h[4]=fo(this.h[4],l),this.h[5]=fo(this.h[5],g),this.h[6]=fo(this.h[6],b),this.h[7]=fo(this.h[7],x)};oa.prototype._digest=function(e){return e==="hex"?Id.toHex32(this.h,"big"):Id.split32(this.h,"big")};var Bm=cr,yS=vS;function Xa(){if(!(this instanceof Xa))return new Xa;yS.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Bm.inherits(Xa,yS);var JT=Xa;Xa.blockSize=512;Xa.outSize=224;Xa.hmacStrength=192;Xa.padLength=64;Xa.prototype._digest=function(e){return e==="hex"?Bm.toHex32(this.h.slice(0,7),"big"):Bm.split32(this.h.slice(0,7),"big")};var is=cr,XT=jd,ZT=rc,Qo=is.rotr64_hi,ea=is.rotr64_lo,mS=is.shr64_hi,wS=is.shr64_lo,lc=is.sum64,Ev=is.sum64_hi,Av=is.sum64_lo,QT=is.sum64_4_hi,eN=is.sum64_4_lo,tN=is.sum64_5_hi,rN=is.sum64_5_lo,xS=XT.BlockHash,nN=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Po(){if(!(this instanceof Po))return new Po;xS.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=nN,this.W=new Array(160)}is.inherits(Po,xS);var _S=Po;Po.blockSize=1024;Po.outSize=512;Po.hmacStrength=192;Po.padLength=128;Po.prototype._prepareBlock=function(e,r){for(var n=this.W,i=0;i<32;i++)n[i]=e[r+i];for(;i<n.length;i+=2){var s=pN(n[i-4],n[i-3]),o=gN(n[i-4],n[i-3]),a=n[i-14],c=n[i-13],l=lN(n[i-30],n[i-29]),g=hN(n[i-30],n[i-29]),b=n[i-32],x=n[i-31];n[i]=QT(s,o,a,c,l,g,b,x),n[i+1]=eN(s,o,a,c,l,g,b,x)}};Po.prototype._update=function(e,r){this._prepareBlock(e,r);var n=this.W,i=this.h[0],s=this.h[1],o=this.h[2],a=this.h[3],c=this.h[4],l=this.h[5],g=this.h[6],b=this.h[7],x=this.h[8],_=this.h[9],E=this.h[10],M=this.h[11],B=this.h[12],P=this.h[13],R=this.h[14],D=this.h[15];ZT(this.k.length===n.length);for(var U=0;U<n.length;U+=2){var F=R,W=D,k=uN(x,_),K=dN(x,_),te=iN(x,_,E,M,B),ce=sN(x,_,E,M,B,P),A=this.k[U],f=this.k[U+1],h=n[U],d=n[U+1],p=tN(F,W,k,K,te,ce,A,f,h,d),v=rN(F,W,k,K,te,ce,A,f,h,d);F=cN(i,s),W=fN(i,s),k=oN(i,s,o,a,c),K=aN(i,s,o,a,c,l);var w=Ev(F,W,k,K),S=Av(F,W,k,K);R=B,D=P,B=E,P=M,E=x,M=_,x=Ev(g,b,p,v),_=Av(b,b,p,v),g=c,b=l,c=o,l=a,o=i,a=s,i=Ev(p,v,w,S),s=Av(p,v,w,S)}lc(this.h,0,i,s),lc(this.h,2,o,a),lc(this.h,4,c,l),lc(this.h,6,g,b),lc(this.h,8,x,_),lc(this.h,10,E,M),lc(this.h,12,B,P),lc(this.h,14,R,D)};Po.prototype._digest=function(e){return e==="hex"?is.toHex32(this.h,"big"):is.split32(this.h,"big")};function iN(t,e,r,n,i){var s=t&r^~t&i;return s<0&&(s+=4294967296),s}function sN(t,e,r,n,i,s){var o=e&n^~e&s;return o<0&&(o+=4294967296),o}function oN(t,e,r,n,i){var s=t&r^t&i^r&i;return s<0&&(s+=4294967296),s}function aN(t,e,r,n,i,s){var o=e&n^e&s^n&s;return o<0&&(o+=4294967296),o}function cN(t,e){var r=Qo(t,e,28),n=Qo(e,t,2),i=Qo(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function fN(t,e){var r=ea(t,e,28),n=ea(e,t,2),i=ea(e,t,7),s=r^n^i;return s<0&&(s+=4294967296),s}function uN(t,e){var r=Qo(t,e,14),n=Qo(t,e,18),i=Qo(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function dN(t,e){var r=ea(t,e,14),n=ea(t,e,18),i=ea(e,t,9),s=r^n^i;return s<0&&(s+=4294967296),s}function lN(t,e){var r=Qo(t,e,1),n=Qo(t,e,8),i=mS(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function hN(t,e){var r=ea(t,e,1),n=ea(t,e,8),i=wS(t,e,7),s=r^n^i;return s<0&&(s+=4294967296),s}function pN(t,e){var r=Qo(t,e,19),n=Qo(e,t,29),i=mS(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}function gN(t,e){var r=ea(t,e,19),n=ea(e,t,29),i=wS(t,e,6),s=r^n^i;return s<0&&(s+=4294967296),s}var Dm=cr,SS=_S;function Za(){if(!(this instanceof Za))return new Za;SS.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Dm.inherits(Za,SS);var bN=Za;Za.blockSize=1024;Za.outSize=384;Za.hmacStrength=192;Za.padLength=128;Za.prototype._digest=function(e){return e==="hex"?Dm.toHex32(this.h.slice(0,12),"big"):Dm.split32(this.h.slice(0,12),"big")};Wd.sha1=$T;Wd.sha224=JT;Wd.sha256=vS;Wd.sha384=bN;Wd.sha512=_S;var ES={},Zf=cr,vN=jd,ip=Zf.rotl32,F5=Zf.sum32,Rl=Zf.sum32_3,q5=Zf.sum32_4,AS=vN.BlockHash;function aa(){if(!(this instanceof aa))return new aa;AS.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Zf.inherits(aa,AS);ES.ripemd160=aa;aa.blockSize=512;aa.outSize=160;aa.hmacStrength=192;aa.padLength=64;aa.prototype._update=function(e,r){for(var n=this.h[0],i=this.h[1],s=this.h[2],o=this.h[3],a=this.h[4],c=n,l=i,g=s,b=o,x=a,_=0;_<80;_++){var E=F5(ip(q5(n,K5(_,i,s,o),e[wN[_]+r],yN(_)),_N[_]),a);n=a,a=o,o=ip(s,10),s=i,i=E,E=F5(ip(q5(c,K5(79-_,l,g,b),e[xN[_]+r],mN(_)),SN[_]),x),c=x,x=b,b=ip(g,10),g=l,l=E}E=Rl(this.h[1],s,b),this.h[1]=Rl(this.h[2],o,x),this.h[2]=Rl(this.h[3],a,c),this.h[3]=Rl(this.h[4],n,l),this.h[4]=Rl(this.h[0],i,g),this.h[0]=E};aa.prototype._digest=function(e){return e==="hex"?Zf.toHex32(this.h,"little"):Zf.split32(this.h,"little")};function K5(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function yN(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function mN(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var wN=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],xN=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],_N=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],SN=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],EN=cr,AN=rc;function Md(t,e,r){if(!(this instanceof Md))return new Md(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(EN.toArray(e,r))}var IN=Md;Md.prototype._init=function(e){e.length>this.blockSize&&(e=new this.Hash().update(e).digest()),AN(e.length<=this.blockSize);for(var r=e.length;r<this.blockSize;r++)e.push(0);for(r=0;r<e.length;r++)e[r]^=54;for(this.inner=new this.Hash().update(e),r=0;r<e.length;r++)e[r]^=106;this.outer=new this.Hash().update(e)};Md.prototype.update=function(e,r){return this.inner.update(e,r),this};Md.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};(function(t){var e=t;e.utils=cr,e.common=jd,e.sha=Wd,e.ripemd=ES,e.hmac=IN,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(tc);const Ea=ci(tc);var Iv,j5;function L3(){return j5||(j5=1,Iv=null),Iv}var u0={};(function(t){var e=t;function r(s,o){if(Array.isArray(s))return s.slice();if(!s)return[];var a=[];if(typeof s!="string"){for(var c=0;c<s.length;c++)a[c]=s[c]|0;return a}if(o==="hex"){s=s.replace(/[^a-z0-9]+/ig,""),s.length%2!==0&&(s="0"+s);for(var c=0;c<s.length;c+=2)a.push(parseInt(s[c]+s[c+1],16))}else for(var c=0;c<s.length;c++){var l=s.charCodeAt(c),g=l>>8,b=l&255;g?a.push(g,b):a.push(b)}return a}e.toArray=r;function n(s){return s.length===1?"0"+s:s}e.zero2=n;function i(s){for(var o="",a=0;a<s.length;a++)o+=n(s[a].toString(16));return o}e.toHex=i,e.encode=function(o,a){return a==="hex"?i(o):o}})(u0);var $3={exports:{}},Mv;$3.exports=function(e){return Mv||(Mv=new kc(null)),Mv.generate(e)};function kc(t){this.rand=t}$3.exports.Rand=kc;kc.prototype.generate=function(e){return this._rand(e)};kc.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var r=new Uint8Array(e),n=0;n<r.length;n++)r[n]=this.rand.getByte();return r};if(typeof self=="object")self.crypto&&self.crypto.getRandomValues?kc.prototype._rand=function(e){var r=new Uint8Array(e);return self.crypto.getRandomValues(r),r}:self.msCrypto&&self.msCrypto.getRandomValues?kc.prototype._rand=function(e){var r=new Uint8Array(e);return self.msCrypto.getRandomValues(r),r}:typeof window=="object"&&(kc.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var W5=L3();if(typeof W5.randomBytes!="function")throw new Error("Not supported");kc.prototype._rand=function(e){return W5.randomBytes(e)}}catch{}var Vd=$3.exports,MN=tc,Uf=u0,IS=rc;function Gc(t){if(!(this instanceof Gc))return new Gc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Uf.toArray(t.entropy,t.entropyEnc||"hex"),r=Uf.toArray(t.nonce,t.nonceEnc||"hex"),n=Uf.toArray(t.pers,t.persEnc||"hex");IS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var U3=Gc;Gc.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Gc.prototype._hmac=function(){return new MN.hmac(this.hash,this.K)};Gc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Gc.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Uf.toArray(e,r),n=Uf.toArray(n,i),IS(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Gc.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Uf.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Uf.encode(o,r)};const $r={MAINNET:"mainnet",TESTNET:"testnet",CYAN:"cyan",AQUA:"aqua",CELESTE:"celeste"},Sc={SAPPHIRE_DEVNET:"sapphire_devnet",SAPPHIRE_MAINNET:"sapphire_mainnet"};$r.MAINNET+"",$r.TESTNET+"",$r.CYAN+"",$r.AQUA+"",$r.CELESTE+"";$r.AQUA+"",Sc.SAPPHIRE_MAINNET,$r.CELESTE+"",Sc.SAPPHIRE_MAINNET,$r.CYAN+"",Sc.SAPPHIRE_MAINNET,$r.MAINNET+"",Sc.SAPPHIRE_MAINNET,$r.TESTNET+"",Sc.SAPPHIRE_DEVNET;$r.MAINNET+"",$r.TESTNET+"",$r.CYAN+"",$r.AQUA+"",$r.CELESTE+"";const PN={[Sc.SAPPHIRE_MAINNET]:"https://signer.web3auth.io",[Sc.SAPPHIRE_DEVNET]:"https://signer.web3auth.io",[$r.MAINNET]:"https://signer.web3auth.io",[$r.TESTNET]:"https://signer.web3auth.io",[$r.CYAN]:"https://signer-polygon.web3auth.io",[$r.AQUA]:"https://signer-polygon.web3auth.io",[$r.CELESTE]:"https://signer-polygon.web3auth.io"};$r.MAINNET+"",$r.TESTNET+"",$r.CYAN+"",$r.AQUA+"",$r.CELESTE+"";const kN="https://session.web3auth.io";var RN=function(e){return CN(e)&&!TN(e)};function CN(t){return!!t&&typeof t=="object"}function TN(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||BN(t)}var NN=typeof Symbol=="function"&&Symbol.for,ON=NN?Symbol.for("react.element"):60103;function BN(t){return t.$$typeof===ON}function DN(t){return Array.isArray(t)?[]:{}}function Lh(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Pd(DN(t),t,e):t}function LN(t,e,r){return t.concat(e).map(function(n){return Lh(n,r)})}function $N(t,e){if(!e.customMerge)return Pd;var r=e.customMerge(t);return typeof r=="function"?r:Pd}function UN(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return Object.propertyIsEnumerable.call(t,e)}):[]}function H5(t){return Object.keys(t).concat(UN(t))}function MS(t,e){try{return e in t}catch{return!1}}function zN(t,e){return MS(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function FN(t,e,r){var n={};return r.isMergeableObject(t)&&H5(t).forEach(function(i){n[i]=Lh(t[i],r)}),H5(e).forEach(function(i){zN(t,i)||(MS(t,i)&&r.isMergeableObject(e[i])?n[i]=$N(i,r)(t[i],e[i],r):n[i]=Lh(e[i],r))}),n}function Pd(t,e,r){r=r||{},r.arrayMerge=r.arrayMerge||LN,r.isMergeableObject=r.isMergeableObject||RN,r.cloneUnlessOtherwiseSpecified=Lh;var n=Array.isArray(e),i=Array.isArray(t),s=n===i;return s?n?r.arrayMerge(t,e,r):FN(t,e,r):Lh(e,r)}Pd.all=function(e,r){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(n,i){return Pd(n,i,r)},{})};var qN=Pd,KN=qN;const Yc=ci(KN);var PS={exports:{}};(function(t){(function(e,r){t.exports?t.exports=r():e.log=r()})(zi,function(){var e=function(){},r="undefined",n=typeof window!==r&&typeof window.navigator!==r&&/Trident\/|MSIE /.test(window.navigator.userAgent),i=["trace","debug","info","warn","error"],s={},o=null;function a(M,B){var P=M[B];if(typeof P.bind=="function")return P.bind(M);try{return Function.prototype.bind.call(P,M)}catch{return function(){return Function.prototype.apply.apply(P,[M,arguments])}}}function c(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function l(M){return M==="debug"&&(M="log"),typeof console===r?!1:M==="trace"&&n?c:console[M]!==void 0?a(console,M):console.log!==void 0?a(console,"log"):e}function g(){for(var M=this.getLevel(),B=0;B<i.length;B++){var P=i[B];this[P]=B<M?e:this.methodFactory(P,M,this.name)}if(this.log=this.debug,typeof console===r&&M<this.levels.SILENT)return"No console available for logging"}function b(M){return function(){typeof console!==r&&(g.call(this),this[M].apply(this,arguments))}}function x(M,B,P){return l(M)||b.apply(this,arguments)}function _(M,B){var P=this,R,D,U,F="loglevel";typeof M=="string"?F+=":"+M:typeof M=="symbol"&&(F=void 0);function W(A){var f=(i[A]||"silent").toUpperCase();if(!(typeof window===r||!F)){try{window.localStorage[F]=f;return}catch{}try{window.document.cookie=encodeURIComponent(F)+"="+f+";"}catch{}}}function k(){var A;if(!(typeof window===r||!F)){try{A=window.localStorage[F]}catch{}if(typeof A===r)try{var f=window.document.cookie,h=encodeURIComponent(F),d=f.indexOf(h+"=");d!==-1&&(A=/^([^;]+)/.exec(f.slice(d+h.length+1))[1])}catch{}return P.levels[A]===void 0&&(A=void 0),A}}function K(){if(!(typeof window===r||!F)){try{window.localStorage.removeItem(F)}catch{}try{window.document.cookie=encodeURIComponent(F)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch{}}}function te(A){var f=A;if(typeof f=="string"&&P.levels[f.toUpperCase()]!==void 0&&(f=P.levels[f.toUpperCase()]),typeof f=="number"&&f>=0&&f<=P.levels.SILENT)return f;throw new TypeError("log.setLevel() called with invalid level: "+A)}P.name=M,P.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},P.methodFactory=B||x,P.getLevel=function(){return U??D??R},P.setLevel=function(A,f){return U=te(A),f!==!1&&W(U),g.call(P)},P.setDefaultLevel=function(A){D=te(A),k()||P.setLevel(A,!1)},P.resetLevel=function(){U=null,K(),g.call(P)},P.enableAll=function(A){P.setLevel(P.levels.TRACE,A)},P.disableAll=function(A){P.setLevel(P.levels.SILENT,A)},P.rebuild=function(){if(o!==P&&(R=te(o.getLevel())),g.call(P),o===P)for(var A in s)s[A].rebuild()},R=te(o?o.getLevel():"WARN");var ce=k();ce!=null&&(U=te(ce)),g.call(P)}o=new _,o.getLogger=function(B){if(typeof B!="symbol"&&typeof B!="string"||B==="")throw new TypeError("You must supply a name when creating a logger.");var P=s[B];return P||(P=s[B]=new _(B,o.methodFactory)),P};var E=typeof window!==r?window.log:void 0;return o.noConflict=function(){return typeof window!==r&&window.log===o&&(window.log=E),o},o.getLoggers=function(){return s},o.default=o,o})})(PS);var z3=PS.exports;const Dg=ci(z3),$h=Dg.getLogger("http-helpers");$h.setLevel(z3.levels.INFO);let jN="torus-default";const WN="x-api-key";function HN(t){$h.setLevel(t)}async function Lg(t,e){let r=null;try{r=new URL(t)}catch{}return fetch(t,e)}function $g(){const t={};return t[WN]=jN,t}function Ug(t){$h.info(`Response: ${t.status} ${t.statusText}`),$h.info(`Url: ${t.url}`)}function VN(t){const e=t.headers.get("x-web3-correlation-id");e&&$h.info(`Request tracing with traceID = ${e}`)}const GN=async(t,e)=>{let r=null;try{const n=new Promise((s,o)=>{r=setTimeout(()=>{o(new Error(`Timed out in ${t}ms`))},t)}),i=await Promise.race([e,n]);return r!=null&&clearTimeout(r),i}catch(n){throw r!=null&&clearTimeout(r),n}},kS=async(t,e={},r={})=>{const n={mode:"cors",headers:{}};r.useAPIKey&&(n.headers=He(He({},n.headers),$g())),e.method="GET";const i=Yc(n,e),s=await Lg(t,i);if(s.ok){const o=s.headers.get("content-type");return o!=null&&o.includes("application/json")?s.json():s.text()}throw Ug(s),s},zg=(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=He(He({},i.headers),$g())),r.method="POST";const s=Yc(i,r);return n.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e),GN(n.timeout||6e4,Lg(t,s).then(o=>{if(n.logTracingHeader&&VN(o),o.ok){const a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw Ug(o),o}))},YN=async(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=He(He({},i.headers),$g())),r.method="PATCH";const s=Yc(i,r);n.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e);const o=await Lg(t,s);if(o.ok){const a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw Ug(o),o},JN=async(t,e={},r={},n={})=>{const i={mode:"cors",headers:{"Content-Type":"application/json; charset=utf-8"}};n.useAPIKey&&(i.headers=He(He({},i.headers),$g())),r.method="PUT";const s=Yc(i,r);n.isUrlEncodedData?(s.body=e,s.headers["Content-Type"]==="application/json; charset=utf-8"&&delete s.headers["Content-Type"]):s.body=JSON.stringify(e);const o=await Lg(t,s);if(o.ok){const a=o.headers.get("content-type");return a!=null&&a.includes("application/json")?o.json():o.text()}throw Ug(o),o};class XN{constructor(){Oe(this,"sessionId",void 0)}checkSessionParams(){if(!this.sessionId)throw new Error("Session id is required");this.sessionId=this.sessionId.padStart(64,"0")}request({method:e="GET",url:r,data:n={},headers:i={}}){const s={headers:i};switch(e){case"GET":return kS(r,s);case"POST":return zg(r,n,s);case"PUT":return JN(r,n,s);case"PATCH":return YN(r,n,s)}throw new Error("Invalid method type")}}var RS={};const ZN="elliptic",QN="6.5.7",eO="EC cryptography",tO="lib/elliptic.js",rO=["lib"],nO={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},iO={type:"git",url:"git@github.com:indutny/elliptic"},sO=["EC","Elliptic","curve","Cryptography"],oO="Fedor Indutny <fedor@indutny.com>",aO="MIT",cO={url:"https://github.com/indutny/elliptic/issues"},fO="https://github.com/indutny/elliptic",uO={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dO={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},lO={name:ZN,version:QN,description:eO,main:tO,files:rO,scripts:nO,repository:iO,keywords:sO,author:oO,license:aO,bugs:cO,homepage:fO,devDependencies:uO,dependencies:dO};var _s={},F3={exports:{}};F3.exports;(function(t){(function(e,r){function n(A,f){if(!A)throw new Error(f||"Assertion failed")}function i(A,f){A.super_=f;var h=function(){};h.prototype=f.prototype,A.prototype=new h,A.prototype.constructor=A}function s(A,f,h){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((f==="le"||f==="be")&&(h=f,f=10),this._init(A||0,f||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Og.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,h){return f.cmp(h)>0?f:h},s.min=function(f,h){return f.cmp(h)<0?f:h},s.prototype._init=function(f,h,d){if(typeof f=="number")return this._initNumber(f,h,d);if(typeof f=="object")return this._initArray(f,h,d);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),f=f.toString().replace(/\s+/g,"");var p=0;f[0]==="-"&&(p++,this.negative=1),p<f.length&&(h===16?this._parseHex(f,p,d):(this._parseBase(f,h,p),d==="le"&&this._initArray(this.toArray(),h,d)))},s.prototype._initNumber=function(f,h,d){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),h,d)},s.prototype._initArray=function(f,h,d){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v,w,S=0;if(d==="be")for(p=f.length-1,v=0;p>=0;p-=3)w=f[p]|f[p-1]<<8|f[p-2]<<16,this.words[v]|=w<<S&67108863,this.words[v+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,v++);else if(d==="le")for(p=0,v=0;p<f.length;p+=3)w=f[p]|f[p+1]<<8|f[p+2]<<16,this.words[v]|=w<<S&67108863,this.words[v+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,v++);return this.strip()};function a(A,f){var h=A.charCodeAt(f);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function c(A,f,h){var d=a(A,h);return h-1>=f&&(d|=a(A,h-1)<<4),d}s.prototype._parseHex=function(f,h,d){this.length=Math.ceil((f.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v=0,w=0,S;if(d==="be")for(p=f.length-1;p>=h;p-=2)S=c(f,h,p)<<v,this.words[w]|=S&67108863,v>=18?(v-=18,w+=1,this.words[w]|=S>>>26):v+=8;else{var y=f.length-h;for(p=y%2===0?h+1:h;p<f.length;p+=2)S=c(f,h,p)<<v,this.words[w]|=S&67108863,v>=18?(v-=18,w+=1,this.words[w]|=S>>>26):v+=8}this.strip()};function l(A,f,h,d){for(var p=0,v=Math.min(A.length,h),w=f;w<v;w++){var S=A.charCodeAt(w)-48;p*=d,S>=49?p+=S-49+10:S>=17?p+=S-17+10:p+=S}return p}s.prototype._parseBase=function(f,h,d){this.words=[0],this.length=1;for(var p=0,v=1;v<=67108863;v*=h)p++;p--,v=v/h|0;for(var w=f.length-d,S=w%p,y=Math.min(w,w-S)+d,u=0,m=d;m<y;m+=p)u=l(f,m,m+p,h),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(S!==0){var I=1;for(u=l(f,m,f.length,h),m=0;m<S;m++)I*=h;this.imuln(I),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var h=0;h<this.length;h++)f.words[h]=this.words[h];f.length=this.length,f.negative=this.negative,f.red=this.red},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,h){f=f||10,h=h|0||1;var d;if(f===16||f==="hex"){d="";for(var p=0,v=0,w=0;w<this.length;w++){var S=this.words[w],y=((S<<p|v)&16777215).toString(16);v=S>>>24-p&16777215,v!==0||w!==this.length-1?d=g[6-y.length]+y+d:d=y+d,p+=2,p>=26&&(p-=26,w--)}for(v!==0&&(d=v.toString(16)+d);d.length%h!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(f===(f|0)&&f>=2&&f<=36){var u=b[f],m=x[f];d="";var I=this.clone();for(I.negative=0;!I.isZero();){var $=I.modn(m).toString(f);I=I.idivn(m),I.isZero()?d=$+d:d=g[u-$.length]+$+d}for(this.isZero()&&(d="0"+d);d.length%h!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(f,h){return n(typeof o<"u"),this.toArrayLike(o,f,h)},s.prototype.toArray=function(f,h){return this.toArrayLike(Array,f,h)},s.prototype.toArrayLike=function(f,h,d){var p=this.byteLength(),v=d||Math.max(1,p);n(p<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var w=h==="le",S=new f(v),y,u,m=this.clone();if(w){for(u=0;!m.isZero();u++)y=m.andln(255),m.iushrn(8),S[u]=y;for(;u<v;u++)S[u]=0}else{for(u=0;u<v-p;u++)S[u]=0;for(u=0;!m.isZero();u++)y=m.andln(255),m.iushrn(8),S[v-u-1]=y}return S},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var h=f,d=0;return h>=4096&&(d+=13,h>>>=13),h>=64&&(d+=7,h>>>=7),h>=8&&(d+=4,h>>>=4),h>=2&&(d+=2,h>>>=2),d+h},s.prototype._zeroBits=function(f){if(f===0)return 26;var h=f,d=0;return h&8191||(d+=13,h>>>=13),h&127||(d+=7,h>>>=7),h&15||(d+=4,h>>>=4),h&3||(d+=2,h>>>=2),h&1||d++,d},s.prototype.bitLength=function(){var f=this.words[this.length-1],h=this._countBits(f);return(this.length-1)*26+h};function _(A){for(var f=new Array(A.bitLength()),h=0;h<f.length;h++){var d=h/26|0,p=h%26;f[h]=(A.words[d]&1<<p)>>>p}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,h=0;h<this.length;h++){var d=this._zeroBits(this.words[h]);if(f+=d,d!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]|f.words[h];return this.strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var h;this.length>f.length?h=f:h=this;for(var d=0;d<h.length;d++)this.words[d]=this.words[d]&f.words[d];return this.length=h.length,this.strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var h,d;this.length>f.length?(h=this,d=f):(h=f,d=this);for(var p=0;p<d.length;p++)this.words[p]=h.words[p]^d.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var h=Math.ceil(f/26)|0,d=f%26;this._expand(h),d>0&&h--;for(var p=0;p<h;p++)this.words[p]=~this.words[p]&67108863;return d>0&&(this.words[p]=~this.words[p]&67108863>>26-d),this.strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,h){n(typeof f=="number"&&f>=0);var d=f/26|0,p=f%26;return this._expand(d+1),h?this.words[d]=this.words[d]|1<<p:this.words[d]=this.words[d]&~(1<<p),this.strip()},s.prototype.iadd=function(f){var h;if(this.negative!==0&&f.negative===0)return this.negative=0,h=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,h=this.isub(f),f.negative=1,h._normSign();var d,p;this.length>f.length?(d=this,p=f):(d=f,p=this);for(var v=0,w=0;w<p.length;w++)h=(d.words[w]|0)+(p.words[w]|0)+v,this.words[w]=h&67108863,v=h>>>26;for(;v!==0&&w<d.length;w++)h=(d.words[w]|0)+v,this.words[w]=h&67108863,v=h>>>26;if(this.length=d.length,v!==0)this.words[this.length]=v,this.length++;else if(d!==this)for(;w<d.length;w++)this.words[w]=d.words[w];return this},s.prototype.add=function(f){var h;return f.negative!==0&&this.negative===0?(f.negative=0,h=this.sub(f),f.negative^=1,h):f.negative===0&&this.negative!==0?(this.negative=0,h=f.sub(this),this.negative=1,h):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var h=this.iadd(f);return f.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var d=this.cmp(f);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,v;d>0?(p=this,v=f):(p=f,v=this);for(var w=0,S=0;S<v.length;S++)h=(p.words[S]|0)-(v.words[S]|0)+w,w=h>>26,this.words[S]=h&67108863;for(;w!==0&&S<p.length;S++)h=(p.words[S]|0)+w,w=h>>26,this.words[S]=h&67108863;if(w===0&&S<p.length&&p!==this)for(;S<p.length;S++)this.words[S]=p.words[S];return this.length=Math.max(this.length,S),p!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function E(A,f,h){h.negative=f.negative^A.negative;var d=A.length+f.length|0;h.length=d,d=d-1|0;var p=A.words[0]|0,v=f.words[0]|0,w=p*v,S=w&67108863,y=w/67108864|0;h.words[0]=S;for(var u=1;u<d;u++){for(var m=y>>>26,I=y&67108863,$=Math.min(u,f.length-1),Z=Math.max(0,u-A.length+1);Z<=$;Z++){var O=u-Z|0;p=A.words[O]|0,v=f.words[Z]|0,w=p*v+I,m+=w/67108864|0,I=w&67108863}h.words[u]=I|0,y=m|0}return y!==0?h.words[u]=y|0:h.length--,h.strip()}var M=function(f,h,d){var p=f.words,v=h.words,w=d.words,S=0,y,u,m,I=p[0]|0,$=I&8191,Z=I>>>13,O=p[1]|0,Q=O&8191,Y=O>>>13,X=p[2]|0,J=X&8191,N=X>>>13,ee=p[3]|0,se=ee&8191,le=ee>>>13,Ee=p[4]|0,ye=Ee&8191,Be=Ee>>>13,bt=p[5]|0,ke=bt&8191,Ke=bt>>>13,dt=p[6]|0,_e=dt&8191,Ae=dt>>>13,ot=p[7]|0,xe=ot&8191,Ie=ot>>>13,it=p[8]|0,q=it&8191,T=it>>>13,L=p[9]|0,G=L&8191,re=L>>>13,fe=v[0]|0,oe=fe&8191,we=fe>>>13,Ge=v[1]|0,Se=Ge&8191,Le=Ge>>>13,gt=v[2]|0,Ue=gt&8191,ct=gt>>>13,Ht=v[3]|0,Ye=Ht&8191,Je=Ht>>>13,St=v[4]|0,Re=St&8191,Ve=St>>>13,Ot=v[5]|0,Ce=Ot&8191,Ze=Ot>>>13,Dt=v[6]|0,Me=Dt&8191,Qe=Dt>>>13,z=v[7]|0,j=z&8191,H=z>>>13,C=v[8]|0,V=C&8191,ie=C>>>13,de=v[9]|0,ue=de&8191,pe=de>>>13;d.negative=f.negative^h.negative,d.length=19,y=Math.imul($,oe),u=Math.imul($,we),u=u+Math.imul(Z,oe)|0,m=Math.imul(Z,we);var $e=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+($e>>>26)|0,$e&=67108863,y=Math.imul(Q,oe),u=Math.imul(Q,we),u=u+Math.imul(Y,oe)|0,m=Math.imul(Y,we),y=y+Math.imul($,Se)|0,u=u+Math.imul($,Le)|0,u=u+Math.imul(Z,Se)|0,m=m+Math.imul(Z,Le)|0;var De=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(De>>>26)|0,De&=67108863,y=Math.imul(J,oe),u=Math.imul(J,we),u=u+Math.imul(N,oe)|0,m=Math.imul(N,we),y=y+Math.imul(Q,Se)|0,u=u+Math.imul(Q,Le)|0,u=u+Math.imul(Y,Se)|0,m=m+Math.imul(Y,Le)|0,y=y+Math.imul($,Ue)|0,u=u+Math.imul($,ct)|0,u=u+Math.imul(Z,Ue)|0,m=m+Math.imul(Z,ct)|0;var Bt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,y=Math.imul(se,oe),u=Math.imul(se,we),u=u+Math.imul(le,oe)|0,m=Math.imul(le,we),y=y+Math.imul(J,Se)|0,u=u+Math.imul(J,Le)|0,u=u+Math.imul(N,Se)|0,m=m+Math.imul(N,Le)|0,y=y+Math.imul(Q,Ue)|0,u=u+Math.imul(Q,ct)|0,u=u+Math.imul(Y,Ue)|0,m=m+Math.imul(Y,ct)|0,y=y+Math.imul($,Ye)|0,u=u+Math.imul($,Je)|0,u=u+Math.imul(Z,Ye)|0,m=m+Math.imul(Z,Je)|0;var tt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,y=Math.imul(ye,oe),u=Math.imul(ye,we),u=u+Math.imul(Be,oe)|0,m=Math.imul(Be,we),y=y+Math.imul(se,Se)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Se)|0,m=m+Math.imul(le,Le)|0,y=y+Math.imul(J,Ue)|0,u=u+Math.imul(J,ct)|0,u=u+Math.imul(N,Ue)|0,m=m+Math.imul(N,ct)|0,y=y+Math.imul(Q,Ye)|0,u=u+Math.imul(Q,Je)|0,u=u+Math.imul(Y,Ye)|0,m=m+Math.imul(Y,Je)|0,y=y+Math.imul($,Re)|0,u=u+Math.imul($,Ve)|0,u=u+Math.imul(Z,Re)|0,m=m+Math.imul(Z,Ve)|0;var xt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,y=Math.imul(ke,oe),u=Math.imul(ke,we),u=u+Math.imul(Ke,oe)|0,m=Math.imul(Ke,we),y=y+Math.imul(ye,Se)|0,u=u+Math.imul(ye,Le)|0,u=u+Math.imul(Be,Se)|0,m=m+Math.imul(Be,Le)|0,y=y+Math.imul(se,Ue)|0,u=u+Math.imul(se,ct)|0,u=u+Math.imul(le,Ue)|0,m=m+Math.imul(le,ct)|0,y=y+Math.imul(J,Ye)|0,u=u+Math.imul(J,Je)|0,u=u+Math.imul(N,Ye)|0,m=m+Math.imul(N,Je)|0,y=y+Math.imul(Q,Re)|0,u=u+Math.imul(Q,Ve)|0,u=u+Math.imul(Y,Re)|0,m=m+Math.imul(Y,Ve)|0,y=y+Math.imul($,Ce)|0,u=u+Math.imul($,Ze)|0,u=u+Math.imul(Z,Ce)|0,m=m+Math.imul(Z,Ze)|0;var _t=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,y=Math.imul(_e,oe),u=Math.imul(_e,we),u=u+Math.imul(Ae,oe)|0,m=Math.imul(Ae,we),y=y+Math.imul(ke,Se)|0,u=u+Math.imul(ke,Le)|0,u=u+Math.imul(Ke,Se)|0,m=m+Math.imul(Ke,Le)|0,y=y+Math.imul(ye,Ue)|0,u=u+Math.imul(ye,ct)|0,u=u+Math.imul(Be,Ue)|0,m=m+Math.imul(Be,ct)|0,y=y+Math.imul(se,Ye)|0,u=u+Math.imul(se,Je)|0,u=u+Math.imul(le,Ye)|0,m=m+Math.imul(le,Je)|0,y=y+Math.imul(J,Re)|0,u=u+Math.imul(J,Ve)|0,u=u+Math.imul(N,Re)|0,m=m+Math.imul(N,Ve)|0,y=y+Math.imul(Q,Ce)|0,u=u+Math.imul(Q,Ze)|0,u=u+Math.imul(Y,Ce)|0,m=m+Math.imul(Y,Ze)|0,y=y+Math.imul($,Me)|0,u=u+Math.imul($,Qe)|0,u=u+Math.imul(Z,Me)|0,m=m+Math.imul(Z,Qe)|0;var mt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,y=Math.imul(xe,oe),u=Math.imul(xe,we),u=u+Math.imul(Ie,oe)|0,m=Math.imul(Ie,we),y=y+Math.imul(_e,Se)|0,u=u+Math.imul(_e,Le)|0,u=u+Math.imul(Ae,Se)|0,m=m+Math.imul(Ae,Le)|0,y=y+Math.imul(ke,Ue)|0,u=u+Math.imul(ke,ct)|0,u=u+Math.imul(Ke,Ue)|0,m=m+Math.imul(Ke,ct)|0,y=y+Math.imul(ye,Ye)|0,u=u+Math.imul(ye,Je)|0,u=u+Math.imul(Be,Ye)|0,m=m+Math.imul(Be,Je)|0,y=y+Math.imul(se,Re)|0,u=u+Math.imul(se,Ve)|0,u=u+Math.imul(le,Re)|0,m=m+Math.imul(le,Ve)|0,y=y+Math.imul(J,Ce)|0,u=u+Math.imul(J,Ze)|0,u=u+Math.imul(N,Ce)|0,m=m+Math.imul(N,Ze)|0,y=y+Math.imul(Q,Me)|0,u=u+Math.imul(Q,Qe)|0,u=u+Math.imul(Y,Me)|0,m=m+Math.imul(Y,Qe)|0,y=y+Math.imul($,j)|0,u=u+Math.imul($,H)|0,u=u+Math.imul(Z,j)|0,m=m+Math.imul(Z,H)|0;var Tt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,y=Math.imul(q,oe),u=Math.imul(q,we),u=u+Math.imul(T,oe)|0,m=Math.imul(T,we),y=y+Math.imul(xe,Se)|0,u=u+Math.imul(xe,Le)|0,u=u+Math.imul(Ie,Se)|0,m=m+Math.imul(Ie,Le)|0,y=y+Math.imul(_e,Ue)|0,u=u+Math.imul(_e,ct)|0,u=u+Math.imul(Ae,Ue)|0,m=m+Math.imul(Ae,ct)|0,y=y+Math.imul(ke,Ye)|0,u=u+Math.imul(ke,Je)|0,u=u+Math.imul(Ke,Ye)|0,m=m+Math.imul(Ke,Je)|0,y=y+Math.imul(ye,Re)|0,u=u+Math.imul(ye,Ve)|0,u=u+Math.imul(Be,Re)|0,m=m+Math.imul(Be,Ve)|0,y=y+Math.imul(se,Ce)|0,u=u+Math.imul(se,Ze)|0,u=u+Math.imul(le,Ce)|0,m=m+Math.imul(le,Ze)|0,y=y+Math.imul(J,Me)|0,u=u+Math.imul(J,Qe)|0,u=u+Math.imul(N,Me)|0,m=m+Math.imul(N,Qe)|0,y=y+Math.imul(Q,j)|0,u=u+Math.imul(Q,H)|0,u=u+Math.imul(Y,j)|0,m=m+Math.imul(Y,H)|0,y=y+Math.imul($,V)|0,u=u+Math.imul($,ie)|0,u=u+Math.imul(Z,V)|0,m=m+Math.imul(Z,ie)|0;var Mt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,y=Math.imul(G,oe),u=Math.imul(G,we),u=u+Math.imul(re,oe)|0,m=Math.imul(re,we),y=y+Math.imul(q,Se)|0,u=u+Math.imul(q,Le)|0,u=u+Math.imul(T,Se)|0,m=m+Math.imul(T,Le)|0,y=y+Math.imul(xe,Ue)|0,u=u+Math.imul(xe,ct)|0,u=u+Math.imul(Ie,Ue)|0,m=m+Math.imul(Ie,ct)|0,y=y+Math.imul(_e,Ye)|0,u=u+Math.imul(_e,Je)|0,u=u+Math.imul(Ae,Ye)|0,m=m+Math.imul(Ae,Je)|0,y=y+Math.imul(ke,Re)|0,u=u+Math.imul(ke,Ve)|0,u=u+Math.imul(Ke,Re)|0,m=m+Math.imul(Ke,Ve)|0,y=y+Math.imul(ye,Ce)|0,u=u+Math.imul(ye,Ze)|0,u=u+Math.imul(Be,Ce)|0,m=m+Math.imul(Be,Ze)|0,y=y+Math.imul(se,Me)|0,u=u+Math.imul(se,Qe)|0,u=u+Math.imul(le,Me)|0,m=m+Math.imul(le,Qe)|0,y=y+Math.imul(J,j)|0,u=u+Math.imul(J,H)|0,u=u+Math.imul(N,j)|0,m=m+Math.imul(N,H)|0,y=y+Math.imul(Q,V)|0,u=u+Math.imul(Q,ie)|0,u=u+Math.imul(Y,V)|0,m=m+Math.imul(Y,ie)|0,y=y+Math.imul($,ue)|0,u=u+Math.imul($,pe)|0,u=u+Math.imul(Z,ue)|0,m=m+Math.imul(Z,pe)|0;var kt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(kt>>>26)|0,kt&=67108863,y=Math.imul(G,Se),u=Math.imul(G,Le),u=u+Math.imul(re,Se)|0,m=Math.imul(re,Le),y=y+Math.imul(q,Ue)|0,u=u+Math.imul(q,ct)|0,u=u+Math.imul(T,Ue)|0,m=m+Math.imul(T,ct)|0,y=y+Math.imul(xe,Ye)|0,u=u+Math.imul(xe,Je)|0,u=u+Math.imul(Ie,Ye)|0,m=m+Math.imul(Ie,Je)|0,y=y+Math.imul(_e,Re)|0,u=u+Math.imul(_e,Ve)|0,u=u+Math.imul(Ae,Re)|0,m=m+Math.imul(Ae,Ve)|0,y=y+Math.imul(ke,Ce)|0,u=u+Math.imul(ke,Ze)|0,u=u+Math.imul(Ke,Ce)|0,m=m+Math.imul(Ke,Ze)|0,y=y+Math.imul(ye,Me)|0,u=u+Math.imul(ye,Qe)|0,u=u+Math.imul(Be,Me)|0,m=m+Math.imul(Be,Qe)|0,y=y+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,m=m+Math.imul(le,H)|0,y=y+Math.imul(J,V)|0,u=u+Math.imul(J,ie)|0,u=u+Math.imul(N,V)|0,m=m+Math.imul(N,ie)|0,y=y+Math.imul(Q,ue)|0,u=u+Math.imul(Q,pe)|0,u=u+Math.imul(Y,ue)|0,m=m+Math.imul(Y,pe)|0;var Pt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(G,Ue),u=Math.imul(G,ct),u=u+Math.imul(re,Ue)|0,m=Math.imul(re,ct),y=y+Math.imul(q,Ye)|0,u=u+Math.imul(q,Je)|0,u=u+Math.imul(T,Ye)|0,m=m+Math.imul(T,Je)|0,y=y+Math.imul(xe,Re)|0,u=u+Math.imul(xe,Ve)|0,u=u+Math.imul(Ie,Re)|0,m=m+Math.imul(Ie,Ve)|0,y=y+Math.imul(_e,Ce)|0,u=u+Math.imul(_e,Ze)|0,u=u+Math.imul(Ae,Ce)|0,m=m+Math.imul(Ae,Ze)|0,y=y+Math.imul(ke,Me)|0,u=u+Math.imul(ke,Qe)|0,u=u+Math.imul(Ke,Me)|0,m=m+Math.imul(Ke,Qe)|0,y=y+Math.imul(ye,j)|0,u=u+Math.imul(ye,H)|0,u=u+Math.imul(Be,j)|0,m=m+Math.imul(Be,H)|0,y=y+Math.imul(se,V)|0,u=u+Math.imul(se,ie)|0,u=u+Math.imul(le,V)|0,m=m+Math.imul(le,ie)|0,y=y+Math.imul(J,ue)|0,u=u+Math.imul(J,pe)|0,u=u+Math.imul(N,ue)|0,m=m+Math.imul(N,pe)|0;var at=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(at>>>26)|0,at&=67108863,y=Math.imul(G,Ye),u=Math.imul(G,Je),u=u+Math.imul(re,Ye)|0,m=Math.imul(re,Je),y=y+Math.imul(q,Re)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(T,Re)|0,m=m+Math.imul(T,Ve)|0,y=y+Math.imul(xe,Ce)|0,u=u+Math.imul(xe,Ze)|0,u=u+Math.imul(Ie,Ce)|0,m=m+Math.imul(Ie,Ze)|0,y=y+Math.imul(_e,Me)|0,u=u+Math.imul(_e,Qe)|0,u=u+Math.imul(Ae,Me)|0,m=m+Math.imul(Ae,Qe)|0,y=y+Math.imul(ke,j)|0,u=u+Math.imul(ke,H)|0,u=u+Math.imul(Ke,j)|0,m=m+Math.imul(Ke,H)|0,y=y+Math.imul(ye,V)|0,u=u+Math.imul(ye,ie)|0,u=u+Math.imul(Be,V)|0,m=m+Math.imul(Be,ie)|0,y=y+Math.imul(se,ue)|0,u=u+Math.imul(se,pe)|0,u=u+Math.imul(le,ue)|0,m=m+Math.imul(le,pe)|0;var pt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,y=Math.imul(G,Re),u=Math.imul(G,Ve),u=u+Math.imul(re,Re)|0,m=Math.imul(re,Ve),y=y+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ze)|0,u=u+Math.imul(T,Ce)|0,m=m+Math.imul(T,Ze)|0,y=y+Math.imul(xe,Me)|0,u=u+Math.imul(xe,Qe)|0,u=u+Math.imul(Ie,Me)|0,m=m+Math.imul(Ie,Qe)|0,y=y+Math.imul(_e,j)|0,u=u+Math.imul(_e,H)|0,u=u+Math.imul(Ae,j)|0,m=m+Math.imul(Ae,H)|0,y=y+Math.imul(ke,V)|0,u=u+Math.imul(ke,ie)|0,u=u+Math.imul(Ke,V)|0,m=m+Math.imul(Ke,ie)|0,y=y+Math.imul(ye,ue)|0,u=u+Math.imul(ye,pe)|0,u=u+Math.imul(Be,ue)|0,m=m+Math.imul(Be,pe)|0;var rt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,y=Math.imul(G,Ce),u=Math.imul(G,Ze),u=u+Math.imul(re,Ce)|0,m=Math.imul(re,Ze),y=y+Math.imul(q,Me)|0,u=u+Math.imul(q,Qe)|0,u=u+Math.imul(T,Me)|0,m=m+Math.imul(T,Qe)|0,y=y+Math.imul(xe,j)|0,u=u+Math.imul(xe,H)|0,u=u+Math.imul(Ie,j)|0,m=m+Math.imul(Ie,H)|0,y=y+Math.imul(_e,V)|0,u=u+Math.imul(_e,ie)|0,u=u+Math.imul(Ae,V)|0,m=m+Math.imul(Ae,ie)|0,y=y+Math.imul(ke,ue)|0,u=u+Math.imul(ke,pe)|0,u=u+Math.imul(Ke,ue)|0,m=m+Math.imul(Ke,pe)|0;var ft=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,y=Math.imul(G,Me),u=Math.imul(G,Qe),u=u+Math.imul(re,Me)|0,m=Math.imul(re,Qe),y=y+Math.imul(q,j)|0,u=u+Math.imul(q,H)|0,u=u+Math.imul(T,j)|0,m=m+Math.imul(T,H)|0,y=y+Math.imul(xe,V)|0,u=u+Math.imul(xe,ie)|0,u=u+Math.imul(Ie,V)|0,m=m+Math.imul(Ie,ie)|0,y=y+Math.imul(_e,ue)|0,u=u+Math.imul(_e,pe)|0,u=u+Math.imul(Ae,ue)|0,m=m+Math.imul(Ae,pe)|0;var nt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,y=Math.imul(G,j),u=Math.imul(G,H),u=u+Math.imul(re,j)|0,m=Math.imul(re,H),y=y+Math.imul(q,V)|0,u=u+Math.imul(q,ie)|0,u=u+Math.imul(T,V)|0,m=m+Math.imul(T,ie)|0,y=y+Math.imul(xe,ue)|0,u=u+Math.imul(xe,pe)|0,u=u+Math.imul(Ie,ue)|0,m=m+Math.imul(Ie,pe)|0;var et=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(et>>>26)|0,et&=67108863,y=Math.imul(G,V),u=Math.imul(G,ie),u=u+Math.imul(re,V)|0,m=Math.imul(re,ie),y=y+Math.imul(q,ue)|0,u=u+Math.imul(q,pe)|0,u=u+Math.imul(T,ue)|0,m=m+Math.imul(T,pe)|0;var be=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(be>>>26)|0,be&=67108863,y=Math.imul(G,ue),u=Math.imul(G,pe),u=u+Math.imul(re,ue)|0,m=Math.imul(re,pe);var ve=(S+y|0)+((u&8191)<<13)|0;return S=(m+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,w[0]=$e,w[1]=De,w[2]=Bt,w[3]=tt,w[4]=xt,w[5]=_t,w[6]=mt,w[7]=Tt,w[8]=Mt,w[9]=kt,w[10]=Pt,w[11]=at,w[12]=pt,w[13]=rt,w[14]=ft,w[15]=nt,w[16]=et,w[17]=be,w[18]=ve,S!==0&&(w[19]=S,d.length++),d};Math.imul||(M=E);function B(A,f,h){h.negative=f.negative^A.negative,h.length=A.length+f.length;for(var d=0,p=0,v=0;v<h.length-1;v++){var w=p;p=0;for(var S=d&67108863,y=Math.min(v,f.length-1),u=Math.max(0,v-A.length+1);u<=y;u++){var m=v-u,I=A.words[m]|0,$=f.words[u]|0,Z=I*$,O=Z&67108863;w=w+(Z/67108864|0)|0,O=O+S|0,S=O&67108863,w=w+(O>>>26)|0,p+=w>>>26,w&=67108863}h.words[v]=S,d=w,w=p}return d!==0?h.words[v]=d:h.length--,h.strip()}function P(A,f,h){var d=new R;return d.mulp(A,f,h)}s.prototype.mulTo=function(f,h){var d,p=this.length+f.length;return this.length===10&&f.length===10?d=M(this,f,h):p<63?d=E(this,f,h):p<1024?d=B(this,f,h):d=P(this,f,h),d};function R(A,f){this.x=A,this.y=f}R.prototype.makeRBT=function(f){for(var h=new Array(f),d=s.prototype._countBits(f)-1,p=0;p<f;p++)h[p]=this.revBin(p,d,f);return h},R.prototype.revBin=function(f,h,d){if(f===0||f===d-1)return f;for(var p=0,v=0;v<h;v++)p|=(f&1)<<h-v-1,f>>=1;return p},R.prototype.permute=function(f,h,d,p,v,w){for(var S=0;S<w;S++)p[S]=h[f[S]],v[S]=d[f[S]]},R.prototype.transform=function(f,h,d,p,v,w){this.permute(w,f,h,d,p,v);for(var S=1;S<v;S<<=1)for(var y=S<<1,u=Math.cos(2*Math.PI/y),m=Math.sin(2*Math.PI/y),I=0;I<v;I+=y)for(var $=u,Z=m,O=0;O<S;O++){var Q=d[I+O],Y=p[I+O],X=d[I+O+S],J=p[I+O+S],N=$*X-Z*J;J=$*J+Z*X,X=N,d[I+O]=Q+X,p[I+O]=Y+J,d[I+O+S]=Q-X,p[I+O+S]=Y-J,O!==y&&(N=u*$-m*Z,Z=u*Z+m*$,$=N)}},R.prototype.guessLen13b=function(f,h){var d=Math.max(h,f)|1,p=d&1,v=0;for(d=d/2|0;d;d=d>>>1)v++;return 1<<v+1+p},R.prototype.conjugate=function(f,h,d){if(!(d<=1))for(var p=0;p<d/2;p++){var v=f[p];f[p]=f[d-p-1],f[d-p-1]=v,v=h[p],h[p]=-h[d-p-1],h[d-p-1]=-v}},R.prototype.normalize13b=function(f,h){for(var d=0,p=0;p<h/2;p++){var v=Math.round(f[2*p+1]/h)*8192+Math.round(f[2*p]/h)+d;f[p]=v&67108863,v<67108864?d=0:d=v/67108864|0}return f},R.prototype.convert13b=function(f,h,d,p){for(var v=0,w=0;w<h;w++)v=v+(f[w]|0),d[2*w]=v&8191,v=v>>>13,d[2*w+1]=v&8191,v=v>>>13;for(w=2*h;w<p;++w)d[w]=0;n(v===0),n((v&-8192)===0)},R.prototype.stub=function(f){for(var h=new Array(f),d=0;d<f;d++)h[d]=0;return h},R.prototype.mulp=function(f,h,d){var p=2*this.guessLen13b(f.length,h.length),v=this.makeRBT(p),w=this.stub(p),S=new Array(p),y=new Array(p),u=new Array(p),m=new Array(p),I=new Array(p),$=new Array(p),Z=d.words;Z.length=p,this.convert13b(f.words,f.length,S,p),this.convert13b(h.words,h.length,m,p),this.transform(S,w,y,u,p,v),this.transform(m,w,I,$,p,v);for(var O=0;O<p;O++){var Q=y[O]*I[O]-u[O]*$[O];u[O]=y[O]*$[O]+u[O]*I[O],y[O]=Q}return this.conjugate(y,u,p),this.transform(y,u,Z,w,p,v),this.conjugate(Z,w,p),this.normalize13b(Z,p),d.negative=f.negative^h.negative,d.length=f.length+h.length,d.strip()},s.prototype.mul=function(f){var h=new s(null);return h.words=new Array(this.length+f.length),this.mulTo(f,h)},s.prototype.mulf=function(f){var h=new s(null);return h.words=new Array(this.length+f.length),P(this,f,h)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){n(typeof f=="number"),n(f<67108864);for(var h=0,d=0;d<this.length;d++){var p=(this.words[d]|0)*f,v=(p&67108863)+(h&67108863);h>>=26,h+=p/67108864|0,h+=v>>>26,this.words[d]=v&67108863}return h!==0&&(this.words[d]=h,this.length++),this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var h=_(f);if(h.length===0)return new s(1);for(var d=this,p=0;p<h.length&&h[p]===0;p++,d=d.sqr());if(++p<h.length)for(var v=d.sqr();p<h.length;p++,v=v.sqr())h[p]!==0&&(d=d.mul(v));return d},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var h=f%26,d=(f-h)/26,p=67108863>>>26-h<<26-h,v;if(h!==0){var w=0;for(v=0;v<this.length;v++){var S=this.words[v]&p,y=(this.words[v]|0)-S<<h;this.words[v]=y|w,w=S>>>26-h}w&&(this.words[v]=w,this.length++)}if(d!==0){for(v=this.length-1;v>=0;v--)this.words[v+d]=this.words[v];for(v=0;v<d;v++)this.words[v]=0;this.length+=d}return this.strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,h,d){n(typeof f=="number"&&f>=0);var p;h?p=(h-h%26)/26:p=0;var v=f%26,w=Math.min((f-v)/26,this.length),S=67108863^67108863>>>v<<v,y=d;if(p-=w,p=Math.max(0,p),y){for(var u=0;u<w;u++)y.words[u]=this.words[u];y.length=w}if(w!==0)if(this.length>w)for(this.length-=w,u=0;u<this.length;u++)this.words[u]=this.words[u+w];else this.words[0]=0,this.length=1;var m=0;for(u=this.length-1;u>=0&&(m!==0||u>=p);u--){var I=this.words[u]|0;this.words[u]=m<<26-v|I>>>v,m=I&S}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(f,h,d){return n(this.negative===0),this.iushrn(f,h,d)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,d=(f-h)/26,p=1<<h;if(this.length<=d)return!1;var v=this.words[d];return!!(v&p)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,d=(f-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(h!==0&&d++,this.length=Math.min(d,this.length),h!==0){var p=67108863^67108863>>>h<<h;this.words[this.length-1]&=p}return this.strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,h,d){var p=f.length+d,v;this._expand(p);var w,S=0;for(v=0;v<f.length;v++){w=(this.words[v+d]|0)+S;var y=(f.words[v]|0)*h;w-=y&67108863,S=(w>>26)-(y/67108864|0),this.words[v+d]=w&67108863}for(;v<this.length-d;v++)w=(this.words[v+d]|0)+S,S=w>>26,this.words[v+d]=w&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+S,S=w>>26,this.words[v]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(f,h){var d=this.length-f.length,p=this.clone(),v=f,w=v.words[v.length-1]|0,S=this._countBits(w);d=26-S,d!==0&&(v=v.ushln(d),p.iushln(d),w=v.words[v.length-1]|0);var y=p.length-v.length,u;if(h!=="mod"){u=new s(null),u.length=y+1,u.words=new Array(u.length);for(var m=0;m<u.length;m++)u.words[m]=0}var I=p.clone()._ishlnsubmul(v,1,y);I.negative===0&&(p=I,u&&(u.words[y]=1));for(var $=y-1;$>=0;$--){var Z=(p.words[v.length+$]|0)*67108864+(p.words[v.length+$-1]|0);for(Z=Math.min(Z/w|0,67108863),p._ishlnsubmul(v,Z,$);p.negative!==0;)Z--,p.negative=0,p._ishlnsubmul(v,1,$),p.isZero()||(p.negative^=1);u&&(u.words[$]=Z)}return u&&u.strip(),p.strip(),h!=="div"&&d!==0&&p.iushrn(d),{div:u||null,mod:p}},s.prototype.divmod=function(f,h,d){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var p,v,w;return this.negative!==0&&f.negative===0?(w=this.neg().divmod(f,h),h!=="mod"&&(p=w.div.neg()),h!=="div"&&(v=w.mod.neg(),d&&v.negative!==0&&v.iadd(f)),{div:p,mod:v}):this.negative===0&&f.negative!==0?(w=this.divmod(f.neg(),h),h!=="mod"&&(p=w.div.neg()),{div:p,mod:w.mod}):this.negative&f.negative?(w=this.neg().divmod(f.neg(),h),h!=="div"&&(v=w.mod.neg(),d&&v.negative!==0&&v.isub(f)),{div:w.div,mod:v}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?h==="div"?{div:this.divn(f.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modn(f.words[0]))}:this._wordDiv(f,h)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var h=this.divmod(f);if(h.mod.isZero())return h.div;var d=h.div.negative!==0?h.mod.isub(f):h.mod,p=f.ushrn(1),v=f.andln(1),w=d.cmp(p);return w<0||v===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(f){n(f<=67108863);for(var h=(1<<26)%f,d=0,p=this.length-1;p>=0;p--)d=(h*d+(this.words[p]|0))%f;return d},s.prototype.idivn=function(f){n(f<=67108863);for(var h=0,d=this.length-1;d>=0;d--){var p=(this.words[d]|0)+h*67108864;this.words[d]=p/f|0,h=p%f}return this.strip()},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var h=this,d=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var p=new s(1),v=new s(0),w=new s(0),S=new s(1),y=0;h.isEven()&&d.isEven();)h.iushrn(1),d.iushrn(1),++y;for(var u=d.clone(),m=h.clone();!h.isZero();){for(var I=0,$=1;!(h.words[0]&$)&&I<26;++I,$<<=1);if(I>0)for(h.iushrn(I);I-- >0;)(p.isOdd()||v.isOdd())&&(p.iadd(u),v.isub(m)),p.iushrn(1),v.iushrn(1);for(var Z=0,O=1;!(d.words[0]&O)&&Z<26;++Z,O<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(u),S.isub(m)),w.iushrn(1),S.iushrn(1);h.cmp(d)>=0?(h.isub(d),p.isub(w),v.isub(S)):(d.isub(h),w.isub(p),S.isub(v))}return{a:w,b:S,gcd:d.iushln(y)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var h=this,d=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var p=new s(1),v=new s(0),w=d.clone();h.cmpn(1)>0&&d.cmpn(1)>0;){for(var S=0,y=1;!(h.words[0]&y)&&S<26;++S,y<<=1);if(S>0)for(h.iushrn(S);S-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);for(var u=0,m=1;!(d.words[0]&m)&&u<26;++u,m<<=1);if(u>0)for(d.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);h.cmp(d)>=0?(h.isub(d),p.isub(v)):(d.isub(h),v.isub(p))}var I;return h.cmpn(1)===0?I=p:I=v,I.cmpn(0)<0&&I.iadd(f),I},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var h=this.clone(),d=f.clone();h.negative=0,d.negative=0;for(var p=0;h.isEven()&&d.isEven();p++)h.iushrn(1),d.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;d.isEven();)d.iushrn(1);var v=h.cmp(d);if(v<0){var w=h;h=d,d=w}else if(v===0||d.cmpn(1)===0)break;h.isub(d)}while(!0);return d.iushln(p)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var h=f%26,d=(f-h)/26,p=1<<h;if(this.length<=d)return this._expand(d+1),this.words[d]|=p,this;for(var v=p,w=d;v!==0&&w<this.length;w++){var S=this.words[w]|0;S+=v,v=S>>>26,S&=67108863,this.words[w]=S}return v!==0&&(this.words[w]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var h=f<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var d;if(this.length>1)d=1;else{h&&(f=-f),n(f<=67108863,"Number is too big");var p=this.words[0]|0;d=p===f?0:p<f?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var h=this.ucmp(f);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var h=0,d=this.length-1;d>=0;d--){var p=this.words[d]|0,v=f.words[d]|0;if(p!==v){p<v?h=-1:p>v&&(h=1);break}}return h},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new te(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function U(A,f){this.name=A,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},U.prototype.ireduce=function(f){var h=f,d;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),d=h.bitLength();while(d>this.n);var p=d<this.n?-1:h.ucmp(this.p);return p===0?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},U.prototype.split=function(f,h){f.iushrn(this.n,0,h)},U.prototype.imulK=function(f){return f.imul(this.k)};function F(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,U),F.prototype.split=function(f,h){for(var d=4194303,p=Math.min(f.length,9),v=0;v<p;v++)h.words[v]=f.words[v];if(h.length=p,f.length<=9){f.words[0]=0,f.length=1;return}var w=f.words[9];for(h.words[h.length++]=w&d,v=10;v<f.length;v++){var S=f.words[v]|0;f.words[v-10]=(S&d)<<4|w>>>22,w=S}w>>>=22,f.words[v-10]=w,w===0&&f.length>10?f.length-=10:f.length-=9},F.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var h=0,d=0;d<f.length;d++){var p=f.words[d]|0;h+=p*977,f.words[d]=h&67108863,h=p*64+(h/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function W(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(W,U);function k(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(k,U);function K(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(K,U),K.prototype.imulK=function(f){for(var h=0,d=0;d<f.length;d++){var p=(f.words[d]|0)*19+h,v=p&67108863;p>>>=26,f.words[d]=v,h=p}return h!==0&&(f.words[f.length++]=h),f},s._prime=function(f){if(D[f])return D[f];var h;if(f==="k256")h=new F;else if(f==="p224")h=new W;else if(f==="p192")h=new k;else if(f==="p25519")h=new K;else throw new Error("Unknown prime "+f);return D[f]=h,h};function te(A){if(typeof A=="string"){var f=s._prime(A);this.m=f.p,this.prime=f}else n(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}te.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},te.prototype._verify2=function(f,h){n((f.negative|h.negative)===0,"red works only with positives"),n(f.red&&f.red===h.red,"red works only with red numbers")},te.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},te.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},te.prototype.add=function(f,h){this._verify2(f,h);var d=f.add(h);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},te.prototype.iadd=function(f,h){this._verify2(f,h);var d=f.iadd(h);return d.cmp(this.m)>=0&&d.isub(this.m),d},te.prototype.sub=function(f,h){this._verify2(f,h);var d=f.sub(h);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},te.prototype.isub=function(f,h){this._verify2(f,h);var d=f.isub(h);return d.cmpn(0)<0&&d.iadd(this.m),d},te.prototype.shl=function(f,h){return this._verify1(f),this.imod(f.ushln(h))},te.prototype.imul=function(f,h){return this._verify2(f,h),this.imod(f.imul(h))},te.prototype.mul=function(f,h){return this._verify2(f,h),this.imod(f.mul(h))},te.prototype.isqr=function(f){return this.imul(f,f.clone())},te.prototype.sqr=function(f){return this.mul(f,f)},te.prototype.sqrt=function(f){if(f.isZero())return f.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(f,d)}for(var p=this.m.subn(1),v=0;!p.isZero()&&p.andln(1)===0;)v++,p.iushrn(1);n(!p.isZero());var w=new s(1).toRed(this),S=w.redNeg(),y=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);this.pow(u,y).cmp(S)!==0;)u.redIAdd(S);for(var m=this.pow(u,p),I=this.pow(f,p.addn(1).iushrn(1)),$=this.pow(f,p),Z=v;$.cmp(w)!==0;){for(var O=$,Q=0;O.cmp(w)!==0;Q++)O=O.redSqr();n(Q<Z);var Y=this.pow(m,new s(1).iushln(Z-Q-1));I=I.redMul(Y),m=Y.redSqr(),$=$.redMul(m),Z=Q}return I},te.prototype.invm=function(f){var h=f._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},te.prototype.pow=function(f,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return f.clone();var d=4,p=new Array(1<<d);p[0]=new s(1).toRed(this),p[1]=f;for(var v=2;v<p.length;v++)p[v]=this.mul(p[v-1],f);var w=p[0],S=0,y=0,u=h.bitLength()%26;for(u===0&&(u=26),v=h.length-1;v>=0;v--){for(var m=h.words[v],I=u-1;I>=0;I--){var $=m>>I&1;if(w!==p[0]&&(w=this.sqr(w)),$===0&&S===0){y=0;continue}S<<=1,S|=$,y++,!(y!==d&&(v!==0||I!==0))&&(w=this.mul(w,p[S]),y=0,S=0)}u=26}return w},te.prototype.convertTo=function(f){var h=f.umod(this.m);return h===f?h.clone():h},te.prototype.convertFrom=function(f){var h=f.clone();return h.red=null,h},s.mont=function(f){return new ce(f)};function ce(A){te.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ce,te),ce.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},ce.prototype.convertFrom=function(f){var h=this.imod(f.mul(this.rinv));return h.red=null,h},ce.prototype.imul=function(f,h){if(f.isZero()||h.isZero())return f.words[0]=0,f.length=1,f;var d=f.imul(h),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=d.isub(p).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},ce.prototype.mul=function(f,h){if(f.isZero()||h.isZero())return new s(0)._forceRed(this);var d=f.mul(h),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=d.isub(p).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},ce.prototype.invm=function(f){var h=this.imod(f._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,zi)})(F3);var nc=F3.exports;(function(t){var e=t,r=nc,n=rc,i=u0;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(g,b,x){var _=new Array(Math.max(g.bitLength(),x)+1),E;for(E=0;E<_.length;E+=1)_[E]=0;var M=1<<b+1,B=g.clone();for(E=0;E<_.length;E++){var P,R=B.andln(M-1);B.isOdd()?(R>(M>>1)-1?P=(M>>1)-R:P=R,B.isubn(P)):P=0,_[E]=P,B.iushrn(1)}return _}e.getNAF=s;function o(g,b){var x=[[],[]];g=g.clone(),b=b.clone();for(var _=0,E=0,M;g.cmpn(-_)>0||b.cmpn(-E)>0;){var B=g.andln(3)+_&3,P=b.andln(3)+E&3;B===3&&(B=-1),P===3&&(P=-1);var R;B&1?(M=g.andln(7)+_&7,(M===3||M===5)&&P===2?R=-B:R=B):R=0,x[0].push(R);var D;P&1?(M=b.andln(7)+E&7,(M===3||M===5)&&B===2?D=-P:D=P):D=0,x[1].push(D),2*_===R+1&&(_=1-_),2*E===D+1&&(E=1-E),g.iushrn(1),b.iushrn(1)}return x}e.getJSF=o;function a(g,b,x){var _="_"+b;g.prototype[b]=function(){return this[_]!==void 0?this[_]:this[_]=x.call(this)}}e.cachedProperty=a;function c(g){return typeof g=="string"?e.toArray(g,"hex"):g}e.parseBytes=c;function l(g){return new r(g,"hex","le")}e.intFromLE=l})(_s);var q3={},df=nc,d0=_s,N1=d0.getNAF,hO=d0.getJSF,O1=d0.assert;function ef(t,e){this.type=t,this.p=new df(e.p,16),this.red=e.prime?df.red(e.prime):df.mont(this.p),this.zero=new df(0).toRed(this.red),this.one=new df(1).toRed(this.red),this.two=new df(2).toRed(this.red),this.n=e.n&&new df(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Fg=ef;ef.prototype.point=function(){throw new Error("Not implemented")};ef.prototype.validate=function(){throw new Error("Not implemented")};ef.prototype._fixedNafMul=function(e,r){O1(e.precomputed);var n=e._getDoubles(),i=N1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var g=this.jpoint(null,null,null),b=this.jpoint(null,null,null),x=s;x>0;x--){for(a=0;a<o.length;a++)c=o[a],c===x?b=b.mixedAdd(n.points[a]):c===-x&&(b=b.mixedAdd(n.points[a].neg()));g=g.add(b)}return g.toP()};ef.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=N1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var g=o[c];O1(g!==0),e.type==="affine"?g>0?a=a.mixedAdd(s[g-1>>1]):a=a.mixedAdd(s[-g-1>>1].neg()):g>0?a=a.add(s[g-1>>1]):a=a.add(s[-g-1>>1].neg())}return e.type==="affine"?a.toP():a};ef.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,g,b,x;for(g=0;g<i;g++){x=r[g];var _=x._getNAFPoints(e);o[g]=_.wnd,a[g]=_.points}for(g=i-1;g>=1;g-=2){var E=g-1,M=g;if(o[E]!==1||o[M]!==1){c[E]=N1(n[E],o[E],this._bitLength),c[M]=N1(n[M],o[M],this._bitLength),l=Math.max(c[E].length,l),l=Math.max(c[M].length,l);continue}var B=[r[E],null,null,r[M]];r[E].y.cmp(r[M].y)===0?(B[1]=r[E].add(r[M]),B[2]=r[E].toJ().mixedAdd(r[M].neg())):r[E].y.cmp(r[M].y.redNeg())===0?(B[1]=r[E].toJ().mixedAdd(r[M]),B[2]=r[E].add(r[M].neg())):(B[1]=r[E].toJ().mixedAdd(r[M]),B[2]=r[E].toJ().mixedAdd(r[M].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],R=hO(n[E],n[M]);for(l=Math.max(R[0].length,l),c[E]=new Array(l),c[M]=new Array(l),b=0;b<l;b++){var D=R[0][b]|0,U=R[1][b]|0;c[E][b]=P[(D+1)*3+(U+1)],c[M][b]=0,a[E]=B}}var F=this.jpoint(null,null,null),W=this._wnafT4;for(g=l;g>=0;g--){for(var k=0;g>=0;){var K=!0;for(b=0;b<i;b++)W[b]=c[b][g]|0,W[b]!==0&&(K=!1);if(!K)break;k++,g--}if(g>=0&&k++,F=F.dblp(k),g<0)break;for(b=0;b<i;b++){var te=W[b];te!==0&&(te>0?x=a[b][te-1>>1]:te<0&&(x=a[b][-te-1>>1].neg()),x.type==="affine"?F=F.mixedAdd(x):F=F.add(x))}}for(g=0;g<i;g++)a[g]=null;return s?F:F.toP()};function Qs(t,e){this.curve=t,this.type=e,this.precomputed=null}ef.BasePoint=Qs;Qs.prototype.eq=function(){throw new Error("Not implemented")};Qs.prototype.validate=function(){return this.curve.validate(this)};ef.prototype.decodePoint=function(e,r){e=d0.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?O1(e[e.length-1]%2===0):e[0]===7&&O1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Qs.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Qs.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Qs.prototype.encode=function(e,r){return d0.encode(this._encode(r),e)};Qs.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Qs.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Qs.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Qs.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Qs.prototype._getBeta=function(){return null};Qs.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var pO=_s,dn=nc,K3=da,Gd=Fg,gO=pO.assert;function eo(t){Gd.call(this,"short",t),this.a=new dn(t.a,16).toRed(this.red),this.b=new dn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}K3(eo,Gd);var bO=eo;eo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new dn(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new dn(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],gO(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new dn(a.a,16),b:new dn(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};eo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:dn.mont(e),n=new dn(2).toRed(r).redInvm(),i=n.redNeg(),s=new dn(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};eo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new dn(1),o=new dn(0),a=new dn(0),c=new dn(1),l,g,b,x,_,E,M,B=0,P,R;n.cmpn(0)!==0;){var D=i.div(n);P=i.sub(D.mul(n)),R=a.sub(D.mul(s));var U=c.sub(D.mul(o));if(!b&&P.cmp(r)<0)l=M.neg(),g=s,b=P.neg(),x=R;else if(b&&++B===2)break;M=P,i=n,n=P,a=s,s=R,c=o,o=U}_=P.neg(),E=R;var F=b.sqr().add(x.sqr()),W=_.sqr().add(E.sqr());return W.cmp(F)>=0&&(_=l,E=g),b.negative&&(b=b.neg(),x=x.neg()),_.negative&&(_=_.neg(),E=E.neg()),[{a:b,b:x},{a:_,b:E}]};eo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),g=o.mul(i.b),b=e.sub(a).sub(c),x=l.add(g).neg();return{k1:b,k2:x}};eo.prototype.pointFromX=function(e,r){e=new dn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};eo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};eo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var g=this._wnafMulAdd(1,i,s,o*2,n),b=0;b<o*2;b++)i[b]=null,s[b]=null;return g};function Gn(t,e,r,n){Gd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new dn(e,16),this.y=new dn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}K3(Gn,Gd.BasePoint);eo.prototype.point=function(e,r,n){return new Gn(this,e,r,n)};eo.prototype.pointFromJSON=function(e,r){return Gn.fromJSON(this,e,r)};Gn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Gn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Gn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Gn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Gn.prototype.isInfinity=function(){return this.inf};Gn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Gn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Gn.prototype.getX=function(){return this.x.fromRed()};Gn.prototype.getY=function(){return this.y.fromRed()};Gn.prototype.mul=function(e){return e=new dn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Gn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Gn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Gn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Gn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Gn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function fi(t,e,r,n){Gd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new dn(0)):(this.x=new dn(e,16),this.y=new dn(r,16),this.z=new dn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}K3(fi,Gd.BasePoint);eo.prototype.jpoint=function(e,r,n){return new fi(this,e,r,n)};fi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};fi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};fi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=c.redSqr(),b=g.redMul(c),x=i.redMul(g),_=l.redSqr().redIAdd(b).redISub(x).redISub(x),E=l.redMul(x.redISub(_)).redISub(o.redMul(b)),M=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(_,E,M)};fi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),g=l.redMul(a),b=n.redMul(l),x=c.redSqr().redIAdd(g).redISub(b).redISub(b),_=c.redMul(b.redISub(x)).redISub(s.redMul(g)),E=this.z.redMul(a);return this.curve.jpoint(x,_,E)};fi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),g=a.redAdd(a);for(r=0;r<e;r++){var b=o.redSqr(),x=g.redSqr(),_=x.redSqr(),E=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(l)),M=o.redMul(x),B=E.redSqr().redISub(M.redAdd(M)),P=M.redISub(B),R=E.redMul(P);R=R.redIAdd(R).redISub(_);var D=g.redMul(c);r+1<e&&(l=l.redMul(_)),o=B,c=D,g=R}return this.curve.jpoint(o,g.redMul(s),c)};fi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};fi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),g=o.redIAdd(o);g=g.redIAdd(g),g=g.redIAdd(g),e=l,r=c.redMul(a.redISub(l)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),x=this.y.redSqr(),_=x.redSqr(),E=this.x.redAdd(x).redSqr().redISub(b).redISub(_);E=E.redIAdd(E);var M=b.redAdd(b).redIAdd(b),B=M.redSqr(),P=_.redIAdd(_);P=P.redIAdd(P),P=P.redIAdd(P),e=B.redISub(E).redISub(E),r=M.redMul(E.redISub(e)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};fi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var g=o.redIAdd(o);g=g.redIAdd(g),g=g.redIAdd(g),r=c.redMul(a.redISub(l)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),x=this.y.redSqr(),_=this.x.redMul(x),E=this.x.redSub(b).redMul(this.x.redAdd(b));E=E.redAdd(E).redIAdd(E);var M=_.redIAdd(_);M=M.redIAdd(M);var B=M.redAdd(M);e=E.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(x).redISub(b);var P=x.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),r=E.redMul(M.redISub(e)).redISub(P)}return this.curve.jpoint(e,r,n)};fi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var g=l.redMul(a),b=c.redSqr().redISub(g.redAdd(g)),x=g.redISub(b),_=a.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=c.redMul(x).redISub(_),M=n.redAdd(n).redMul(i);return this.curve.jpoint(b,E,M)};fi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var g=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),b=r.redMul(g);b=b.redIAdd(b),b=b.redIAdd(b);var x=this.x.redMul(c).redISub(b);x=x.redIAdd(x),x=x.redIAdd(x);var _=this.y.redMul(g.redMul(l.redISub(g)).redISub(a.redMul(c)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(x,_,E)};fi.prototype.mul=function(e,r){return e=new dn(e,r),this.curve._wnafMul(this,e)};fi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};fi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};fi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};fi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Gu=nc,CS=da,qg=Fg,vO=_s;function Yd(t){qg.call(this,"mont",t),this.a=new Gu(t.a,16).toRed(this.red),this.b=new Gu(t.b,16).toRed(this.red),this.i4=new Gu(4).toRed(this.red).redInvm(),this.two=new Gu(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}CS(Yd,qg);var yO=Yd;Yd.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Wn(t,e,r){qg.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Gu(e,16),this.z=new Gu(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}CS(Wn,qg.BasePoint);Yd.prototype.decodePoint=function(e,r){return this.point(vO.toArray(e,r),1)};Yd.prototype.point=function(e,r){return new Wn(this,e,r)};Yd.prototype.pointFromJSON=function(e){return Wn.fromJSON(this,e)};Wn.prototype.precompute=function(){};Wn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Wn.fromJSON=function(e,r){return new Wn(e,r[0],r[1]||e.one)};Wn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Wn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Wn.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};Wn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Wn.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),c=s.redMul(i),l=r.z.redMul(a.redAdd(c).redSqr()),g=r.x.redMul(a.redISub(c).redSqr());return this.curve.point(l,g)};Wn.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Wn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Wn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Wn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Wn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Wn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var mO=_s,Ua=nc,TS=da,Kg=Fg,wO=mO.assert;function ha(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Kg.call(this,"edwards",t),this.a=new Ua(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Ua(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Ua(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),wO(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}TS(ha,Kg);var xO=ha;ha.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};ha.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};ha.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};ha.prototype.pointFromX=function(e,r){e=new Ua(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(r&&!c||!r&&c)&&(a=a.redNeg()),this.point(e,a)};ha.prototype.pointFromY=function(e,r){e=new Ua(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};ha.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Ur(t,e,r,n,i){Kg.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Ua(e,16),this.y=new Ua(r,16),this.z=n?new Ua(n,16):this.curve.one,this.t=i&&new Ua(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}TS(Ur,Kg.BasePoint);ha.prototype.pointFromJSON=function(e){return Ur.fromJSON(this,e)};ha.prototype.point=function(e,r,n,i){return new Ur(this,e,r,n,i)};Ur.fromJSON=function(e,r){return new Ur(e,r[0],r[1],r[2])};Ur.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Ur.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Ur.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),c=i.redSub(r),l=s.redMul(a),g=o.redMul(c),b=s.redMul(c),x=a.redMul(o);return this.curve.point(l,g,x,b)};Ur.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,c,l;if(this.curve.twisted){a=this.curve._mulA(r);var g=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(g.redSub(this.curve.two)),s=g.redMul(a.redSub(n)),o=g.redSqr().redSub(g).redSub(g)):(c=this.z.redSqr(),l=g.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(l),s=g.redMul(a.redSub(n)),o=g.redMul(l))}else a=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),l=a.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(a)).redMul(l),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(l);return this.curve.point(i,s,o)};Ur.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Ur.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),c=s.redAdd(i),l=n.redAdd(r),g=o.redMul(a),b=c.redMul(l),x=o.redMul(l),_=a.redMul(c);return this.curve.point(g,b,_,x)};Ur.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),c=n.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),g=r.redMul(a).redMul(l),b,x;return this.curve.twisted?(b=r.redMul(c).redMul(s.redSub(this.curve._mulA(i))),x=a.redMul(c)):(b=r.redMul(c).redMul(s.redSub(i)),x=this.curve._mulC(a).redMul(c)),this.curve.point(g,b,x)};Ur.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Ur.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Ur.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Ur.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Ur.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Ur.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Ur.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Ur.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Ur.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Ur.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Ur.prototype.toP=Ur.prototype.normalize;Ur.prototype.mixedAdd=Ur.prototype.add;(function(t){var e=t;e.base=Fg,e.short=bO,e.mont=yO,e.edwards=xO})(q3);var jg={},Pv,V5;function _O(){return V5||(V5=1,Pv={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),Pv}(function(t){var e=t,r=tc,n=q3,i=_s,s=i.assert;function o(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(l,g){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var b=new o(g);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:b}),b}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=_O()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(jg);var SO=nc,EO=_s,Lm=EO.assert;function ki(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var AO=ki;ki.fromPublic=function(e,r,n){return r instanceof ki?r:new ki(e,{pub:r,pubEnc:n})};ki.fromPrivate=function(e,r,n){return r instanceof ki?r:new ki(e,{priv:r,privEnc:n})};ki.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};ki.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};ki.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};ki.prototype._importPrivate=function(e,r){this.priv=new SO(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};ki.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Lm(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Lm(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};ki.prototype.derive=function(e){return e.validate()||Lm(e.validate(),"public point not validated"),e.mul(this.priv).getX()};ki.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};ki.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};ki.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var B1=nc,j3=_s,IO=j3.assert;function Wg(t,e){if(t instanceof Wg)return t;this._importDER(t,e)||(IO(t.r&&t.s,"Signature without r or s"),this.r=new B1(t.r,16),this.s=new B1(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var MO=Wg;function PO(){this.place=0}function kv(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function G5(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Wg.prototype._importDER=function(e,r){e=j3.toArray(e,r);var n=new PO;if(e[n.place++]!==48)return!1;var i=kv(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=kv(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=kv(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new B1(o),this.s=new B1(c),this.recoveryParam=null,!0};function Rv(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Wg.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=G5(r),n=G5(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];Rv(i,r.length),i=i.concat(r),i.push(2),Rv(i,n.length);var s=i.concat(n),o=[48];return Rv(o,s.length),o=o.concat(s),j3.encode(o,e)};var zf=nc,NS=U3,kO=_s,Cv=jg,RO=Vd,OS=kO.assert,W3=AO,Hg=MO;function Ys(t){if(!(this instanceof Ys))return new Ys(t);typeof t=="string"&&(OS(Object.prototype.hasOwnProperty.call(Cv,t),"Unknown curve "+t),t=Cv[t]),t instanceof Cv.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var CO=Ys;Ys.prototype.keyPair=function(e){return new W3(this,e)};Ys.prototype.keyFromPrivate=function(e,r){return W3.fromPrivate(this,e,r)};Ys.prototype.keyFromPublic=function(e,r){return W3.fromPublic(this,e,r)};Ys.prototype.genKeyPair=function(e){e||(e={});for(var r=new NS({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||RO(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new zf(2));;){var s=new zf(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Ys.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Ys.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new zf(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new NS({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new zf(1)),g=0;;g++){var b=i.k?i.k(g):new zf(c.generate(this.n.byteLength()));if(b=this._truncateToN(b,!0),!(b.cmpn(1)<=0||b.cmp(l)>=0)){var x=this.g.mul(b);if(!x.isInfinity()){var _=x.getX(),E=_.umod(this.n);if(E.cmpn(0)!==0){var M=b.invm(this.n).mul(E.mul(r.getPrivate()).iadd(e));if(M=M.umod(this.n),M.cmpn(0)!==0){var B=(x.getY().isOdd()?1:0)|(_.cmp(E)!==0?2:0);return i.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),B^=1),new Hg({r:E,s:M,recoveryParam:B})}}}}}};Ys.prototype.verify=function(e,r,n,i){e=this._truncateToN(new zf(e,16)),n=this.keyFromPublic(n,i),r=new Hg(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(c,n.getPublic(),l),g.isInfinity()?!1:g.eqXToP(s)):(g=this.g.mulAdd(c,n.getPublic(),l),g.isInfinity()?!1:g.getX().umod(this.n).cmp(s)===0)};Ys.prototype.recoverPubKey=function(t,e,r,n){OS((3&r)===r,"The recovery param is more than two bits"),e=new Hg(e,n);var i=this.n,s=new zf(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var g=e.r.invm(i),b=i.sub(s).mul(g).umod(i),x=a.mul(g).umod(i);return this.g.mulAdd(b,o,x)};Ys.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Hg(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var l0=_s,BS=l0.assert,Y5=l0.parseBytes,Jd=l0.cachedProperty;function Fn(t,e){this.eddsa=t,this._secret=Y5(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=Y5(e.pub)}Fn.fromPublic=function(e,r){return r instanceof Fn?r:new Fn(e,{pub:r})};Fn.fromSecret=function(e,r){return r instanceof Fn?r:new Fn(e,{secret:r})};Fn.prototype.secret=function(){return this._secret};Jd(Fn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});Jd(Fn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});Jd(Fn,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});Jd(Fn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});Jd(Fn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});Jd(Fn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});Fn.prototype.sign=function(e){return BS(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};Fn.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};Fn.prototype.getSecret=function(e){return BS(this._secret,"KeyPair is public only"),l0.encode(this.secret(),e)};Fn.prototype.getPublic=function(e){return l0.encode(this.pubBytes(),e)};var TO=Fn,NO=nc,Vg=_s,J5=Vg.assert,Gg=Vg.cachedProperty,OO=Vg.parseBytes;function uu(t,e){this.eddsa=t,typeof e!="object"&&(e=OO(e)),Array.isArray(e)&&(J5(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),J5(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof NO&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Gg(uu,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Gg(uu,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Gg(uu,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Gg(uu,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});uu.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};uu.prototype.toHex=function(){return Vg.encode(this.toBytes(),"hex").toUpperCase()};var BO=uu,DO=tc,LO=jg,kd=_s,$O=kd.assert,DS=kd.parseBytes,LS=TO,X5=BO;function ss(t){if($O(t==="ed25519","only tested with ed25519 so far"),!(this instanceof ss))return new ss(t);t=LO[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=DO.sha512}var UO=ss;ss.prototype.sign=function(e,r){e=DS(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:o})};ss.prototype.verify=function(e,r,n){if(e=DS(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};ss.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return kd.intFromLE(e.digest()).umod(this.curve.n)};ss.prototype.keyFromPublic=function(e){return LS.fromPublic(this,e)};ss.prototype.keyFromSecret=function(e){return LS.fromSecret(this,e)};ss.prototype.makeSignature=function(e){return e instanceof X5?e:new X5(this,e)};ss.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};ss.prototype.decodePoint=function(e){e=kd.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=kd.intFromLE(n);return this.curve.pointFromY(s,i)};ss.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};ss.prototype.decodeInt=function(e){return kd.intFromLE(e)};ss.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=lO.version,e.utils=_s,e.rand=Vd,e.curve=q3,e.curves=jg,e.ec=CO,e.eddsa=UO})(RS);const Rd=new RS.ec("secp256k1"),bs=globalThis.crypto||globalThis.msCrypto||{},Ec=bs.subtle||bs.webkitSubtle,zO=Buffer.from("fffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141","hex"),FO=Buffer.alloc(32,0);function mn(t,e){if(!t)throw new Error(e||"Assertion failed")}function qO(t){return Buffer.isBuffer(t)&&t.length===32}function Xd(t){return qO(t)?t.compare(FO)>0&&t.compare(zO)<0:!1}function KO(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function hh(t){if(typeof bs.getRandomValues>"u")return Buffer.from(bs.randomBytes(t));const e=new Uint8Array(t);return bs.getRandomValues(e),Buffer.from(e)}async function $S(t){if(!bs.createHash){const n=await Ec.digest("SHA-512",t);return new Uint8Array(n)}const r=bs.createHash("sha512").update(t).digest();return new Uint8Array(r)}function US(t){return async function(e,r,n){if(Ec&&Ec[t]&&Ec.importKey){const i={name:"AES-CBC"},s=await Ec.importKey("raw",r,i,!1,[t]),o={name:"AES-CBC",iv:e},a=await Ec[t](o,s,n);return Buffer.from(new Uint8Array(a))}else if(t==="encrypt"&&bs.createCipheriv){const i=bs.createCipheriv("aes-256-cbc",r,e),s=i.update(n),o=i.final();return Buffer.concat([s,o])}else if(t==="decrypt"&&bs.createDecipheriv){const i=bs.createDecipheriv("aes-256-cbc",r,e),s=i.update(n),o=i.final();return Buffer.concat([s,o])}throw new Error(`Unsupported operation: ${t}`)}}const jO=US("encrypt"),WO=US("decrypt");async function zS(t,e){if(!bs.createHmac){const i={name:"HMAC",hash:{name:"SHA-256"}},s=await Ec.importKey("raw",new Uint8Array(t),i,!1,["sign","verify"]),o=await Ec.sign("HMAC",s,e);return Buffer.from(new Uint8Array(o))}const r=bs.createHmac("sha256",Buffer.from(t));return r.update(e),r.digest()}async function HO(t,e,r){const n=await zS(t,e);return KO(n,r)}const VO=function(){let t=hh(32);for(;!Xd(t);)t=hh(32);return t},Rc=function(t){return mn(t.length===32,"Bad private key"),mn(Xd(t),"Bad private key"),Buffer.from(Rd.keyFromPrivate(t).getPublic("array"))},$p=async function(t,e){return mn(t.length===32,"Bad private key"),mn(Xd(t),"Bad private key"),mn(e.length>0,"Message should not be empty"),mn(e.length<=32,"Message is too long"),Buffer.from(Rd.sign(e,t,{canonical:!0}).toDER())},GO=async function(t,e){mn(Buffer.isBuffer(t),"Bad private key"),mn(Buffer.isBuffer(e),"Bad public key"),mn(t.length===32,"Bad private key"),mn(Xd(t),"Bad private key"),mn(e.length===65||e.length===33,"Bad public key"),e.length===65&&mn(e[0]===4,"Bad public key"),e.length===33&&mn(e[0]===2||e[0]===3,"Bad public key");const r=Rd.keyFromPrivate(t),n=Rd.keyFromPublic(e),i=r.derive(n.getPublic());return Buffer.from(i.toArray())},FS=GO,YO=async function(t,e){mn(Buffer.isBuffer(t),"Bad private key"),mn(Buffer.isBuffer(e),"Bad public key"),mn(t.length===32,"Bad private key"),mn(Xd(t),"Bad private key"),mn(e.length===65||e.length===33,"Bad public key"),e.length===65&&mn(e[0]===4,"Bad public key"),e.length===33&&mn(e[0]===2||e[0]===3,"Bad public key");const r=Rd.keyFromPrivate(t),n=Rd.keyFromPublic(e),i=r.derive(n.getPublic());return Buffer.from(i.toString(16,64),"hex")},JO=async function(t,e,r){r=r||{};let n=r.ephemPrivateKey||hh(32);for(;!Xd(n);)n=r.ephemPrivateKey||hh(32);const i=Rc(n),s=await FS(n,t),o=await $S(s),a=r.iv||hh(16),c=o.slice(0,32),l=o.slice(32),b=await jO(a,Buffer.from(c),e),x=Buffer.concat([a,i,b]),_=await zS(Buffer.from(l),x);return{iv:a,ephemPublicKey:i,ciphertext:b,mac:_}},qS=async function(t,e,r){const n=r??!1,s=await(n?YO:FS)(t,e.ephemPublicKey),o=await $S(s),a=o.slice(0,32),c=o.slice(32),l=Buffer.concat([e.iv,e.ephemPublicKey,e.ciphertext]),g=await HO(Buffer.from(c),l,e.mac);if(!g&&n===!1)return qS(t,e,!0);if(!g&&n===!0)throw new Error("bad MAC after trying padded");const b=await WO(e.iv,Buffer.from(a),e.ciphertext);return Buffer.from(new Uint8Array(b))};var sp={},Tv,Z5;function XO(){if(Z5)return Tv;Z5=1;var t,e,r={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},n;function i(_){throw{name:"SyntaxError",message:_,at:t,text:n}}function s(_){return _&&_!==e&&i("Expected '"+_+"' instead of '"+e+"'"),e=n.charAt(t),t+=1,e}function o(){var _,E="";for(e==="-"&&(E="-",s("-"));e>="0"&&e<="9";)E+=e,s();if(e===".")for(E+=".";s()&&e>="0"&&e<="9";)E+=e;if(e==="e"||e==="E")for(E+=e,s(),(e==="-"||e==="+")&&(E+=e,s());e>="0"&&e<="9";)E+=e,s();return _=Number(E),isFinite(_)||i("Bad number"),_}function a(){var _,E,M="",B;if(e==='"')for(;s();){if(e==='"')return s(),M;if(e==="\\")if(s(),e==="u"){for(B=0,E=0;E<4&&(_=parseInt(s(),16),!!isFinite(_));E+=1)B=B*16+_;M+=String.fromCharCode(B)}else if(typeof r[e]=="string")M+=r[e];else break;else M+=e}i("Bad string")}function c(){for(;e&&e<=" ";)s()}function l(){switch(e){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null;default:i("Unexpected '"+e+"'")}}function g(){var _=[];if(e==="["){if(s("["),c(),e==="]")return s("]"),_;for(;e;){if(_.push(x()),c(),e==="]")return s("]"),_;s(","),c()}}i("Bad array")}function b(){var _,E={};if(e==="{"){if(s("{"),c(),e==="}")return s("}"),E;for(;e;){if(_=a(),c(),s(":"),Object.prototype.hasOwnProperty.call(E,_)&&i('Duplicate key "'+_+'"'),E[_]=x(),c(),e==="}")return s("}"),E;s(","),c()}}i("Bad object")}function x(){switch(c(),e){case"{":return b();case"[":return g();case'"':return a();case"-":return o();default:return e>="0"&&e<="9"?o():l()}}return Tv=function(_,E){var M;return n=_,t=0,e=" ",M=x(),c(),e&&i("Syntax error"),typeof E=="function"?function B(P,R){var D,U,F=P[R];if(F&&typeof F=="object")for(D in x)Object.prototype.hasOwnProperty.call(F,D)&&(U=B(F,D),typeof U>"u"?delete F[D]:F[D]=U);return E.call(P,R,F)}({"":M},""):M},Tv}var Nv,Q5;function ZO(){if(Q5)return Nv;Q5=1;var t=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,e,r,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},i;function s(a){return t.lastIndex=0,t.test(a)?'"'+a.replace(t,function(c){var l=n[c];return typeof l=="string"?l:"\\u"+("0000"+c.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function o(a,c){var l,g,b,x,_=e,E,M=c[a];switch(M&&typeof M=="object"&&typeof M.toJSON=="function"&&(M=M.toJSON(a)),typeof i=="function"&&(M=i.call(c,a,M)),typeof M){case"string":return s(M);case"number":return isFinite(M)?String(M):"null";case"boolean":case"null":return String(M);case"object":if(!M)return"null";if(e+=r,E=[],Object.prototype.toString.apply(M)==="[object Array]"){for(x=M.length,l=0;l<x;l+=1)E[l]=o(l,M)||"null";return b=E.length===0?"[]":e?`[
`+e+E.join(`,
`+e)+`
`+_+"]":"["+E.join(",")+"]",e=_,b}if(i&&typeof i=="object")for(x=i.length,l=0;l<x;l+=1)g=i[l],typeof g=="string"&&(b=o(g,M),b&&E.push(s(g)+(e?": ":":")+b));else for(g in M)Object.prototype.hasOwnProperty.call(M,g)&&(b=o(g,M),b&&E.push(s(g)+(e?": ":":")+b));return b=E.length===0?"{}":e?`{
`+e+E.join(`,
`+e)+`
`+_+"}":"{"+E.join(",")+"}",e=_,b}}return Nv=function(a,c,l){var g;if(e="",r="",typeof l=="number")for(g=0;g<l;g+=1)r+=" ";else typeof l=="string"&&(r=l);if(i=c,c&&typeof c!="function"&&(typeof c!="object"||typeof c.length!="number"))throw new Error("JSON.stringify");return o("",{"":a})},Nv}var e4;function QO(){return e4||(e4=1,sp.parse=XO(),sp.stringify=ZO()),sp}var eB={}.toString,tB=Array.isArray||function(t){return eB.call(t)=="[object Array]"},t4=Object.prototype.toString,KS=function(e){var r=t4.call(e),n=r==="[object Arguments]";return n||(n=r!=="[object Array]"&&e!==null&&typeof e=="object"&&typeof e.length=="number"&&e.length>=0&&t4.call(e.callee)==="[object Function]"),n},Ov,r4;function rB(){if(r4)return Ov;r4=1;var t;if(!Object.keys){var e=Object.prototype.hasOwnProperty,r=Object.prototype.toString,n=KS,i=Object.prototype.propertyIsEnumerable,s=!i.call({toString:null},"toString"),o=i.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=function(x){var _=x.constructor;return _&&_.prototype===x},l={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},g=function(){if(typeof window>"u")return!1;for(var x in window)try{if(!l["$"+x]&&e.call(window,x)&&window[x]!==null&&typeof window[x]=="object")try{c(window[x])}catch{return!0}}catch{return!0}return!1}(),b=function(x){if(typeof window>"u"||!g)return c(x);try{return c(x)}catch{return!1}};t=function(_){var E=_!==null&&typeof _=="object",M=r.call(_)==="[object Function]",B=n(_),P=E&&r.call(_)==="[object String]",R=[];if(!E&&!M&&!B)throw new TypeError("Object.keys called on a non-object");var D=o&&M;if(P&&_.length>0&&!e.call(_,0))for(var U=0;U<_.length;++U)R.push(String(U));if(B&&_.length>0)for(var F=0;F<_.length;++F)R.push(String(F));else for(var W in _)!(D&&W==="prototype")&&e.call(_,W)&&R.push(String(W));if(s)for(var k=b(_),K=0;K<a.length;++K)!(k&&a[K]==="constructor")&&e.call(_,a[K])&&R.push(a[K]);return R}}return Ov=t,Ov}var nB=Array.prototype.slice,iB=KS,n4=Object.keys,Up=n4?function(e){return n4(e)}:rB(),i4=Object.keys;Up.shim=function(){if(Object.keys){var e=function(){var r=Object.keys(arguments);return r&&r.length===arguments.length}(1,2);e||(Object.keys=function(n){return iB(n)?i4(nB.call(n)):i4(n)})}else Object.keys=Up;return Object.keys||Up};var sB=Up,jS={exports:{}},oB="Function.prototype.bind called on incompatible ",aB=Object.prototype.toString,cB=Math.max,fB="[object Function]",s4=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},uB=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},dB=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},lB=function(e){var r=this;if(typeof r!="function"||aB.apply(r)!==fB)throw new TypeError(oB+r);for(var n=uB(arguments,1),i,s=function(){if(this instanceof i){var g=r.apply(this,s4(n,arguments));return Object(g)===g?g:this}return r.apply(e,s4(n,arguments))},o=cB(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+dB(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var l=function(){};l.prototype=r.prototype,i.prototype=new l,l.prototype=null}return i},hB=lB,H3=Function.prototype.bind||hB,pB=Error,gB=EvalError,bB=RangeError,vB=ReferenceError,WS=SyntaxError,Yg=TypeError,yB=URIError,mB=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},o4=typeof Symbol<"u"&&Symbol,wB=mB,xB=function(){return typeof o4!="function"||typeof Symbol!="function"||typeof o4("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:wB()},Bv={__proto__:null,foo:{}},_B=Object,SB=function(){return{__proto__:Bv}.foo===Bv.foo&&!(Bv instanceof _B)},EB=Function.prototype.call,AB=Object.prototype.hasOwnProperty,IB=H3,MB=IB.call(EB,AB),ar,PB=pB,kB=gB,RB=bB,CB=vB,Cd=WS,cd=Yg,TB=yB,HS=Function,Dv=function(t){try{return HS('"use strict"; return ('+t+").constructor;")()}catch{}},Ff=Object.getOwnPropertyDescriptor;if(Ff)try{Ff({},"")}catch{Ff=null}var Lv=function(){throw new cd},NB=Ff?function(){try{return arguments.callee,Lv}catch{try{return Ff(arguments,"callee").get}catch{return Lv}}}():Lv,Iu=xB(),OB=SB(),On=Object.getPrototypeOf||(OB?function(t){return t.__proto__}:null),Nu={},BB=typeof Uint8Array>"u"||!On?ar:On(Uint8Array),qf={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ar:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ar:ArrayBuffer,"%ArrayIteratorPrototype%":Iu&&On?On([][Symbol.iterator]()):ar,"%AsyncFromSyncIteratorPrototype%":ar,"%AsyncFunction%":Nu,"%AsyncGenerator%":Nu,"%AsyncGeneratorFunction%":Nu,"%AsyncIteratorPrototype%":Nu,"%Atomics%":typeof Atomics>"u"?ar:Atomics,"%BigInt%":typeof BigInt>"u"?ar:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ar:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ar:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ar:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":PB,"%eval%":eval,"%EvalError%":kB,"%Float32Array%":typeof Float32Array>"u"?ar:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ar:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ar:FinalizationRegistry,"%Function%":HS,"%GeneratorFunction%":Nu,"%Int8Array%":typeof Int8Array>"u"?ar:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ar:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ar:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Iu&&On?On(On([][Symbol.iterator]())):ar,"%JSON%":typeof JSON=="object"?JSON:ar,"%Map%":typeof Map>"u"?ar:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Iu||!On?ar:On(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ar:Promise,"%Proxy%":typeof Proxy>"u"?ar:Proxy,"%RangeError%":RB,"%ReferenceError%":CB,"%Reflect%":typeof Reflect>"u"?ar:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ar:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Iu||!On?ar:On(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ar:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Iu&&On?On(""[Symbol.iterator]()):ar,"%Symbol%":Iu?Symbol:ar,"%SyntaxError%":Cd,"%ThrowTypeError%":NB,"%TypedArray%":BB,"%TypeError%":cd,"%Uint8Array%":typeof Uint8Array>"u"?ar:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ar:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ar:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ar:Uint32Array,"%URIError%":TB,"%WeakMap%":typeof WeakMap>"u"?ar:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ar:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ar:WeakSet};if(On)try{null.error}catch(t){var DB=On(On(t));qf["%Error.prototype%"]=DB}var LB=function t(e){var r;if(e==="%AsyncFunction%")r=Dv("async function () {}");else if(e==="%GeneratorFunction%")r=Dv("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Dv("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&On&&(r=On(i.prototype))}return qf[e]=r,r},a4={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},h0=H3,D1=MB,$B=h0.call(Function.call,Array.prototype.concat),UB=h0.call(Function.apply,Array.prototype.splice),c4=h0.call(Function.call,String.prototype.replace),L1=h0.call(Function.call,String.prototype.slice),zB=h0.call(Function.call,RegExp.prototype.exec),FB=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,qB=/\\(\\)?/g,KB=function(e){var r=L1(e,0,1),n=L1(e,-1);if(r==="%"&&n!=="%")throw new Cd("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Cd("invalid intrinsic syntax, expected opening `%`");var i=[];return c4(e,FB,function(s,o,a,c){i[i.length]=a?c4(c,qB,"$1"):o||s}),i},jB=function(e,r){var n=e,i;if(D1(a4,n)&&(i=a4[n],n="%"+i[0]+"%"),D1(qf,n)){var s=qf[n];if(s===Nu&&(s=LB(n)),typeof s>"u"&&!r)throw new cd("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Cd("intrinsic "+e+" does not exist!")},p0=function(e,r){if(typeof e!="string"||e.length===0)throw new cd("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new cd('"allowMissing" argument must be a boolean');if(zB(/^%?[^%]*%?$/,e)===null)throw new Cd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=KB(e),i=n.length>0?n[0]:"",s=jB("%"+i+"%",r),o=s.name,a=s.value,c=!1,l=s.alias;l&&(i=l[0],UB(n,$B([0,1],l)));for(var g=1,b=!0;g<n.length;g+=1){var x=n[g],_=L1(x,0,1),E=L1(x,-1);if((_==='"'||_==="'"||_==="`"||E==='"'||E==="'"||E==="`")&&_!==E)throw new Cd("property names with quotes must have matching quotes");if((x==="constructor"||!b)&&(c=!0),i+="."+x,o="%"+i+"%",D1(qf,o))a=qf[o];else if(a!=null){if(!(x in a)){if(!r)throw new cd("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ff&&g+1>=n.length){var M=Ff(a,x);b=!!M,b&&"get"in M&&!("originalValue"in M.get)?a=M.get:a=a[x]}else b=D1(a,x),a=a[x];b&&!c&&(qf[o]=a)}}return a},$v,f4;function V3(){if(f4)return $v;f4=1;var t=p0,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return $v=e,$v}var WB=p0,zp=WB("%Object.getOwnPropertyDescriptor%",!0);if(zp)try{zp([],"length")}catch{zp=null}var VS=zp,u4=V3(),HB=WS,Mu=Yg,d4=VS,VB=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Mu("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Mu("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Mu("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Mu("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Mu("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Mu("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!d4&&d4(e,r);if(u4)u4(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new HB("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},$m=V3(),GS=function(){return!!$m};GS.hasArrayLengthDefineBug=function(){if(!$m)return null;try{return $m([],"length",{value:1}).length!==1}catch{return!0}};var GB=GS,YB=p0,l4=VB,JB=GB(),h4=VS,p4=Yg,XB=YB("%Math.floor%"),ZB=function(e,r){if(typeof e!="function")throw new p4("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||XB(r)!==r)throw new p4("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&h4){var o=h4(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(JB?l4(e,"length",r,!0,!0):l4(e,"length",r)),e};(function(t){var e=H3,r=p0,n=ZB,i=Yg,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=V3(),l=r("%Math.max%");t.exports=function(x){if(typeof x!="function")throw new i("a function is required");var _=a(e,o,arguments);return n(_,1+l(0,x.length-(arguments.length-1)),!0)};var g=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:g}):t.exports.apply=g})(jS);var YS=jS.exports,JS=p0,XS=YS,QB=XS(JS("String.prototype.indexOf")),eD=function(e,r){var n=JS(e,!!r);return typeof n=="function"&&QB(e,".prototype.")>-1?XS(n):n},op=(typeof JSON<"u"?JSON:QO()).stringify,tD=tB,rD=sB,nD=YS,ZS=eD,g4=ZS("Array.prototype.join"),Uv=ZS("Array.prototype.push"),b4=function(e,r){for(var n="",i=0;i<e;i+=1)n+=r;return n},iD=function(t,e,r){return r},sD=function(e){var r=arguments.length>1?arguments[1]:void 0,n=r&&r.space||"";typeof n=="number"&&(n=b4(n," "));var i=!!r&&typeof r.cycles=="boolean"&&r.cycles,s=r&&r.replacer?nD(r.replacer):iD,o=typeof r=="function"?r:r&&r.cmp,a=o&&function(l){var g=o.length>2&&function(x){return l[x]};return function(b,x){return o({key:b,value:l[b]},{key:x,value:l[x]},g?{__proto__:null,get:g}:void 0)}},c=[];return function l(g,b,x,_){var E=n?`
`+b4(_,n):"",M=n?": ":":";if(x&&x.toJSON&&typeof x.toJSON=="function"&&(x=x.toJSON()),x=s(g,b,x),x!==void 0){if(typeof x!="object"||x===null)return op(x);if(tD(x)){for(var D=[],B=0;B<x.length;B++){var P=l(x,B,x[B],_+1)||op(null);Uv(D,E+n+P)}return"["+g4(D,",")+E+"]"}if(c.indexOf(x)!==-1){if(i)return op("__cycle__");throw new TypeError("Converting circular structure to JSON")}else Uv(c,x);for(var R=rD(x).sort(a&&a(x)),D=[],B=0;B<R.length;B++){var b=R[B],U=l(x,b,x[b],_+1);if(U){var F=op(b)+M+U;Uv(D,E+n+F)}}return c.splice(c.indexOf(x),1),"{"+g4(D,",")+E+"}"}}({"":e},"",e,0)};const QS=ci(sD);var eE={};const oD="elliptic",aD="6.5.7",cD="EC cryptography",fD="lib/elliptic.js",uD=["lib"],dD={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},lD={type:"git",url:"git@github.com:indutny/elliptic"},hD=["EC","Elliptic","curve","Cryptography"],pD="Fedor Indutny <fedor@indutny.com>",gD="MIT",bD={url:"https://github.com/indutny/elliptic/issues"},vD="https://github.com/indutny/elliptic",yD={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},mD={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},wD={name:oD,version:aD,description:cD,main:fD,files:uD,scripts:dD,repository:lD,keywords:hD,author:pD,license:gD,bugs:bD,homepage:vD,devDependencies:yD,dependencies:mD};var Ss={},G3={exports:{}};G3.exports;(function(t){(function(e,r){function n(A,f){if(!A)throw new Error(f||"Assertion failed")}function i(A,f){A.super_=f;var h=function(){};h.prototype=f.prototype,A.prototype=new h,A.prototype.constructor=A}function s(A,f,h){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((f==="le"||f==="be")&&(h=f,f=10),this._init(A||0,f||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Og.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,h){return f.cmp(h)>0?f:h},s.min=function(f,h){return f.cmp(h)<0?f:h},s.prototype._init=function(f,h,d){if(typeof f=="number")return this._initNumber(f,h,d);if(typeof f=="object")return this._initArray(f,h,d);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),f=f.toString().replace(/\s+/g,"");var p=0;f[0]==="-"&&(p++,this.negative=1),p<f.length&&(h===16?this._parseHex(f,p,d):(this._parseBase(f,h,p),d==="le"&&this._initArray(this.toArray(),h,d)))},s.prototype._initNumber=function(f,h,d){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),h,d)},s.prototype._initArray=function(f,h,d){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v,w,S=0;if(d==="be")for(p=f.length-1,v=0;p>=0;p-=3)w=f[p]|f[p-1]<<8|f[p-2]<<16,this.words[v]|=w<<S&67108863,this.words[v+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,v++);else if(d==="le")for(p=0,v=0;p<f.length;p+=3)w=f[p]|f[p+1]<<8|f[p+2]<<16,this.words[v]|=w<<S&67108863,this.words[v+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,v++);return this.strip()};function a(A,f){var h=A.charCodeAt(f);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function c(A,f,h){var d=a(A,h);return h-1>=f&&(d|=a(A,h-1)<<4),d}s.prototype._parseHex=function(f,h,d){this.length=Math.ceil((f.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v=0,w=0,S;if(d==="be")for(p=f.length-1;p>=h;p-=2)S=c(f,h,p)<<v,this.words[w]|=S&67108863,v>=18?(v-=18,w+=1,this.words[w]|=S>>>26):v+=8;else{var y=f.length-h;for(p=y%2===0?h+1:h;p<f.length;p+=2)S=c(f,h,p)<<v,this.words[w]|=S&67108863,v>=18?(v-=18,w+=1,this.words[w]|=S>>>26):v+=8}this.strip()};function l(A,f,h,d){for(var p=0,v=Math.min(A.length,h),w=f;w<v;w++){var S=A.charCodeAt(w)-48;p*=d,S>=49?p+=S-49+10:S>=17?p+=S-17+10:p+=S}return p}s.prototype._parseBase=function(f,h,d){this.words=[0],this.length=1;for(var p=0,v=1;v<=67108863;v*=h)p++;p--,v=v/h|0;for(var w=f.length-d,S=w%p,y=Math.min(w,w-S)+d,u=0,m=d;m<y;m+=p)u=l(f,m,m+p,h),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(S!==0){var I=1;for(u=l(f,m,f.length,h),m=0;m<S;m++)I*=h;this.imuln(I),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var h=0;h<this.length;h++)f.words[h]=this.words[h];f.length=this.length,f.negative=this.negative,f.red=this.red},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,h){f=f||10,h=h|0||1;var d;if(f===16||f==="hex"){d="";for(var p=0,v=0,w=0;w<this.length;w++){var S=this.words[w],y=((S<<p|v)&16777215).toString(16);v=S>>>24-p&16777215,v!==0||w!==this.length-1?d=g[6-y.length]+y+d:d=y+d,p+=2,p>=26&&(p-=26,w--)}for(v!==0&&(d=v.toString(16)+d);d.length%h!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(f===(f|0)&&f>=2&&f<=36){var u=b[f],m=x[f];d="";var I=this.clone();for(I.negative=0;!I.isZero();){var $=I.modn(m).toString(f);I=I.idivn(m),I.isZero()?d=$+d:d=g[u-$.length]+$+d}for(this.isZero()&&(d="0"+d);d.length%h!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(f,h){return n(typeof o<"u"),this.toArrayLike(o,f,h)},s.prototype.toArray=function(f,h){return this.toArrayLike(Array,f,h)},s.prototype.toArrayLike=function(f,h,d){var p=this.byteLength(),v=d||Math.max(1,p);n(p<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var w=h==="le",S=new f(v),y,u,m=this.clone();if(w){for(u=0;!m.isZero();u++)y=m.andln(255),m.iushrn(8),S[u]=y;for(;u<v;u++)S[u]=0}else{for(u=0;u<v-p;u++)S[u]=0;for(u=0;!m.isZero();u++)y=m.andln(255),m.iushrn(8),S[v-u-1]=y}return S},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var h=f,d=0;return h>=4096&&(d+=13,h>>>=13),h>=64&&(d+=7,h>>>=7),h>=8&&(d+=4,h>>>=4),h>=2&&(d+=2,h>>>=2),d+h},s.prototype._zeroBits=function(f){if(f===0)return 26;var h=f,d=0;return h&8191||(d+=13,h>>>=13),h&127||(d+=7,h>>>=7),h&15||(d+=4,h>>>=4),h&3||(d+=2,h>>>=2),h&1||d++,d},s.prototype.bitLength=function(){var f=this.words[this.length-1],h=this._countBits(f);return(this.length-1)*26+h};function _(A){for(var f=new Array(A.bitLength()),h=0;h<f.length;h++){var d=h/26|0,p=h%26;f[h]=(A.words[d]&1<<p)>>>p}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,h=0;h<this.length;h++){var d=this._zeroBits(this.words[h]);if(f+=d,d!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]|f.words[h];return this.strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var h;this.length>f.length?h=f:h=this;for(var d=0;d<h.length;d++)this.words[d]=this.words[d]&f.words[d];return this.length=h.length,this.strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var h,d;this.length>f.length?(h=this,d=f):(h=f,d=this);for(var p=0;p<d.length;p++)this.words[p]=h.words[p]^d.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var h=Math.ceil(f/26)|0,d=f%26;this._expand(h),d>0&&h--;for(var p=0;p<h;p++)this.words[p]=~this.words[p]&67108863;return d>0&&(this.words[p]=~this.words[p]&67108863>>26-d),this.strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,h){n(typeof f=="number"&&f>=0);var d=f/26|0,p=f%26;return this._expand(d+1),h?this.words[d]=this.words[d]|1<<p:this.words[d]=this.words[d]&~(1<<p),this.strip()},s.prototype.iadd=function(f){var h;if(this.negative!==0&&f.negative===0)return this.negative=0,h=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,h=this.isub(f),f.negative=1,h._normSign();var d,p;this.length>f.length?(d=this,p=f):(d=f,p=this);for(var v=0,w=0;w<p.length;w++)h=(d.words[w]|0)+(p.words[w]|0)+v,this.words[w]=h&67108863,v=h>>>26;for(;v!==0&&w<d.length;w++)h=(d.words[w]|0)+v,this.words[w]=h&67108863,v=h>>>26;if(this.length=d.length,v!==0)this.words[this.length]=v,this.length++;else if(d!==this)for(;w<d.length;w++)this.words[w]=d.words[w];return this},s.prototype.add=function(f){var h;return f.negative!==0&&this.negative===0?(f.negative=0,h=this.sub(f),f.negative^=1,h):f.negative===0&&this.negative!==0?(this.negative=0,h=f.sub(this),this.negative=1,h):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var h=this.iadd(f);return f.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var d=this.cmp(f);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,v;d>0?(p=this,v=f):(p=f,v=this);for(var w=0,S=0;S<v.length;S++)h=(p.words[S]|0)-(v.words[S]|0)+w,w=h>>26,this.words[S]=h&67108863;for(;w!==0&&S<p.length;S++)h=(p.words[S]|0)+w,w=h>>26,this.words[S]=h&67108863;if(w===0&&S<p.length&&p!==this)for(;S<p.length;S++)this.words[S]=p.words[S];return this.length=Math.max(this.length,S),p!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function E(A,f,h){h.negative=f.negative^A.negative;var d=A.length+f.length|0;h.length=d,d=d-1|0;var p=A.words[0]|0,v=f.words[0]|0,w=p*v,S=w&67108863,y=w/67108864|0;h.words[0]=S;for(var u=1;u<d;u++){for(var m=y>>>26,I=y&67108863,$=Math.min(u,f.length-1),Z=Math.max(0,u-A.length+1);Z<=$;Z++){var O=u-Z|0;p=A.words[O]|0,v=f.words[Z]|0,w=p*v+I,m+=w/67108864|0,I=w&67108863}h.words[u]=I|0,y=m|0}return y!==0?h.words[u]=y|0:h.length--,h.strip()}var M=function(f,h,d){var p=f.words,v=h.words,w=d.words,S=0,y,u,m,I=p[0]|0,$=I&8191,Z=I>>>13,O=p[1]|0,Q=O&8191,Y=O>>>13,X=p[2]|0,J=X&8191,N=X>>>13,ee=p[3]|0,se=ee&8191,le=ee>>>13,Ee=p[4]|0,ye=Ee&8191,Be=Ee>>>13,bt=p[5]|0,ke=bt&8191,Ke=bt>>>13,dt=p[6]|0,_e=dt&8191,Ae=dt>>>13,ot=p[7]|0,xe=ot&8191,Ie=ot>>>13,it=p[8]|0,q=it&8191,T=it>>>13,L=p[9]|0,G=L&8191,re=L>>>13,fe=v[0]|0,oe=fe&8191,we=fe>>>13,Ge=v[1]|0,Se=Ge&8191,Le=Ge>>>13,gt=v[2]|0,Ue=gt&8191,ct=gt>>>13,Ht=v[3]|0,Ye=Ht&8191,Je=Ht>>>13,St=v[4]|0,Re=St&8191,Ve=St>>>13,Ot=v[5]|0,Ce=Ot&8191,Ze=Ot>>>13,Dt=v[6]|0,Me=Dt&8191,Qe=Dt>>>13,z=v[7]|0,j=z&8191,H=z>>>13,C=v[8]|0,V=C&8191,ie=C>>>13,de=v[9]|0,ue=de&8191,pe=de>>>13;d.negative=f.negative^h.negative,d.length=19,y=Math.imul($,oe),u=Math.imul($,we),u=u+Math.imul(Z,oe)|0,m=Math.imul(Z,we);var $e=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+($e>>>26)|0,$e&=67108863,y=Math.imul(Q,oe),u=Math.imul(Q,we),u=u+Math.imul(Y,oe)|0,m=Math.imul(Y,we),y=y+Math.imul($,Se)|0,u=u+Math.imul($,Le)|0,u=u+Math.imul(Z,Se)|0,m=m+Math.imul(Z,Le)|0;var De=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(De>>>26)|0,De&=67108863,y=Math.imul(J,oe),u=Math.imul(J,we),u=u+Math.imul(N,oe)|0,m=Math.imul(N,we),y=y+Math.imul(Q,Se)|0,u=u+Math.imul(Q,Le)|0,u=u+Math.imul(Y,Se)|0,m=m+Math.imul(Y,Le)|0,y=y+Math.imul($,Ue)|0,u=u+Math.imul($,ct)|0,u=u+Math.imul(Z,Ue)|0,m=m+Math.imul(Z,ct)|0;var Bt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,y=Math.imul(se,oe),u=Math.imul(se,we),u=u+Math.imul(le,oe)|0,m=Math.imul(le,we),y=y+Math.imul(J,Se)|0,u=u+Math.imul(J,Le)|0,u=u+Math.imul(N,Se)|0,m=m+Math.imul(N,Le)|0,y=y+Math.imul(Q,Ue)|0,u=u+Math.imul(Q,ct)|0,u=u+Math.imul(Y,Ue)|0,m=m+Math.imul(Y,ct)|0,y=y+Math.imul($,Ye)|0,u=u+Math.imul($,Je)|0,u=u+Math.imul(Z,Ye)|0,m=m+Math.imul(Z,Je)|0;var tt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,y=Math.imul(ye,oe),u=Math.imul(ye,we),u=u+Math.imul(Be,oe)|0,m=Math.imul(Be,we),y=y+Math.imul(se,Se)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Se)|0,m=m+Math.imul(le,Le)|0,y=y+Math.imul(J,Ue)|0,u=u+Math.imul(J,ct)|0,u=u+Math.imul(N,Ue)|0,m=m+Math.imul(N,ct)|0,y=y+Math.imul(Q,Ye)|0,u=u+Math.imul(Q,Je)|0,u=u+Math.imul(Y,Ye)|0,m=m+Math.imul(Y,Je)|0,y=y+Math.imul($,Re)|0,u=u+Math.imul($,Ve)|0,u=u+Math.imul(Z,Re)|0,m=m+Math.imul(Z,Ve)|0;var xt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,y=Math.imul(ke,oe),u=Math.imul(ke,we),u=u+Math.imul(Ke,oe)|0,m=Math.imul(Ke,we),y=y+Math.imul(ye,Se)|0,u=u+Math.imul(ye,Le)|0,u=u+Math.imul(Be,Se)|0,m=m+Math.imul(Be,Le)|0,y=y+Math.imul(se,Ue)|0,u=u+Math.imul(se,ct)|0,u=u+Math.imul(le,Ue)|0,m=m+Math.imul(le,ct)|0,y=y+Math.imul(J,Ye)|0,u=u+Math.imul(J,Je)|0,u=u+Math.imul(N,Ye)|0,m=m+Math.imul(N,Je)|0,y=y+Math.imul(Q,Re)|0,u=u+Math.imul(Q,Ve)|0,u=u+Math.imul(Y,Re)|0,m=m+Math.imul(Y,Ve)|0,y=y+Math.imul($,Ce)|0,u=u+Math.imul($,Ze)|0,u=u+Math.imul(Z,Ce)|0,m=m+Math.imul(Z,Ze)|0;var _t=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,y=Math.imul(_e,oe),u=Math.imul(_e,we),u=u+Math.imul(Ae,oe)|0,m=Math.imul(Ae,we),y=y+Math.imul(ke,Se)|0,u=u+Math.imul(ke,Le)|0,u=u+Math.imul(Ke,Se)|0,m=m+Math.imul(Ke,Le)|0,y=y+Math.imul(ye,Ue)|0,u=u+Math.imul(ye,ct)|0,u=u+Math.imul(Be,Ue)|0,m=m+Math.imul(Be,ct)|0,y=y+Math.imul(se,Ye)|0,u=u+Math.imul(se,Je)|0,u=u+Math.imul(le,Ye)|0,m=m+Math.imul(le,Je)|0,y=y+Math.imul(J,Re)|0,u=u+Math.imul(J,Ve)|0,u=u+Math.imul(N,Re)|0,m=m+Math.imul(N,Ve)|0,y=y+Math.imul(Q,Ce)|0,u=u+Math.imul(Q,Ze)|0,u=u+Math.imul(Y,Ce)|0,m=m+Math.imul(Y,Ze)|0,y=y+Math.imul($,Me)|0,u=u+Math.imul($,Qe)|0,u=u+Math.imul(Z,Me)|0,m=m+Math.imul(Z,Qe)|0;var mt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,y=Math.imul(xe,oe),u=Math.imul(xe,we),u=u+Math.imul(Ie,oe)|0,m=Math.imul(Ie,we),y=y+Math.imul(_e,Se)|0,u=u+Math.imul(_e,Le)|0,u=u+Math.imul(Ae,Se)|0,m=m+Math.imul(Ae,Le)|0,y=y+Math.imul(ke,Ue)|0,u=u+Math.imul(ke,ct)|0,u=u+Math.imul(Ke,Ue)|0,m=m+Math.imul(Ke,ct)|0,y=y+Math.imul(ye,Ye)|0,u=u+Math.imul(ye,Je)|0,u=u+Math.imul(Be,Ye)|0,m=m+Math.imul(Be,Je)|0,y=y+Math.imul(se,Re)|0,u=u+Math.imul(se,Ve)|0,u=u+Math.imul(le,Re)|0,m=m+Math.imul(le,Ve)|0,y=y+Math.imul(J,Ce)|0,u=u+Math.imul(J,Ze)|0,u=u+Math.imul(N,Ce)|0,m=m+Math.imul(N,Ze)|0,y=y+Math.imul(Q,Me)|0,u=u+Math.imul(Q,Qe)|0,u=u+Math.imul(Y,Me)|0,m=m+Math.imul(Y,Qe)|0,y=y+Math.imul($,j)|0,u=u+Math.imul($,H)|0,u=u+Math.imul(Z,j)|0,m=m+Math.imul(Z,H)|0;var Tt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,y=Math.imul(q,oe),u=Math.imul(q,we),u=u+Math.imul(T,oe)|0,m=Math.imul(T,we),y=y+Math.imul(xe,Se)|0,u=u+Math.imul(xe,Le)|0,u=u+Math.imul(Ie,Se)|0,m=m+Math.imul(Ie,Le)|0,y=y+Math.imul(_e,Ue)|0,u=u+Math.imul(_e,ct)|0,u=u+Math.imul(Ae,Ue)|0,m=m+Math.imul(Ae,ct)|0,y=y+Math.imul(ke,Ye)|0,u=u+Math.imul(ke,Je)|0,u=u+Math.imul(Ke,Ye)|0,m=m+Math.imul(Ke,Je)|0,y=y+Math.imul(ye,Re)|0,u=u+Math.imul(ye,Ve)|0,u=u+Math.imul(Be,Re)|0,m=m+Math.imul(Be,Ve)|0,y=y+Math.imul(se,Ce)|0,u=u+Math.imul(se,Ze)|0,u=u+Math.imul(le,Ce)|0,m=m+Math.imul(le,Ze)|0,y=y+Math.imul(J,Me)|0,u=u+Math.imul(J,Qe)|0,u=u+Math.imul(N,Me)|0,m=m+Math.imul(N,Qe)|0,y=y+Math.imul(Q,j)|0,u=u+Math.imul(Q,H)|0,u=u+Math.imul(Y,j)|0,m=m+Math.imul(Y,H)|0,y=y+Math.imul($,V)|0,u=u+Math.imul($,ie)|0,u=u+Math.imul(Z,V)|0,m=m+Math.imul(Z,ie)|0;var Mt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,y=Math.imul(G,oe),u=Math.imul(G,we),u=u+Math.imul(re,oe)|0,m=Math.imul(re,we),y=y+Math.imul(q,Se)|0,u=u+Math.imul(q,Le)|0,u=u+Math.imul(T,Se)|0,m=m+Math.imul(T,Le)|0,y=y+Math.imul(xe,Ue)|0,u=u+Math.imul(xe,ct)|0,u=u+Math.imul(Ie,Ue)|0,m=m+Math.imul(Ie,ct)|0,y=y+Math.imul(_e,Ye)|0,u=u+Math.imul(_e,Je)|0,u=u+Math.imul(Ae,Ye)|0,m=m+Math.imul(Ae,Je)|0,y=y+Math.imul(ke,Re)|0,u=u+Math.imul(ke,Ve)|0,u=u+Math.imul(Ke,Re)|0,m=m+Math.imul(Ke,Ve)|0,y=y+Math.imul(ye,Ce)|0,u=u+Math.imul(ye,Ze)|0,u=u+Math.imul(Be,Ce)|0,m=m+Math.imul(Be,Ze)|0,y=y+Math.imul(se,Me)|0,u=u+Math.imul(se,Qe)|0,u=u+Math.imul(le,Me)|0,m=m+Math.imul(le,Qe)|0,y=y+Math.imul(J,j)|0,u=u+Math.imul(J,H)|0,u=u+Math.imul(N,j)|0,m=m+Math.imul(N,H)|0,y=y+Math.imul(Q,V)|0,u=u+Math.imul(Q,ie)|0,u=u+Math.imul(Y,V)|0,m=m+Math.imul(Y,ie)|0,y=y+Math.imul($,ue)|0,u=u+Math.imul($,pe)|0,u=u+Math.imul(Z,ue)|0,m=m+Math.imul(Z,pe)|0;var kt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(kt>>>26)|0,kt&=67108863,y=Math.imul(G,Se),u=Math.imul(G,Le),u=u+Math.imul(re,Se)|0,m=Math.imul(re,Le),y=y+Math.imul(q,Ue)|0,u=u+Math.imul(q,ct)|0,u=u+Math.imul(T,Ue)|0,m=m+Math.imul(T,ct)|0,y=y+Math.imul(xe,Ye)|0,u=u+Math.imul(xe,Je)|0,u=u+Math.imul(Ie,Ye)|0,m=m+Math.imul(Ie,Je)|0,y=y+Math.imul(_e,Re)|0,u=u+Math.imul(_e,Ve)|0,u=u+Math.imul(Ae,Re)|0,m=m+Math.imul(Ae,Ve)|0,y=y+Math.imul(ke,Ce)|0,u=u+Math.imul(ke,Ze)|0,u=u+Math.imul(Ke,Ce)|0,m=m+Math.imul(Ke,Ze)|0,y=y+Math.imul(ye,Me)|0,u=u+Math.imul(ye,Qe)|0,u=u+Math.imul(Be,Me)|0,m=m+Math.imul(Be,Qe)|0,y=y+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,m=m+Math.imul(le,H)|0,y=y+Math.imul(J,V)|0,u=u+Math.imul(J,ie)|0,u=u+Math.imul(N,V)|0,m=m+Math.imul(N,ie)|0,y=y+Math.imul(Q,ue)|0,u=u+Math.imul(Q,pe)|0,u=u+Math.imul(Y,ue)|0,m=m+Math.imul(Y,pe)|0;var Pt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(G,Ue),u=Math.imul(G,ct),u=u+Math.imul(re,Ue)|0,m=Math.imul(re,ct),y=y+Math.imul(q,Ye)|0,u=u+Math.imul(q,Je)|0,u=u+Math.imul(T,Ye)|0,m=m+Math.imul(T,Je)|0,y=y+Math.imul(xe,Re)|0,u=u+Math.imul(xe,Ve)|0,u=u+Math.imul(Ie,Re)|0,m=m+Math.imul(Ie,Ve)|0,y=y+Math.imul(_e,Ce)|0,u=u+Math.imul(_e,Ze)|0,u=u+Math.imul(Ae,Ce)|0,m=m+Math.imul(Ae,Ze)|0,y=y+Math.imul(ke,Me)|0,u=u+Math.imul(ke,Qe)|0,u=u+Math.imul(Ke,Me)|0,m=m+Math.imul(Ke,Qe)|0,y=y+Math.imul(ye,j)|0,u=u+Math.imul(ye,H)|0,u=u+Math.imul(Be,j)|0,m=m+Math.imul(Be,H)|0,y=y+Math.imul(se,V)|0,u=u+Math.imul(se,ie)|0,u=u+Math.imul(le,V)|0,m=m+Math.imul(le,ie)|0,y=y+Math.imul(J,ue)|0,u=u+Math.imul(J,pe)|0,u=u+Math.imul(N,ue)|0,m=m+Math.imul(N,pe)|0;var at=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(at>>>26)|0,at&=67108863,y=Math.imul(G,Ye),u=Math.imul(G,Je),u=u+Math.imul(re,Ye)|0,m=Math.imul(re,Je),y=y+Math.imul(q,Re)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(T,Re)|0,m=m+Math.imul(T,Ve)|0,y=y+Math.imul(xe,Ce)|0,u=u+Math.imul(xe,Ze)|0,u=u+Math.imul(Ie,Ce)|0,m=m+Math.imul(Ie,Ze)|0,y=y+Math.imul(_e,Me)|0,u=u+Math.imul(_e,Qe)|0,u=u+Math.imul(Ae,Me)|0,m=m+Math.imul(Ae,Qe)|0,y=y+Math.imul(ke,j)|0,u=u+Math.imul(ke,H)|0,u=u+Math.imul(Ke,j)|0,m=m+Math.imul(Ke,H)|0,y=y+Math.imul(ye,V)|0,u=u+Math.imul(ye,ie)|0,u=u+Math.imul(Be,V)|0,m=m+Math.imul(Be,ie)|0,y=y+Math.imul(se,ue)|0,u=u+Math.imul(se,pe)|0,u=u+Math.imul(le,ue)|0,m=m+Math.imul(le,pe)|0;var pt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,y=Math.imul(G,Re),u=Math.imul(G,Ve),u=u+Math.imul(re,Re)|0,m=Math.imul(re,Ve),y=y+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ze)|0,u=u+Math.imul(T,Ce)|0,m=m+Math.imul(T,Ze)|0,y=y+Math.imul(xe,Me)|0,u=u+Math.imul(xe,Qe)|0,u=u+Math.imul(Ie,Me)|0,m=m+Math.imul(Ie,Qe)|0,y=y+Math.imul(_e,j)|0,u=u+Math.imul(_e,H)|0,u=u+Math.imul(Ae,j)|0,m=m+Math.imul(Ae,H)|0,y=y+Math.imul(ke,V)|0,u=u+Math.imul(ke,ie)|0,u=u+Math.imul(Ke,V)|0,m=m+Math.imul(Ke,ie)|0,y=y+Math.imul(ye,ue)|0,u=u+Math.imul(ye,pe)|0,u=u+Math.imul(Be,ue)|0,m=m+Math.imul(Be,pe)|0;var rt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,y=Math.imul(G,Ce),u=Math.imul(G,Ze),u=u+Math.imul(re,Ce)|0,m=Math.imul(re,Ze),y=y+Math.imul(q,Me)|0,u=u+Math.imul(q,Qe)|0,u=u+Math.imul(T,Me)|0,m=m+Math.imul(T,Qe)|0,y=y+Math.imul(xe,j)|0,u=u+Math.imul(xe,H)|0,u=u+Math.imul(Ie,j)|0,m=m+Math.imul(Ie,H)|0,y=y+Math.imul(_e,V)|0,u=u+Math.imul(_e,ie)|0,u=u+Math.imul(Ae,V)|0,m=m+Math.imul(Ae,ie)|0,y=y+Math.imul(ke,ue)|0,u=u+Math.imul(ke,pe)|0,u=u+Math.imul(Ke,ue)|0,m=m+Math.imul(Ke,pe)|0;var ft=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,y=Math.imul(G,Me),u=Math.imul(G,Qe),u=u+Math.imul(re,Me)|0,m=Math.imul(re,Qe),y=y+Math.imul(q,j)|0,u=u+Math.imul(q,H)|0,u=u+Math.imul(T,j)|0,m=m+Math.imul(T,H)|0,y=y+Math.imul(xe,V)|0,u=u+Math.imul(xe,ie)|0,u=u+Math.imul(Ie,V)|0,m=m+Math.imul(Ie,ie)|0,y=y+Math.imul(_e,ue)|0,u=u+Math.imul(_e,pe)|0,u=u+Math.imul(Ae,ue)|0,m=m+Math.imul(Ae,pe)|0;var nt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,y=Math.imul(G,j),u=Math.imul(G,H),u=u+Math.imul(re,j)|0,m=Math.imul(re,H),y=y+Math.imul(q,V)|0,u=u+Math.imul(q,ie)|0,u=u+Math.imul(T,V)|0,m=m+Math.imul(T,ie)|0,y=y+Math.imul(xe,ue)|0,u=u+Math.imul(xe,pe)|0,u=u+Math.imul(Ie,ue)|0,m=m+Math.imul(Ie,pe)|0;var et=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(et>>>26)|0,et&=67108863,y=Math.imul(G,V),u=Math.imul(G,ie),u=u+Math.imul(re,V)|0,m=Math.imul(re,ie),y=y+Math.imul(q,ue)|0,u=u+Math.imul(q,pe)|0,u=u+Math.imul(T,ue)|0,m=m+Math.imul(T,pe)|0;var be=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(be>>>26)|0,be&=67108863,y=Math.imul(G,ue),u=Math.imul(G,pe),u=u+Math.imul(re,ue)|0,m=Math.imul(re,pe);var ve=(S+y|0)+((u&8191)<<13)|0;return S=(m+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,w[0]=$e,w[1]=De,w[2]=Bt,w[3]=tt,w[4]=xt,w[5]=_t,w[6]=mt,w[7]=Tt,w[8]=Mt,w[9]=kt,w[10]=Pt,w[11]=at,w[12]=pt,w[13]=rt,w[14]=ft,w[15]=nt,w[16]=et,w[17]=be,w[18]=ve,S!==0&&(w[19]=S,d.length++),d};Math.imul||(M=E);function B(A,f,h){h.negative=f.negative^A.negative,h.length=A.length+f.length;for(var d=0,p=0,v=0;v<h.length-1;v++){var w=p;p=0;for(var S=d&67108863,y=Math.min(v,f.length-1),u=Math.max(0,v-A.length+1);u<=y;u++){var m=v-u,I=A.words[m]|0,$=f.words[u]|0,Z=I*$,O=Z&67108863;w=w+(Z/67108864|0)|0,O=O+S|0,S=O&67108863,w=w+(O>>>26)|0,p+=w>>>26,w&=67108863}h.words[v]=S,d=w,w=p}return d!==0?h.words[v]=d:h.length--,h.strip()}function P(A,f,h){var d=new R;return d.mulp(A,f,h)}s.prototype.mulTo=function(f,h){var d,p=this.length+f.length;return this.length===10&&f.length===10?d=M(this,f,h):p<63?d=E(this,f,h):p<1024?d=B(this,f,h):d=P(this,f,h),d};function R(A,f){this.x=A,this.y=f}R.prototype.makeRBT=function(f){for(var h=new Array(f),d=s.prototype._countBits(f)-1,p=0;p<f;p++)h[p]=this.revBin(p,d,f);return h},R.prototype.revBin=function(f,h,d){if(f===0||f===d-1)return f;for(var p=0,v=0;v<h;v++)p|=(f&1)<<h-v-1,f>>=1;return p},R.prototype.permute=function(f,h,d,p,v,w){for(var S=0;S<w;S++)p[S]=h[f[S]],v[S]=d[f[S]]},R.prototype.transform=function(f,h,d,p,v,w){this.permute(w,f,h,d,p,v);for(var S=1;S<v;S<<=1)for(var y=S<<1,u=Math.cos(2*Math.PI/y),m=Math.sin(2*Math.PI/y),I=0;I<v;I+=y)for(var $=u,Z=m,O=0;O<S;O++){var Q=d[I+O],Y=p[I+O],X=d[I+O+S],J=p[I+O+S],N=$*X-Z*J;J=$*J+Z*X,X=N,d[I+O]=Q+X,p[I+O]=Y+J,d[I+O+S]=Q-X,p[I+O+S]=Y-J,O!==y&&(N=u*$-m*Z,Z=u*Z+m*$,$=N)}},R.prototype.guessLen13b=function(f,h){var d=Math.max(h,f)|1,p=d&1,v=0;for(d=d/2|0;d;d=d>>>1)v++;return 1<<v+1+p},R.prototype.conjugate=function(f,h,d){if(!(d<=1))for(var p=0;p<d/2;p++){var v=f[p];f[p]=f[d-p-1],f[d-p-1]=v,v=h[p],h[p]=-h[d-p-1],h[d-p-1]=-v}},R.prototype.normalize13b=function(f,h){for(var d=0,p=0;p<h/2;p++){var v=Math.round(f[2*p+1]/h)*8192+Math.round(f[2*p]/h)+d;f[p]=v&67108863,v<67108864?d=0:d=v/67108864|0}return f},R.prototype.convert13b=function(f,h,d,p){for(var v=0,w=0;w<h;w++)v=v+(f[w]|0),d[2*w]=v&8191,v=v>>>13,d[2*w+1]=v&8191,v=v>>>13;for(w=2*h;w<p;++w)d[w]=0;n(v===0),n((v&-8192)===0)},R.prototype.stub=function(f){for(var h=new Array(f),d=0;d<f;d++)h[d]=0;return h},R.prototype.mulp=function(f,h,d){var p=2*this.guessLen13b(f.length,h.length),v=this.makeRBT(p),w=this.stub(p),S=new Array(p),y=new Array(p),u=new Array(p),m=new Array(p),I=new Array(p),$=new Array(p),Z=d.words;Z.length=p,this.convert13b(f.words,f.length,S,p),this.convert13b(h.words,h.length,m,p),this.transform(S,w,y,u,p,v),this.transform(m,w,I,$,p,v);for(var O=0;O<p;O++){var Q=y[O]*I[O]-u[O]*$[O];u[O]=y[O]*$[O]+u[O]*I[O],y[O]=Q}return this.conjugate(y,u,p),this.transform(y,u,Z,w,p,v),this.conjugate(Z,w,p),this.normalize13b(Z,p),d.negative=f.negative^h.negative,d.length=f.length+h.length,d.strip()},s.prototype.mul=function(f){var h=new s(null);return h.words=new Array(this.length+f.length),this.mulTo(f,h)},s.prototype.mulf=function(f){var h=new s(null);return h.words=new Array(this.length+f.length),P(this,f,h)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){n(typeof f=="number"),n(f<67108864);for(var h=0,d=0;d<this.length;d++){var p=(this.words[d]|0)*f,v=(p&67108863)+(h&67108863);h>>=26,h+=p/67108864|0,h+=v>>>26,this.words[d]=v&67108863}return h!==0&&(this.words[d]=h,this.length++),this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var h=_(f);if(h.length===0)return new s(1);for(var d=this,p=0;p<h.length&&h[p]===0;p++,d=d.sqr());if(++p<h.length)for(var v=d.sqr();p<h.length;p++,v=v.sqr())h[p]!==0&&(d=d.mul(v));return d},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var h=f%26,d=(f-h)/26,p=67108863>>>26-h<<26-h,v;if(h!==0){var w=0;for(v=0;v<this.length;v++){var S=this.words[v]&p,y=(this.words[v]|0)-S<<h;this.words[v]=y|w,w=S>>>26-h}w&&(this.words[v]=w,this.length++)}if(d!==0){for(v=this.length-1;v>=0;v--)this.words[v+d]=this.words[v];for(v=0;v<d;v++)this.words[v]=0;this.length+=d}return this.strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,h,d){n(typeof f=="number"&&f>=0);var p;h?p=(h-h%26)/26:p=0;var v=f%26,w=Math.min((f-v)/26,this.length),S=67108863^67108863>>>v<<v,y=d;if(p-=w,p=Math.max(0,p),y){for(var u=0;u<w;u++)y.words[u]=this.words[u];y.length=w}if(w!==0)if(this.length>w)for(this.length-=w,u=0;u<this.length;u++)this.words[u]=this.words[u+w];else this.words[0]=0,this.length=1;var m=0;for(u=this.length-1;u>=0&&(m!==0||u>=p);u--){var I=this.words[u]|0;this.words[u]=m<<26-v|I>>>v,m=I&S}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(f,h,d){return n(this.negative===0),this.iushrn(f,h,d)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,d=(f-h)/26,p=1<<h;if(this.length<=d)return!1;var v=this.words[d];return!!(v&p)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,d=(f-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(h!==0&&d++,this.length=Math.min(d,this.length),h!==0){var p=67108863^67108863>>>h<<h;this.words[this.length-1]&=p}return this.strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,h,d){var p=f.length+d,v;this._expand(p);var w,S=0;for(v=0;v<f.length;v++){w=(this.words[v+d]|0)+S;var y=(f.words[v]|0)*h;w-=y&67108863,S=(w>>26)-(y/67108864|0),this.words[v+d]=w&67108863}for(;v<this.length-d;v++)w=(this.words[v+d]|0)+S,S=w>>26,this.words[v+d]=w&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+S,S=w>>26,this.words[v]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(f,h){var d=this.length-f.length,p=this.clone(),v=f,w=v.words[v.length-1]|0,S=this._countBits(w);d=26-S,d!==0&&(v=v.ushln(d),p.iushln(d),w=v.words[v.length-1]|0);var y=p.length-v.length,u;if(h!=="mod"){u=new s(null),u.length=y+1,u.words=new Array(u.length);for(var m=0;m<u.length;m++)u.words[m]=0}var I=p.clone()._ishlnsubmul(v,1,y);I.negative===0&&(p=I,u&&(u.words[y]=1));for(var $=y-1;$>=0;$--){var Z=(p.words[v.length+$]|0)*67108864+(p.words[v.length+$-1]|0);for(Z=Math.min(Z/w|0,67108863),p._ishlnsubmul(v,Z,$);p.negative!==0;)Z--,p.negative=0,p._ishlnsubmul(v,1,$),p.isZero()||(p.negative^=1);u&&(u.words[$]=Z)}return u&&u.strip(),p.strip(),h!=="div"&&d!==0&&p.iushrn(d),{div:u||null,mod:p}},s.prototype.divmod=function(f,h,d){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var p,v,w;return this.negative!==0&&f.negative===0?(w=this.neg().divmod(f,h),h!=="mod"&&(p=w.div.neg()),h!=="div"&&(v=w.mod.neg(),d&&v.negative!==0&&v.iadd(f)),{div:p,mod:v}):this.negative===0&&f.negative!==0?(w=this.divmod(f.neg(),h),h!=="mod"&&(p=w.div.neg()),{div:p,mod:w.mod}):this.negative&f.negative?(w=this.neg().divmod(f.neg(),h),h!=="div"&&(v=w.mod.neg(),d&&v.negative!==0&&v.isub(f)),{div:w.div,mod:v}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?h==="div"?{div:this.divn(f.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modn(f.words[0]))}:this._wordDiv(f,h)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var h=this.divmod(f);if(h.mod.isZero())return h.div;var d=h.div.negative!==0?h.mod.isub(f):h.mod,p=f.ushrn(1),v=f.andln(1),w=d.cmp(p);return w<0||v===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(f){n(f<=67108863);for(var h=(1<<26)%f,d=0,p=this.length-1;p>=0;p--)d=(h*d+(this.words[p]|0))%f;return d},s.prototype.idivn=function(f){n(f<=67108863);for(var h=0,d=this.length-1;d>=0;d--){var p=(this.words[d]|0)+h*67108864;this.words[d]=p/f|0,h=p%f}return this.strip()},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var h=this,d=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var p=new s(1),v=new s(0),w=new s(0),S=new s(1),y=0;h.isEven()&&d.isEven();)h.iushrn(1),d.iushrn(1),++y;for(var u=d.clone(),m=h.clone();!h.isZero();){for(var I=0,$=1;!(h.words[0]&$)&&I<26;++I,$<<=1);if(I>0)for(h.iushrn(I);I-- >0;)(p.isOdd()||v.isOdd())&&(p.iadd(u),v.isub(m)),p.iushrn(1),v.iushrn(1);for(var Z=0,O=1;!(d.words[0]&O)&&Z<26;++Z,O<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(u),S.isub(m)),w.iushrn(1),S.iushrn(1);h.cmp(d)>=0?(h.isub(d),p.isub(w),v.isub(S)):(d.isub(h),w.isub(p),S.isub(v))}return{a:w,b:S,gcd:d.iushln(y)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var h=this,d=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var p=new s(1),v=new s(0),w=d.clone();h.cmpn(1)>0&&d.cmpn(1)>0;){for(var S=0,y=1;!(h.words[0]&y)&&S<26;++S,y<<=1);if(S>0)for(h.iushrn(S);S-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);for(var u=0,m=1;!(d.words[0]&m)&&u<26;++u,m<<=1);if(u>0)for(d.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);h.cmp(d)>=0?(h.isub(d),p.isub(v)):(d.isub(h),v.isub(p))}var I;return h.cmpn(1)===0?I=p:I=v,I.cmpn(0)<0&&I.iadd(f),I},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var h=this.clone(),d=f.clone();h.negative=0,d.negative=0;for(var p=0;h.isEven()&&d.isEven();p++)h.iushrn(1),d.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;d.isEven();)d.iushrn(1);var v=h.cmp(d);if(v<0){var w=h;h=d,d=w}else if(v===0||d.cmpn(1)===0)break;h.isub(d)}while(!0);return d.iushln(p)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var h=f%26,d=(f-h)/26,p=1<<h;if(this.length<=d)return this._expand(d+1),this.words[d]|=p,this;for(var v=p,w=d;v!==0&&w<this.length;w++){var S=this.words[w]|0;S+=v,v=S>>>26,S&=67108863,this.words[w]=S}return v!==0&&(this.words[w]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var h=f<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var d;if(this.length>1)d=1;else{h&&(f=-f),n(f<=67108863,"Number is too big");var p=this.words[0]|0;d=p===f?0:p<f?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var h=this.ucmp(f);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var h=0,d=this.length-1;d>=0;d--){var p=this.words[d]|0,v=f.words[d]|0;if(p!==v){p<v?h=-1:p>v&&(h=1);break}}return h},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new te(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function U(A,f){this.name=A,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},U.prototype.ireduce=function(f){var h=f,d;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),d=h.bitLength();while(d>this.n);var p=d<this.n?-1:h.ucmp(this.p);return p===0?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},U.prototype.split=function(f,h){f.iushrn(this.n,0,h)},U.prototype.imulK=function(f){return f.imul(this.k)};function F(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,U),F.prototype.split=function(f,h){for(var d=4194303,p=Math.min(f.length,9),v=0;v<p;v++)h.words[v]=f.words[v];if(h.length=p,f.length<=9){f.words[0]=0,f.length=1;return}var w=f.words[9];for(h.words[h.length++]=w&d,v=10;v<f.length;v++){var S=f.words[v]|0;f.words[v-10]=(S&d)<<4|w>>>22,w=S}w>>>=22,f.words[v-10]=w,w===0&&f.length>10?f.length-=10:f.length-=9},F.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var h=0,d=0;d<f.length;d++){var p=f.words[d]|0;h+=p*977,f.words[d]=h&67108863,h=p*64+(h/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function W(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(W,U);function k(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(k,U);function K(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(K,U),K.prototype.imulK=function(f){for(var h=0,d=0;d<f.length;d++){var p=(f.words[d]|0)*19+h,v=p&67108863;p>>>=26,f.words[d]=v,h=p}return h!==0&&(f.words[f.length++]=h),f},s._prime=function(f){if(D[f])return D[f];var h;if(f==="k256")h=new F;else if(f==="p224")h=new W;else if(f==="p192")h=new k;else if(f==="p25519")h=new K;else throw new Error("Unknown prime "+f);return D[f]=h,h};function te(A){if(typeof A=="string"){var f=s._prime(A);this.m=f.p,this.prime=f}else n(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}te.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},te.prototype._verify2=function(f,h){n((f.negative|h.negative)===0,"red works only with positives"),n(f.red&&f.red===h.red,"red works only with red numbers")},te.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},te.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},te.prototype.add=function(f,h){this._verify2(f,h);var d=f.add(h);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},te.prototype.iadd=function(f,h){this._verify2(f,h);var d=f.iadd(h);return d.cmp(this.m)>=0&&d.isub(this.m),d},te.prototype.sub=function(f,h){this._verify2(f,h);var d=f.sub(h);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},te.prototype.isub=function(f,h){this._verify2(f,h);var d=f.isub(h);return d.cmpn(0)<0&&d.iadd(this.m),d},te.prototype.shl=function(f,h){return this._verify1(f),this.imod(f.ushln(h))},te.prototype.imul=function(f,h){return this._verify2(f,h),this.imod(f.imul(h))},te.prototype.mul=function(f,h){return this._verify2(f,h),this.imod(f.mul(h))},te.prototype.isqr=function(f){return this.imul(f,f.clone())},te.prototype.sqr=function(f){return this.mul(f,f)},te.prototype.sqrt=function(f){if(f.isZero())return f.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(f,d)}for(var p=this.m.subn(1),v=0;!p.isZero()&&p.andln(1)===0;)v++,p.iushrn(1);n(!p.isZero());var w=new s(1).toRed(this),S=w.redNeg(),y=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);this.pow(u,y).cmp(S)!==0;)u.redIAdd(S);for(var m=this.pow(u,p),I=this.pow(f,p.addn(1).iushrn(1)),$=this.pow(f,p),Z=v;$.cmp(w)!==0;){for(var O=$,Q=0;O.cmp(w)!==0;Q++)O=O.redSqr();n(Q<Z);var Y=this.pow(m,new s(1).iushln(Z-Q-1));I=I.redMul(Y),m=Y.redSqr(),$=$.redMul(m),Z=Q}return I},te.prototype.invm=function(f){var h=f._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},te.prototype.pow=function(f,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return f.clone();var d=4,p=new Array(1<<d);p[0]=new s(1).toRed(this),p[1]=f;for(var v=2;v<p.length;v++)p[v]=this.mul(p[v-1],f);var w=p[0],S=0,y=0,u=h.bitLength()%26;for(u===0&&(u=26),v=h.length-1;v>=0;v--){for(var m=h.words[v],I=u-1;I>=0;I--){var $=m>>I&1;if(w!==p[0]&&(w=this.sqr(w)),$===0&&S===0){y=0;continue}S<<=1,S|=$,y++,!(y!==d&&(v!==0||I!==0))&&(w=this.mul(w,p[S]),y=0,S=0)}u=26}return w},te.prototype.convertTo=function(f){var h=f.umod(this.m);return h===f?h.clone():h},te.prototype.convertFrom=function(f){var h=f.clone();return h.red=null,h},s.mont=function(f){return new ce(f)};function ce(A){te.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ce,te),ce.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},ce.prototype.convertFrom=function(f){var h=this.imod(f.mul(this.rinv));return h.red=null,h},ce.prototype.imul=function(f,h){if(f.isZero()||h.isZero())return f.words[0]=0,f.length=1,f;var d=f.imul(h),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=d.isub(p).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},ce.prototype.mul=function(f,h){if(f.isZero()||h.isZero())return new s(0)._forceRed(this);var d=f.mul(h),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=d.isub(p).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},ce.prototype.invm=function(f){var h=this.imod(f._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,zi)})(G3);var ic=G3.exports;(function(t){var e=t,r=ic,n=rc,i=u0;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(g,b,x){var _=new Array(Math.max(g.bitLength(),x)+1),E;for(E=0;E<_.length;E+=1)_[E]=0;var M=1<<b+1,B=g.clone();for(E=0;E<_.length;E++){var P,R=B.andln(M-1);B.isOdd()?(R>(M>>1)-1?P=(M>>1)-R:P=R,B.isubn(P)):P=0,_[E]=P,B.iushrn(1)}return _}e.getNAF=s;function o(g,b){var x=[[],[]];g=g.clone(),b=b.clone();for(var _=0,E=0,M;g.cmpn(-_)>0||b.cmpn(-E)>0;){var B=g.andln(3)+_&3,P=b.andln(3)+E&3;B===3&&(B=-1),P===3&&(P=-1);var R;B&1?(M=g.andln(7)+_&7,(M===3||M===5)&&P===2?R=-B:R=B):R=0,x[0].push(R);var D;P&1?(M=b.andln(7)+E&7,(M===3||M===5)&&B===2?D=-P:D=P):D=0,x[1].push(D),2*_===R+1&&(_=1-_),2*E===D+1&&(E=1-E),g.iushrn(1),b.iushrn(1)}return x}e.getJSF=o;function a(g,b,x){var _="_"+b;g.prototype[b]=function(){return this[_]!==void 0?this[_]:this[_]=x.call(this)}}e.cachedProperty=a;function c(g){return typeof g=="string"?e.toArray(g,"hex"):g}e.parseBytes=c;function l(g){return new r(g,"hex","le")}e.intFromLE=l})(Ss);var Y3={},lf=ic,g0=Ss,$1=g0.getNAF,xD=g0.getJSF,U1=g0.assert;function tf(t,e){this.type=t,this.p=new lf(e.p,16),this.red=e.prime?lf.red(e.prime):lf.mont(this.p),this.zero=new lf(0).toRed(this.red),this.one=new lf(1).toRed(this.red),this.two=new lf(2).toRed(this.red),this.n=e.n&&new lf(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Jg=tf;tf.prototype.point=function(){throw new Error("Not implemented")};tf.prototype.validate=function(){throw new Error("Not implemented")};tf.prototype._fixedNafMul=function(e,r){U1(e.precomputed);var n=e._getDoubles(),i=$1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var g=this.jpoint(null,null,null),b=this.jpoint(null,null,null),x=s;x>0;x--){for(a=0;a<o.length;a++)c=o[a],c===x?b=b.mixedAdd(n.points[a]):c===-x&&(b=b.mixedAdd(n.points[a].neg()));g=g.add(b)}return g.toP()};tf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=$1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var g=o[c];U1(g!==0),e.type==="affine"?g>0?a=a.mixedAdd(s[g-1>>1]):a=a.mixedAdd(s[-g-1>>1].neg()):g>0?a=a.add(s[g-1>>1]):a=a.add(s[-g-1>>1].neg())}return e.type==="affine"?a.toP():a};tf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,g,b,x;for(g=0;g<i;g++){x=r[g];var _=x._getNAFPoints(e);o[g]=_.wnd,a[g]=_.points}for(g=i-1;g>=1;g-=2){var E=g-1,M=g;if(o[E]!==1||o[M]!==1){c[E]=$1(n[E],o[E],this._bitLength),c[M]=$1(n[M],o[M],this._bitLength),l=Math.max(c[E].length,l),l=Math.max(c[M].length,l);continue}var B=[r[E],null,null,r[M]];r[E].y.cmp(r[M].y)===0?(B[1]=r[E].add(r[M]),B[2]=r[E].toJ().mixedAdd(r[M].neg())):r[E].y.cmp(r[M].y.redNeg())===0?(B[1]=r[E].toJ().mixedAdd(r[M]),B[2]=r[E].add(r[M].neg())):(B[1]=r[E].toJ().mixedAdd(r[M]),B[2]=r[E].toJ().mixedAdd(r[M].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],R=xD(n[E],n[M]);for(l=Math.max(R[0].length,l),c[E]=new Array(l),c[M]=new Array(l),b=0;b<l;b++){var D=R[0][b]|0,U=R[1][b]|0;c[E][b]=P[(D+1)*3+(U+1)],c[M][b]=0,a[E]=B}}var F=this.jpoint(null,null,null),W=this._wnafT4;for(g=l;g>=0;g--){for(var k=0;g>=0;){var K=!0;for(b=0;b<i;b++)W[b]=c[b][g]|0,W[b]!==0&&(K=!1);if(!K)break;k++,g--}if(g>=0&&k++,F=F.dblp(k),g<0)break;for(b=0;b<i;b++){var te=W[b];te!==0&&(te>0?x=a[b][te-1>>1]:te<0&&(x=a[b][-te-1>>1].neg()),x.type==="affine"?F=F.mixedAdd(x):F=F.add(x))}}for(g=0;g<i;g++)a[g]=null;return s?F:F.toP()};function to(t,e){this.curve=t,this.type=e,this.precomputed=null}tf.BasePoint=to;to.prototype.eq=function(){throw new Error("Not implemented")};to.prototype.validate=function(){return this.curve.validate(this)};tf.prototype.decodePoint=function(e,r){e=g0.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?U1(e[e.length-1]%2===0):e[0]===7&&U1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};to.prototype.encodeCompressed=function(e){return this.encode(e,!0)};to.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};to.prototype.encode=function(e,r){return g0.encode(this._encode(r),e)};to.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};to.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};to.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};to.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};to.prototype._getBeta=function(){return null};to.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var _D=Ss,ln=ic,J3=da,Zd=Jg,SD=_D.assert;function ro(t){Zd.call(this,"short",t),this.a=new ln(t.a,16).toRed(this.red),this.b=new ln(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}J3(ro,Zd);var ED=ro;ro.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new ln(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new ln(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],SD(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new ln(a.a,16),b:new ln(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};ro.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:ln.mont(e),n=new ln(2).toRed(r).redInvm(),i=n.redNeg(),s=new ln(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};ro.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new ln(1),o=new ln(0),a=new ln(0),c=new ln(1),l,g,b,x,_,E,M,B=0,P,R;n.cmpn(0)!==0;){var D=i.div(n);P=i.sub(D.mul(n)),R=a.sub(D.mul(s));var U=c.sub(D.mul(o));if(!b&&P.cmp(r)<0)l=M.neg(),g=s,b=P.neg(),x=R;else if(b&&++B===2)break;M=P,i=n,n=P,a=s,s=R,c=o,o=U}_=P.neg(),E=R;var F=b.sqr().add(x.sqr()),W=_.sqr().add(E.sqr());return W.cmp(F)>=0&&(_=l,E=g),b.negative&&(b=b.neg(),x=x.neg()),_.negative&&(_=_.neg(),E=E.neg()),[{a:b,b:x},{a:_,b:E}]};ro.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),g=o.mul(i.b),b=e.sub(a).sub(c),x=l.add(g).neg();return{k1:b,k2:x}};ro.prototype.pointFromX=function(e,r){e=new ln(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};ro.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};ro.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var g=this._wnafMulAdd(1,i,s,o*2,n),b=0;b<o*2;b++)i[b]=null,s[b]=null;return g};function Yn(t,e,r,n){Zd.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new ln(e,16),this.y=new ln(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}J3(Yn,Zd.BasePoint);ro.prototype.point=function(e,r,n){return new Yn(this,e,r,n)};ro.prototype.pointFromJSON=function(e,r){return Yn.fromJSON(this,e,r)};Yn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Yn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Yn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Yn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Yn.prototype.isInfinity=function(){return this.inf};Yn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Yn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Yn.prototype.getX=function(){return this.x.fromRed()};Yn.prototype.getY=function(){return this.y.fromRed()};Yn.prototype.mul=function(e){return e=new ln(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Yn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Yn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Yn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Yn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Yn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ui(t,e,r,n){Zd.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new ln(0)):(this.x=new ln(e,16),this.y=new ln(r,16),this.z=new ln(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}J3(ui,Zd.BasePoint);ro.prototype.jpoint=function(e,r,n){return new ui(this,e,r,n)};ui.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ui.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ui.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=c.redSqr(),b=g.redMul(c),x=i.redMul(g),_=l.redSqr().redIAdd(b).redISub(x).redISub(x),E=l.redMul(x.redISub(_)).redISub(o.redMul(b)),M=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(_,E,M)};ui.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),g=l.redMul(a),b=n.redMul(l),x=c.redSqr().redIAdd(g).redISub(b).redISub(b),_=c.redMul(b.redISub(x)).redISub(s.redMul(g)),E=this.z.redMul(a);return this.curve.jpoint(x,_,E)};ui.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),g=a.redAdd(a);for(r=0;r<e;r++){var b=o.redSqr(),x=g.redSqr(),_=x.redSqr(),E=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(l)),M=o.redMul(x),B=E.redSqr().redISub(M.redAdd(M)),P=M.redISub(B),R=E.redMul(P);R=R.redIAdd(R).redISub(_);var D=g.redMul(c);r+1<e&&(l=l.redMul(_)),o=B,c=D,g=R}return this.curve.jpoint(o,g.redMul(s),c)};ui.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ui.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),g=o.redIAdd(o);g=g.redIAdd(g),g=g.redIAdd(g),e=l,r=c.redMul(a.redISub(l)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),x=this.y.redSqr(),_=x.redSqr(),E=this.x.redAdd(x).redSqr().redISub(b).redISub(_);E=E.redIAdd(E);var M=b.redAdd(b).redIAdd(b),B=M.redSqr(),P=_.redIAdd(_);P=P.redIAdd(P),P=P.redIAdd(P),e=B.redISub(E).redISub(E),r=M.redMul(E.redISub(e)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ui.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var g=o.redIAdd(o);g=g.redIAdd(g),g=g.redIAdd(g),r=c.redMul(a.redISub(l)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),x=this.y.redSqr(),_=this.x.redMul(x),E=this.x.redSub(b).redMul(this.x.redAdd(b));E=E.redAdd(E).redIAdd(E);var M=_.redIAdd(_);M=M.redIAdd(M);var B=M.redAdd(M);e=E.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(x).redISub(b);var P=x.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),r=E.redMul(M.redISub(e)).redISub(P)}return this.curve.jpoint(e,r,n)};ui.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var g=l.redMul(a),b=c.redSqr().redISub(g.redAdd(g)),x=g.redISub(b),_=a.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=c.redMul(x).redISub(_),M=n.redAdd(n).redMul(i);return this.curve.jpoint(b,E,M)};ui.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var g=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),b=r.redMul(g);b=b.redIAdd(b),b=b.redIAdd(b);var x=this.x.redMul(c).redISub(b);x=x.redIAdd(x),x=x.redIAdd(x);var _=this.y.redMul(g.redMul(l.redISub(g)).redISub(a.redMul(c)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(x,_,E)};ui.prototype.mul=function(e,r){return e=new ln(e,r),this.curve._wnafMul(this,e)};ui.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ui.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ui.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ui.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Yu=ic,tE=da,Xg=Jg,AD=Ss;function Qd(t){Xg.call(this,"mont",t),this.a=new Yu(t.a,16).toRed(this.red),this.b=new Yu(t.b,16).toRed(this.red),this.i4=new Yu(4).toRed(this.red).redInvm(),this.two=new Yu(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}tE(Qd,Xg);var ID=Qd;Qd.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Hn(t,e,r){Xg.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Yu(e,16),this.z=new Yu(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}tE(Hn,Xg.BasePoint);Qd.prototype.decodePoint=function(e,r){return this.point(AD.toArray(e,r),1)};Qd.prototype.point=function(e,r){return new Hn(this,e,r)};Qd.prototype.pointFromJSON=function(e){return Hn.fromJSON(this,e)};Hn.prototype.precompute=function(){};Hn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Hn.fromJSON=function(e,r){return new Hn(e,r[0],r[1]||e.one)};Hn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Hn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Hn.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};Hn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Hn.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),c=s.redMul(i),l=r.z.redMul(a.redAdd(c).redSqr()),g=r.x.redMul(a.redISub(c).redSqr());return this.curve.point(l,g)};Hn.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Hn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Hn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Hn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Hn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Hn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var MD=Ss,za=ic,rE=da,Zg=Jg,PD=MD.assert;function pa(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,Zg.call(this,"edwards",t),this.a=new za(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new za(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new za(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),PD(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}rE(pa,Zg);var kD=pa;pa.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};pa.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};pa.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};pa.prototype.pointFromX=function(e,r){e=new za(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(r&&!c||!r&&c)&&(a=a.redNeg()),this.point(e,a)};pa.prototype.pointFromY=function(e,r){e=new za(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};pa.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function zr(t,e,r,n,i){Zg.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new za(e,16),this.y=new za(r,16),this.z=n?new za(n,16):this.curve.one,this.t=i&&new za(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}rE(zr,Zg.BasePoint);pa.prototype.pointFromJSON=function(e){return zr.fromJSON(this,e)};pa.prototype.point=function(e,r,n,i){return new zr(this,e,r,n,i)};zr.fromJSON=function(e,r){return new zr(e,r[0],r[1],r[2])};zr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};zr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};zr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),c=i.redSub(r),l=s.redMul(a),g=o.redMul(c),b=s.redMul(c),x=a.redMul(o);return this.curve.point(l,g,x,b)};zr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,c,l;if(this.curve.twisted){a=this.curve._mulA(r);var g=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(g.redSub(this.curve.two)),s=g.redMul(a.redSub(n)),o=g.redSqr().redSub(g).redSub(g)):(c=this.z.redSqr(),l=g.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(l),s=g.redMul(a.redSub(n)),o=g.redMul(l))}else a=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),l=a.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(a)).redMul(l),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(l);return this.curve.point(i,s,o)};zr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};zr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),c=s.redAdd(i),l=n.redAdd(r),g=o.redMul(a),b=c.redMul(l),x=o.redMul(l),_=a.redMul(c);return this.curve.point(g,b,_,x)};zr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),c=n.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),g=r.redMul(a).redMul(l),b,x;return this.curve.twisted?(b=r.redMul(c).redMul(s.redSub(this.curve._mulA(i))),x=a.redMul(c)):(b=r.redMul(c).redMul(s.redSub(i)),x=this.curve._mulC(a).redMul(c)),this.curve.point(g,b,x)};zr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};zr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};zr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};zr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};zr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};zr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};zr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};zr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};zr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};zr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};zr.prototype.toP=zr.prototype.normalize;zr.prototype.mixedAdd=zr.prototype.add;(function(t){var e=t;e.base=Jg,e.short=ED,e.mont=ID,e.edwards=kD})(Y3);var Qg={},zv,v4;function RD(){return v4||(v4=1,zv={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),zv}(function(t){var e=t,r=tc,n=Y3,i=Ss,s=i.assert;function o(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(l,g){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var b=new o(g);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:b}),b}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=RD()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(Qg);var CD=ic,TD=Ss,Um=TD.assert;function Ri(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var ND=Ri;Ri.fromPublic=function(e,r,n){return r instanceof Ri?r:new Ri(e,{pub:r,pubEnc:n})};Ri.fromPrivate=function(e,r,n){return r instanceof Ri?r:new Ri(e,{priv:r,privEnc:n})};Ri.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ri.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ri.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ri.prototype._importPrivate=function(e,r){this.priv=new CD(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ri.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Um(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Um(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ri.prototype.derive=function(e){return e.validate()||Um(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ri.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ri.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ri.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var z1=ic,X3=Ss,OD=X3.assert;function eb(t,e){if(t instanceof eb)return t;this._importDER(t,e)||(OD(t.r&&t.s,"Signature without r or s"),this.r=new z1(t.r,16),this.s=new z1(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var BD=eb;function DD(){this.place=0}function Fv(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function y4(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}eb.prototype._importDER=function(e,r){e=X3.toArray(e,r);var n=new DD;if(e[n.place++]!==48)return!1;var i=Fv(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=Fv(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=Fv(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new z1(o),this.s=new z1(c),this.recoveryParam=null,!0};function qv(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}eb.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=y4(r),n=y4(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];qv(i,r.length),i=i.concat(r),i.push(2),qv(i,n.length);var s=i.concat(n),o=[48];return qv(o,s.length),o=o.concat(s),X3.encode(o,e)};var Kf=ic,nE=U3,LD=Ss,Kv=Qg,$D=Vd,iE=LD.assert,Z3=ND,tb=BD;function Js(t){if(!(this instanceof Js))return new Js(t);typeof t=="string"&&(iE(Object.prototype.hasOwnProperty.call(Kv,t),"Unknown curve "+t),t=Kv[t]),t instanceof Kv.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var UD=Js;Js.prototype.keyPair=function(e){return new Z3(this,e)};Js.prototype.keyFromPrivate=function(e,r){return Z3.fromPrivate(this,e,r)};Js.prototype.keyFromPublic=function(e,r){return Z3.fromPublic(this,e,r)};Js.prototype.genKeyPair=function(e){e||(e={});for(var r=new nE({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||$D(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Kf(2));;){var s=new Kf(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Js.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Js.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Kf(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new nE({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new Kf(1)),g=0;;g++){var b=i.k?i.k(g):new Kf(c.generate(this.n.byteLength()));if(b=this._truncateToN(b,!0),!(b.cmpn(1)<=0||b.cmp(l)>=0)){var x=this.g.mul(b);if(!x.isInfinity()){var _=x.getX(),E=_.umod(this.n);if(E.cmpn(0)!==0){var M=b.invm(this.n).mul(E.mul(r.getPrivate()).iadd(e));if(M=M.umod(this.n),M.cmpn(0)!==0){var B=(x.getY().isOdd()?1:0)|(_.cmp(E)!==0?2:0);return i.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),B^=1),new tb({r:E,s:M,recoveryParam:B})}}}}}};Js.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Kf(e,16)),n=this.keyFromPublic(n,i),r=new tb(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(c,n.getPublic(),l),g.isInfinity()?!1:g.eqXToP(s)):(g=this.g.mulAdd(c,n.getPublic(),l),g.isInfinity()?!1:g.getX().umod(this.n).cmp(s)===0)};Js.prototype.recoverPubKey=function(t,e,r,n){iE((3&r)===r,"The recovery param is more than two bits"),e=new tb(e,n);var i=this.n,s=new Kf(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var g=e.r.invm(i),b=i.sub(s).mul(g).umod(i),x=a.mul(g).umod(i);return this.g.mulAdd(b,o,x)};Js.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new tb(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var b0=Ss,sE=b0.assert,m4=b0.parseBytes,el=b0.cachedProperty;function qn(t,e){this.eddsa=t,this._secret=m4(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=m4(e.pub)}qn.fromPublic=function(e,r){return r instanceof qn?r:new qn(e,{pub:r})};qn.fromSecret=function(e,r){return r instanceof qn?r:new qn(e,{secret:r})};qn.prototype.secret=function(){return this._secret};el(qn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});el(qn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});el(qn,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});el(qn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});el(qn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});el(qn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});qn.prototype.sign=function(e){return sE(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};qn.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};qn.prototype.getSecret=function(e){return sE(this._secret,"KeyPair is public only"),b0.encode(this.secret(),e)};qn.prototype.getPublic=function(e){return b0.encode(this.pubBytes(),e)};var zD=qn,FD=ic,rb=Ss,w4=rb.assert,nb=rb.cachedProperty,qD=rb.parseBytes;function du(t,e){this.eddsa=t,typeof e!="object"&&(e=qD(e)),Array.isArray(e)&&(w4(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),w4(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof FD&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}nb(du,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});nb(du,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});nb(du,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});nb(du,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});du.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};du.prototype.toHex=function(){return rb.encode(this.toBytes(),"hex").toUpperCase()};var KD=du,jD=tc,WD=Qg,Td=Ss,HD=Td.assert,oE=Td.parseBytes,aE=zD,x4=KD;function os(t){if(HD(t==="ed25519","only tested with ed25519 so far"),!(this instanceof os))return new os(t);t=WD[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=jD.sha512}var VD=os;os.prototype.sign=function(e,r){e=oE(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:o})};os.prototype.verify=function(e,r,n){if(e=oE(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};os.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Td.intFromLE(e.digest()).umod(this.curve.n)};os.prototype.keyFromPublic=function(e){return aE.fromPublic(this,e)};os.prototype.keyFromSecret=function(e){return aE.fromSecret(this,e)};os.prototype.makeSignature=function(e){return e instanceof x4?e:new x4(this,e)};os.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};os.prototype.decodePoint=function(e){e=Td.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=Td.intFromLE(n);return this.curve.pointFromY(s,i)};os.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};os.prototype.decodeInt=function(e){return Td.intFromLE(e)};os.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=wD.version,e.utils=Ss,e.rand=Vd,e.curve=Y3,e.curves=Qg,e.ec=UD,e.eddsa=VD})(eE);function Uh(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`positive integer expected, not ${t}`)}function GD(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function YD(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function ib(t,...e){if(!YD(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error(`Uint8Array expected of length ${e}, not of length=${t.length}`)}function JD(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Uh(t.outputLen),Uh(t.blockLen)}function zm(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function cE(t,e){ib(t);const r=e.outputLen;if(t.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}const XD={number:Uh,bool:GD,bytes:ib,hash:JD,exists:zm,output:cE},ap=BigInt(2**32-1),_4=BigInt(32);function ZD(t,e=!1){return e?{h:Number(t&ap),l:Number(t>>_4&ap)}:{h:Number(t>>_4&ap)|0,l:Number(t&ap)|0}}function QD(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=ZD(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const eL=(t,e,r)=>t<<r|e>>>32-r,tL=(t,e,r)=>e<<r|t>>>32-r,rL=(t,e,r)=>e<<r-32|t>>>64-r,nL=(t,e,r)=>t<<r-32|e>>>64-r;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iL=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),S4=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,sL=t=>t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255;function E4(t){for(let e=0;e<t.length;e++)t[e]=sL(t[e])}function oL(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function fE(t){return typeof t=="string"&&(t=oL(t)),ib(t),t}class aL{clone(){return this._cloneInto()}}function cL(t){const e=n=>t().update(fE(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}const uE=[],dE=[],lE=[],fL=BigInt(0),Cl=BigInt(1),uL=BigInt(2),dL=BigInt(7),lL=BigInt(256),hL=BigInt(113);for(let t=0,e=Cl,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],uE.push(2*(5*n+r)),dE.push((t+1)*(t+2)/2%64);let i=fL;for(let s=0;s<7;s++)e=(e<<Cl^(e>>dL)*hL)%lL,e&uL&&(i^=Cl<<(Cl<<BigInt(s))-Cl);lE.push(i)}const[pL,gL]=QD(lE,!0),A4=(t,e,r)=>r>32?rL(t,e,r):eL(t,e,r),I4=(t,e,r)=>r>32?nL(t,e,r):tL(t,e,r);function bL(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],g=r[c+1],b=A4(l,g,1)^r[a],x=I4(l,g,1)^r[a+1];for(let _=0;_<50;_+=10)t[o+_]^=b,t[o+_+1]^=x}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=dE[o],c=A4(i,s,a),l=I4(i,s,a),g=uE[o];i=t[g],s=t[g+1],t[g]=c,t[g+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=pL[n],t[1]^=gL[n]}r.fill(0)}let vL=class hE extends aL{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Uh(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=iL(this.state)}keccak(){S4||E4(this.state32),bL(this.state32,this.rounds),S4||E4(this.state32),this.posOut=0,this.pos=0}update(e){zm(this);const{blockLen:r,state:n}=this;e=fE(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){zm(this,!1),ib(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Uh(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(cE(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new hE(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const yL=(t,e,r)=>cL(()=>new vL(e,t,r)),M4=yL(1,136,256/8);function mL(t){return e=>(XD.bytes(e),t(e))}(()=>{const t=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,e=typeof module<"u"&&typeof module.require=="function"&&module.require.bind(module);return{node:e&&!t?e("crypto"):void 0,web:t}})();const wL=(()=>{const t=mL(M4);return t.create=M4.create,t})();function fd(t){return Buffer.from(wL(t))}const xL=new eE.ec("secp256k1");function _L(t){return{iv:Buffer.from(t.iv,"hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey,"hex"),ciphertext:Buffer.from(t.ciphertext,"hex"),mac:Buffer.from(t.mac,"hex")}}function SL(t){return{iv:Buffer.from(t.iv).toString("hex"),ephemPublicKey:Buffer.from(t.ephemPublicKey).toString("hex"),ciphertext:Buffer.from(t.ciphertext).toString("hex"),mac:Buffer.from(t.mac).toString("hex")}}async function Fp(t,e){const r=JSON.stringify(e),n=Buffer.from(r,"utf-8"),i=await JO(Rc(Buffer.from(t,"hex")),n),s=SL(i);return JSON.stringify(s)}async function pE(t,e){const r=JSON.parse(e),n=_L(r),i=xL.keyFromPrivate(t),o=(await qS(Buffer.from(i.getPrivate().toString("hex",64),"hex"),n)).toString("utf-8");return JSON.parse(o)}const EL=86400;class cp extends XN{constructor({sessionServerBaseUrl:e,sessionNamespace:r,sessionTime:n,sessionId:i,allowedOrigin:s}={}){super(),Oe(this,"sessionServerBaseUrl","https://session.web3auth.io"),Oe(this,"sessionNamespace",void 0),Oe(this,"allowedOrigin",void 0),Oe(this,"sessionTime",EL),Oe(this,"sessionId",""),e&&(this.sessionServerBaseUrl=e),r&&(this.sessionNamespace=r),n&&(this.sessionTime=n),i&&(this.sessionId=i.padStart(64,"0")),s&&(this.allowedOrigin=s||"*")}static generateRandomSessionKey(){return VO().toString("hex").padStart(64,"0")}async createSession(e,r={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),i=Rc(n).toString("hex"),s=await Fp(this.sessionId,e),o=(await $p(n,fd(Buffer.from(s,"utf8")))).toString("hex"),a={key:i,data:s,signature:o,namespace:this.sessionNamespace,timeout:this.sessionTime,allowedOrigin:this.allowedOrigin};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:a,headers:r}),this.sessionId}async authorizeSession({headers:e}={headers:{}}){super.checkSessionParams();const n={key:Rc(Buffer.from(this.sessionId,"hex")).toString("hex"),namespace:this.sessionNamespace},i=await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/get`,data:n,headers:e});if(!i.message)throw new Error("Session Expired or Invalid public key");const s=await pE(this.sessionId,i.message);if(s.error)throw new Error("There was an error decrypting data.");return s}async updateSession(e,r={}){super.checkSessionParams();const n=Buffer.from(this.sessionId,"hex"),i=Rc(n).toString("hex"),s=await Fp(this.sessionId,e),o=(await $p(n,fd(Buffer.from(s,"utf8")))).toString("hex"),a={key:i,data:s,signature:o,namespace:this.sessionNamespace,allowedOrigin:this.allowedOrigin};await super.request({method:"PUT",url:`${this.sessionServerBaseUrl}/v2/store/update`,data:a,headers:r})}async invalidateSession(e={}){super.checkSessionParams();const r=Buffer.from(this.sessionId,"hex"),n=Rc(r).toString("hex"),i=await Fp(this.sessionId,{}),s=(await $p(r,fd(Buffer.from(i,"utf8")))).toString("hex"),o={key:n,data:i,signature:s,namespace:this.sessionNamespace,timeout:1};return await super.request({method:"POST",url:`${this.sessionServerBaseUrl}/v2/store/set`,data:o,headers:e}),this.sessionId="",!0}}function AL(t,e){var r=Object.setPrototypeOf;r?r(t,e):t.__proto__=e}function IL(t,e){e===void 0&&(e=t.constructor);var r=Error.captureStackTrace;r&&r(t,e)}var ML=function(){var t=function(r,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(i[o]=s[o])},t(r,n)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),gE=function(t){ML(e,t);function e(r,n){var i=this.constructor,s=t.call(this,r,n)||this;return Object.defineProperty(s,"name",{value:i.name,enumerable:!1,configurable:!0}),AL(s,i.prototype),IL(s),s}return e}(Error);class bE extends gE{constructor(e,r){super(r),Oe(this,"code",void 0),Oe(this,"message",void 0),this.code=e,this.message=r||"",Object.defineProperty(this,"name",{value:"AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message}}toString(){return JSON.stringify(this.toJSON())}}class Fa extends bE{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{value:"InitializationError"})}static fromCode(e,r=""){return new Fa(e,`${Fa.messages[e]}, ${r}`)}static invalidParams(e=""){return Fa.fromCode(5001,e)}static notInitialized(e=""){return Fa.fromCode(5002,e)}}Oe(Fa,"messages",{5e3:"Custom",5001:"Invalid constructor params",5002:"SDK not initialized. please call init first"});class Or extends bE{constructor(e,r){super(e,r),Object.defineProperty(this,"name",{value:"LoginError"})}static fromCode(e,r=""){return new Or(e,`${Or.messages[e]}, ${r}`)}static invalidLoginParams(e=""){return Or.fromCode(5111,e)}static userNotLoggedIn(e=""){return Or.fromCode(5112,e)}static popupClosed(e=""){return Or.fromCode(5113,e)}static loginFailed(e=""){return Or.fromCode(5114,e)}static popupBlocked(e=""){return Or.fromCode(5115,e)}static mfaAlreadyEnabled(e=""){return Or.fromCode(5116,e)}static mfaNotEnabled(e=""){return Or.fromCode(5117,e)}}Oe(Or,"messages",{5e3:"Custom",5111:"Invalid login params",5112:"User not logged in.",5113:"login popup has been closed by the user",5114:"Login failed",5115:"Popup was blocked. Please call this function as soon as user clicks button or use redirect mode",5116:"MFA already enabled",5117:"MFA not yet enabled. Please call `enableMFA` first"});const F1=z3.getLogger("auth");F1.setLevel("error");const ca=Object.create(null);ca.open="0";ca.close="1";ca.ping="2";ca.pong="3";ca.message="4";ca.upgrade="5";ca.noop="6";const qp=Object.create(null);Object.keys(ca).forEach(t=>{qp[ca[t]]=t});const Fm={type:"error",data:"parser error"},vE=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",yE=typeof ArrayBuffer=="function",mE=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,Q3=({type:t,data:e},r,n)=>vE&&e instanceof Blob?r?n(e):P4(e,n):yE&&(e instanceof ArrayBuffer||mE(e))?r?n(e):P4(new Blob([e]),n):n(ca[t]+(e||"")),P4=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function k4(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let jv;function PL(t,e){if(vE&&t.data instanceof Blob)return t.data.arrayBuffer().then(k4).then(e);if(yE&&(t.data instanceof ArrayBuffer||mE(t.data)))return e(k4(t.data));Q3(t,!1,r=>{jv||(jv=new TextEncoder),e(jv.encode(r))})}const R4="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",eh=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<R4.length;t++)eh[R4.charCodeAt(t)]=t;const kL=t=>{let e=t.length*.75,r=t.length,n,i=0,s,o,a,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const l=new ArrayBuffer(e),g=new Uint8Array(l);for(n=0;n<r;n+=4)s=eh[t.charCodeAt(n)],o=eh[t.charCodeAt(n+1)],a=eh[t.charCodeAt(n+2)],c=eh[t.charCodeAt(n+3)],g[i++]=s<<2|o>>4,g[i++]=(o&15)<<4|a>>2,g[i++]=(a&3)<<6|c&63;return l},RL=typeof ArrayBuffer=="function",e6=(t,e)=>{if(typeof t!="string")return{type:"message",data:wE(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:CL(t.substring(1),e)}:qp[r]?t.length>1?{type:qp[r],data:t.substring(1)}:{type:qp[r]}:Fm},CL=(t,e)=>{if(RL){const r=kL(t);return wE(r,e)}else return{base64:!0,data:t}},wE=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},xE="",TL=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((s,o)=>{Q3(s,!1,a=>{n[o]=a,++i===r&&e(n.join(xE))})})},NL=(t,e)=>{const r=t.split(xE),n=[];for(let i=0;i<r.length;i++){const s=e6(r[i],e);if(n.push(s),s.type==="error")break}return n};function OL(){return new TransformStream({transform(t,e){PL(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let Wv;function fp(t){return t.reduce((e,r)=>e+r.length,0)}function up(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function BL(t,e){Wv||(Wv=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(r.push(o);;){if(n===0){if(fp(r)<1)break;const c=up(r,1);s=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(fp(r)<2)break;const c=up(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(fp(r)<8)break;const c=up(r,8),l=new DataView(c.buffer,c.byteOffset,c.length),g=l.getUint32(0);if(g>Math.pow(2,21)-1){a.enqueue(Fm);break}i=g*Math.pow(2,32)+l.getUint32(4),n=3}else{if(fp(r)<i)break;const c=up(r,i);a.enqueue(e6(s?c:Wv.decode(c),e)),n=0}if(i===0||i>t){a.enqueue(Fm);break}}}})}const _E=4;function _n(t){if(t)return DL(t)}function DL(t){for(var e in _n.prototype)t[e]=_n.prototype[e];return t}_n.prototype.on=_n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};_n.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};_n.prototype.off=_n.prototype.removeListener=_n.prototype.removeAllListeners=_n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};_n.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};_n.prototype.emitReserved=_n.prototype.emit;_n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};_n.prototype.hasListeners=function(t){return!!this.listeners(t).length};const sb=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),zs=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),LL="arraybuffer";function SE(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const $L=zs.setTimeout,UL=zs.clearTimeout;function ob(t,e){e.useNativeTimers?(t.setTimeoutFn=$L.bind(zs),t.clearTimeoutFn=UL.bind(zs)):(t.setTimeoutFn=zs.setTimeout.bind(zs),t.clearTimeoutFn=zs.clearTimeout.bind(zs))}const zL=1.33;function FL(t){return typeof t=="string"?qL(t):Math.ceil((t.byteLength||t.size)*zL)}function qL(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function EE(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function KL(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function jL(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class WL extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class t6 extends _n{constructor(e){super(),this.writable=!1,ob(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new WL(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=e6(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=KL(e);return r.length?"?"+r:""}}class HL extends t6{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};NL(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,TL(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=EE()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let AE=!1;try{AE=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const VL=AE;function GL(){}class YL extends HL{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class ta extends _n{constructor(e,r,n){super(),this.createRequest=e,ob(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=SE(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=ta.requestsCount++,ta.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=GL,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete ta.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}ta.requestsCount=0;ta.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",C4);else if(typeof addEventListener=="function"){const t="onpagehide"in zs?"pagehide":"unload";addEventListener(t,C4,!1)}}function C4(){for(let t in ta.requests)ta.requests.hasOwnProperty(t)&&ta.requests[t].abort()}const JL=function(){const t=IE({xdomain:!1});return t&&t.responseType!==null}();class XL extends YL{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=JL&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ta(IE,this.uri(),e)}}function IE(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||VL))return new XMLHttpRequest}catch{}if(!e)try{return new zs[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const ME=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class ZL extends t6{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=ME?{}:SE(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;Q3(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&sb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=EE()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const Hv=zs.WebSocket||zs.MozWebSocket;class QL extends ZL{createSocket(e,r,n){return ME?new Hv(e,r,n):r?new Hv(e,r):new Hv(e)}doWrite(e,r){this.ws.send(r)}}class e$ extends t6{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=BL(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=OL();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{n.read().then(({done:a,value:c})=>{a||(this.onPacket(c),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&sb(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const t$={websocket:QL,webtransport:e$,polling:XL},r$=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n$=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function qm(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=r$.exec(t||""),s={},o=14;for(;o--;)s[n$[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=i$(s,s.path),s.queryKey=s$(s,s.query),s}function i$(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function s$(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}const Km=typeof addEventListener=="function"&&typeof removeEventListener=="function",Kp=[];Km&&addEventListener("offline",()=>{Kp.forEach(t=>t())},!1);class qc extends _n{constructor(e,r){if(super(),this.binaryType=LL,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=qm(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=qm(r.host).host);ob(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=jL(this.opts.query)),Km&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Kp.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=_E,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&qc.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",qc.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=FL(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,sb(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(qc.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Km&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Kp.indexOf(this._offlineEventListener);n!==-1&&Kp.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}qc.protocol=_E;class o$ extends qc{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;qc.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",b=>{if(!n)if(b.type==="pong"&&b.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;qc.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(g(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const x=new Error("probe error");x.transport=r.name,this.emitReserved("upgradeError",x)}}))};function s(){n||(n=!0,g(),r.close(),r=null)}const o=b=>{const x=new Error("probe error: "+b);x.transport=r.name,s(),this.emitReserved("upgradeError",x)};function a(){o("transport closed")}function c(){o("socket closed")}function l(b){r&&b.name!==r.name&&s()}const g=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",a),this.off("close",c),this.off("upgrading",l)};r.once("open",i),r.once("error",o),r.once("close",a),this.once("close",c),this.once("upgrading",l),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let a$=class extends o${constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>t$[i]).filter(i=>!!i)),super(e,n)}};function c$(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=qm(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const f$=typeof ArrayBuffer=="function",u$=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,PE=Object.prototype.toString,d$=typeof Blob=="function"||typeof Blob<"u"&&PE.call(Blob)==="[object BlobConstructor]",l$=typeof File=="function"||typeof File<"u"&&PE.call(File)==="[object FileConstructor]";function r6(t){return f$&&(t instanceof ArrayBuffer||u$(t))||d$&&t instanceof Blob||l$&&t instanceof File}function jp(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(jp(t[r]))return!0;return!1}if(r6(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return jp(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&jp(t[r]))return!0;return!1}function h$(t){const e=[],r=t.data,n=t;return n.data=jm(r,e),n.attachments=e.length,{packet:n,buffers:e}}function jm(t,e){if(!t)return t;if(r6(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=jm(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=jm(t[n],e));return r}return t}function p$(t,e){return t.data=Wm(t.data,e),delete t.attachments,t}function Wm(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=Wm(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=Wm(t[r],e));return t}const g$=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],b$=5;var dr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(dr||(dr={}));let v$=class{constructor(e){this.replacer=e}encode(e){return(e.type===dr.EVENT||e.type===dr.ACK)&&jp(e)?this.encodeAsBinary({type:e.type===dr.EVENT?dr.BINARY_EVENT:dr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===dr.BINARY_EVENT||e.type===dr.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=h$(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}};function T4(t){return Object.prototype.toString.call(t)==="[object Object]"}let y$=class kE extends _n{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===dr.BINARY_EVENT;n||r.type===dr.BINARY_ACK?(r.type=n?dr.EVENT:dr.ACK,this.reconstructor=new m$(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(r6(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(dr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===dr.BINARY_EVENT||n.type===dr.BINARY_ACK){const s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(s,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){const s=this.tryParse(e.substr(r));if(kE.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case dr.CONNECT:return T4(r);case dr.DISCONNECT:return r===void 0;case dr.CONNECT_ERROR:return typeof r=="string"||T4(r);case dr.EVENT:case dr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&g$.indexOf(r[0])===-1);case dr.ACK:case dr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class m${constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=p$(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const w$=Object.freeze(Object.defineProperty({__proto__:null,Decoder:y$,Encoder:v$,get PacketType(){return dr},protocol:b$},Symbol.toStringTag,{value:"Module"}));function wo(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const x$=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class RE extends _n{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[wo(e,"open",this.onopen.bind(this)),wo(e,"packet",this.onpacket.bind(this)),wo(e,"error",this.onerror.bind(this)),wo(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,s;if(x$.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:dr.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const g=this.ids++,b=r.pop();this._registerAckCallback(g,b),o.id=g}const a=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);r.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),r.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{const s=(o,a)=>o?i(o):n(a);s.withError=!0,r.push(s),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:dr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case dr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case dr.EVENT:case dr.BINARY_EVENT:this.onevent(e);break;case dr.ACK:case dr.BINARY_ACK:this.onack(e);break;case dr.DISCONNECT:this.ondisconnect();break;case dr.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:dr.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:dr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function tl(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}tl.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+r:t-r}return Math.min(t,this.max)|0};tl.prototype.reset=function(){this.attempts=0};tl.prototype.setMin=function(t){this.ms=t};tl.prototype.setMax=function(t){this.max=t};tl.prototype.setJitter=function(t){this.jitter=t};class Hm extends _n{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,ob(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new tl({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||w$;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new a$(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=wo(r,"open",function(){n.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=wo(r,"error",s);if(this._timeout!==!1){const a=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),r.close()},a);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(wo(e,"ping",this.onping.bind(this)),wo(e,"data",this.ondata.bind(this)),wo(e,"error",this.onerror.bind(this)),wo(e,"close",this.onclose.bind(this)),wo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){sb(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new RE(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Tl={};function Wp(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=c$(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=Tl[i]&&s in Tl[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return a?c=new Hm(n,e):(Tl[i]||(Tl[i]=new Hm(n,e)),c=Tl[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(Wp,{Manager:Hm,Socket:RE,io:Wp,connect:Wp});var yi=Dg.getLogger("SecurePubSub");class _${constructor(e={}){Oe(this,"options",void 0),Oe(this,"SOCKET_CONN",null),this.options=e,this.options.timeout=e.timeout||600,this.options.serverUrl=e.serverUrl||"https://session.web3auth.io",this.options.enableLogging=e.enableLogging||!1,this.options.namespace=e.namespace||"",this.options.sameIpCheck=e.sameIpCheck||!1,this.options.sameOriginCheck=e.sameOriginCheck||!1,this.options.enableLogging?yi.enableAll():yi.disableAll()}static setLogLevel(e){yi.setLevel(e),HN(e)}async publish(e,r){const n=fd(Buffer.from(e,"utf8")),i=await Fp(n.toString("hex"),r),s=await $p(n,fd(Buffer.from(i,"utf8"))),o={key:Rc(n).toString("hex"),data:i,signature:s.toString("hex"),timeout:this.options.timeout,namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck};return zg(`${this.options.serverUrl}/channel/set`,o)}async subscribe(e){let r=!0;const n=fd(Buffer.from(e,"utf8")),i=Rc(n).toString("hex"),s=this.getSocketConnection();s.connected?(yi.debug("already connected with socket"),s.emit("check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})):s.once("connect",()=>{yi.debug("connected with socket"),s.emit("check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})});const o=()=>{s.once("connect",async()=>{yi.debug("connected with socket using reconnect"),r&&s.emit("check_auth_status",i,{namespace:this.options.namespace,sameIpCheck:this.options.sameIpCheck,sameOriginCheck:this.options.sameOriginCheck})})},a=()=>{r||document.removeEventListener("visibilitychange",a),!s.connected&&document.visibilityState==="visible"&&o()},c=()=>{yi.debug("socket disconnected",r),r?(yi.error("socket disconnected unexpectedly, reconnecting socket"),o()):s.removeListener("disconnect",c)};s.on("disconnect",c);const l=new Promise((g,b)=>{const x=async _=>{try{const E=await pE(n.toString("hex"),_);yi.info("got data",E),g(E)}catch(E){yi.error(E),b(E)}finally{r=!1,document.removeEventListener("visibilitychange",a)}};yi.info("listening to",`${i}_success`),s.once(`${i}_success`,x)});return typeof document<"u"&&document.addEventListener("visibilitychange",a),l}cleanup(){this.SOCKET_CONN&&(this.SOCKET_CONN.disconnect(),this.SOCKET_CONN=null)}getSocketConnection(){if(this.SOCKET_CONN)return this.SOCKET_CONN;const e=Wp(this.options.serverUrl,{transports:["websocket","polling"],withCredentials:!0,reconnectionDelayMax:1e4,reconnectionAttempts:10});return e.on("connect_error",r=>{e.io.opts.transports=["polling","websocket"],yi.error("connect error",r)}),e.on("connect",async()=>{const{engine:r}=e.io;yi.debug("initially connected to",r.transport.name),r.once("upgrade",()=>{yi.debug("upgraded",r.transport.name)}),r.once("close",n=>{yi.debug("connection closed",n)})}),e.on("error",r=>{yi.error("socket errored",r),e.disconnect()}),this.SOCKET_CONN=e,this.SOCKET_CONN}}var n6={exports:{}},ud=typeof Reflect=="object"?Reflect:null,N4=ud&&typeof ud.apply=="function"?ud.apply:function(e,r,n){return Function.prototype.apply.call(e,r,n)},Hp;ud&&typeof ud.ownKeys=="function"?Hp=ud.ownKeys:Object.getOwnPropertySymbols?Hp=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Hp=function(e){return Object.getOwnPropertyNames(e)};function S$(t){console&&console.warn&&console.warn(t)}var CE=Number.isNaN||function(e){return e!==e};function kr(){kr.init.call(this)}n6.exports=kr;n6.exports.once=M$;kr.EventEmitter=kr;kr.prototype._events=void 0;kr.prototype._eventsCount=0;kr.prototype._maxListeners=void 0;var O4=10;function ab(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(kr,"defaultMaxListeners",{enumerable:!0,get:function(){return O4},set:function(t){if(typeof t!="number"||t<0||CE(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");O4=t}});kr.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};kr.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||CE(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function TE(t){return t._maxListeners===void 0?kr.defaultMaxListeners:t._maxListeners}kr.prototype.getMaxListeners=function(){return TE(this)};kr.prototype.emit=function(e){for(var r=[],n=1;n<arguments.length;n++)r.push(arguments[n]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(r.length>0&&(o=r[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")N4(c,this,r);else for(var l=c.length,g=LE(c,l),n=0;n<l;++n)N4(g[n],this,r);return!0};function NE(t,e,r,n){var i,s,o;if(ab(r),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),i=TE(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,S$(a)}return t}kr.prototype.addListener=function(e,r){return NE(this,e,r,!1)};kr.prototype.on=kr.prototype.addListener;kr.prototype.prependListener=function(e,r){return NE(this,e,r,!0)};function E$(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function OE(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=E$.bind(n);return i.listener=r,n.wrapFn=i,i}kr.prototype.once=function(e,r){return ab(r),this.on(e,OE(this,e,r)),this};kr.prototype.prependOnceListener=function(e,r){return ab(r),this.prependListener(e,OE(this,e,r)),this};kr.prototype.removeListener=function(e,r){var n,i,s,o,a;if(ab(r),i=this._events,i===void 0)return this;if(n=i[e],n===void 0)return this;if(n===r||n.listener===r)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||r));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===r||n[o].listener===r){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():A$(n,s),n.length===1&&(i[e]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||r)}return this};kr.prototype.off=kr.prototype.removeListener;kr.prototype.removeAllListeners=function(e){var r,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[e]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(r=n[e],typeof r=="function")this.removeListener(e,r);else if(r!==void 0)for(i=r.length-1;i>=0;i--)this.removeListener(e,r[i]);return this};function BE(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?I$(i):LE(i,i.length)}kr.prototype.listeners=function(e){return BE(this,e,!0)};kr.prototype.rawListeners=function(e){return BE(this,e,!1)};kr.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):DE.call(t,e)};kr.prototype.listenerCount=DE;function DE(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}kr.prototype.eventNames=function(){return this._eventsCount>0?Hp(this._events):[]};function LE(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}function A$(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function I$(t){for(var e=new Array(t.length),r=0;r<e.length;++r)e[r]=t[r].listener||t[r];return e}function M$(t,e){return new Promise(function(r,n){function i(o){t.removeListener(e,s),n(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),r([].slice.call(arguments))}$E(t,e,s,{once:!0}),e!=="error"&&P$(t,i,{once:!0})})}function P$(t,e,r){typeof t.on=="function"&&$E(t,"error",e,r)}function $E(t,e,r,n){if(typeof t.on=="function")n.once?t.once(e,r):t.on(e,r);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){n.once&&t.removeEventListener(e,i),r(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var Es=n6.exports;const UE=ci(Es),k$={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},zE={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},pn={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},Oi={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},hc={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Fe{static getFirstMatch(e,r){const n=r.match(e);return n&&n.length>0&&n[1]||""}static getSecondMatch(e,r){const n=r.match(e);return n&&n.length>1&&n[2]||""}static matchAndReturnConst(e,r,n){if(e.test(r))return n}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),r[0]===10)switch(r[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const r=e.split(".").splice(0,2).map(n=>parseInt(n,10)||0);if(r.push(0),!(r[0]===1&&r[1]<5)){if(r[0]===1&&r[1]<6)return"Cupcake";if(r[0]===1&&r[1]>=6)return"Donut";if(r[0]===2&&r[1]<2)return"Eclair";if(r[0]===2&&r[1]===2)return"Froyo";if(r[0]===2&&r[1]>2)return"Gingerbread";if(r[0]===3)return"Honeycomb";if(r[0]===4&&r[1]<1)return"Ice Cream Sandwich";if(r[0]===4&&r[1]<4)return"Jelly Bean";if(r[0]===4&&r[1]>=4)return"KitKat";if(r[0]===5)return"Lollipop";if(r[0]===6)return"Marshmallow";if(r[0]===7)return"Nougat";if(r[0]===8)return"Oreo";if(r[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,r,n=!1){const i=Fe.getVersionPrecision(e),s=Fe.getVersionPrecision(r);let o=Math.max(i,s),a=0;const c=Fe.map([e,r],l=>{const g=o-Fe.getVersionPrecision(l),b=l+new Array(g+1).join(".0");return Fe.map(b.split("."),x=>new Array(20-x.length).join("0")+x).reverse()});for(n&&(a=o-Math.min(i,s)),o-=1;o>=a;){if(c[0][o]>c[1][o])return 1;if(c[0][o]===c[1][o]){if(o===a)return 0;o-=1}else if(c[0][o]<c[1][o])return-1}}static map(e,r){const n=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,r);for(i=0;i<e.length;i+=1)n.push(r(e[i]));return n}static find(e,r){let n,i;if(Array.prototype.find)return Array.prototype.find.call(e,r);for(n=0,i=e.length;n<i;n+=1){const s=e[n];if(r(s,n))return s}}static assign(e,...r){const n=e;let i,s;if(Object.assign)return Object.assign(e,...r);for(i=0,s=r.length;i<s;i+=1){const o=r[i];typeof o=="object"&&o!==null&&Object.keys(o).forEach(c=>{n[c]=o[c]})}return e}static getBrowserAlias(e){return k$[e]}static getBrowserTypeByAlias(e){return zE[e]||""}}const Rr=/version\/(\d+(\.?_?\d+)+)/i,R$=[{test:[/googlebot/i],describe(t){const e={name:"Googlebot"},r=Fe.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/opera/i],describe(t){const e={name:"Opera"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opr\/|opios/i],describe(t){const e={name:"Opera"},r=Fe.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/SamsungBrowser/i],describe(t){const e={name:"Samsung Internet for Android"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Whale/i],describe(t){const e={name:"NAVER Whale Browser"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MZBrowser/i],describe(t){const e={name:"MZ Browser"},r=Fe.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/focus/i],describe(t){const e={name:"Focus"},r=Fe.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/swing/i],describe(t){const e={name:"Swing"},r=Fe.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/coast/i],describe(t){const e={name:"Opera Coast"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(t){const e={name:"Opera Touch"},r=Fe.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/yabrowser/i],describe(t){const e={name:"Yandex Browser"},r=Fe.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/ucbrowser/i],describe(t){const e={name:"UC Browser"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/Maxthon|mxios/i],describe(t){const e={name:"Maxthon"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/epiphany/i],describe(t){const e={name:"Epiphany"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/puffin/i],describe(t){const e={name:"Puffin"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sleipnir/i],describe(t){const e={name:"Sleipnir"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/k-meleon/i],describe(t){const e={name:"K-Meleon"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/micromessenger/i],describe(t){const e={name:"WeChat"},r=Fe.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/qqbrowser/i],describe(t){const e={name:/qqbrowserlite/i.test(t)?"QQ Browser Lite":"QQ Browser"},r=Fe.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/msie|trident/i],describe(t){const e={name:"Internet Explorer"},r=Fe.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/\sedg\//i],describe(t){const e={name:"Microsoft Edge"},r=Fe.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/edg([ea]|ios)/i],describe(t){const e={name:"Microsoft Edge"},r=Fe.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/vivaldi/i],describe(t){const e={name:"Vivaldi"},r=Fe.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/seamonkey/i],describe(t){const e={name:"SeaMonkey"},r=Fe.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/sailfish/i],describe(t){const e={name:"Sailfish"},r=Fe.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,t);return r&&(e.version=r),e}},{test:[/silk/i],describe(t){const e={name:"Amazon Silk"},r=Fe.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/phantom/i],describe(t){const e={name:"PhantomJS"},r=Fe.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/slimerjs/i],describe(t){const e={name:"SlimerJS"},r=Fe.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e={name:"BlackBerry"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(web|hpw)[o0]s/i],describe(t){const e={name:"WebOS Browser"},r=Fe.getFirstMatch(Rr,t)||Fe.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/bada/i],describe(t){const e={name:"Bada"},r=Fe.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/tizen/i],describe(t){const e={name:"Tizen"},r=Fe.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/qupzilla/i],describe(t){const e={name:"QupZilla"},r=Fe.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/firefox|iceweasel|fxios/i],describe(t){const e={name:"Firefox"},r=Fe.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/electron/i],describe(t){const e={name:"Electron"},r=Fe.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/MiuiBrowser/i],describe(t){const e={name:"Miui"},r=Fe.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/chromium/i],describe(t){const e={name:"Chromium"},r=Fe.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,t)||Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/chrome|crios|crmo/i],describe(t){const e={name:"Chrome"},r=Fe.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/GSA/i],describe(t){const e={name:"Google Search"},r=Fe.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e={name:"Android Browser"},r=Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/playstation 4/i],describe(t){const e={name:"PlayStation 4"},r=Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/safari|applewebkit/i],describe(t){const e={name:"Safari"},r=Fe.getFirstMatch(Rr,t);return r&&(e.version=r),e}},{test:[/.*/i],describe(t){const e=/^(.*)\/(.*) /,r=/^(.*)\/(.*)[ \t]\((.*)/,i=t.search("\\(")!==-1?r:e;return{name:Fe.getFirstMatch(i,t),version:Fe.getSecondMatch(i,t)}}}],C$=[{test:[/Roku\/DVP/],describe(t){const e=Fe.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,t);return{name:Oi.Roku,version:e}}},{test:[/windows phone/i],describe(t){const e=Fe.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,t);return{name:Oi.WindowsPhone,version:e}}},{test:[/windows /i],describe(t){const e=Fe.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,t),r=Fe.getWindowsVersionName(e);return{name:Oi.Windows,version:e,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(t){const e={name:Oi.iOS},r=Fe.getSecondMatch(/(Version\/)(\d[\d.]+)/,t);return r&&(e.version=r),e}},{test:[/macintosh/i],describe(t){const e=Fe.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,t).replace(/[_\s]/g,"."),r=Fe.getMacOSVersionName(e),n={name:Oi.MacOS,version:e};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe(t){const e=Fe.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,t).replace(/[_\s]/g,".");return{name:Oi.iOS,version:e}}},{test(t){const e=!t.test(/like android/i),r=t.test(/android/i);return e&&r},describe(t){const e=Fe.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,t),r=Fe.getAndroidVersionName(e),n={name:Oi.Android,version:e};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe(t){const e=Fe.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,t),r={name:Oi.WebOS};return e&&e.length&&(r.version=e),r}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(t){const e=Fe.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,t)||Fe.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,t)||Fe.getFirstMatch(/\bbb(\d+)/i,t);return{name:Oi.BlackBerry,version:e}}},{test:[/bada/i],describe(t){const e=Fe.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,t);return{name:Oi.Bada,version:e}}},{test:[/tizen/i],describe(t){const e=Fe.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,t);return{name:Oi.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:Oi.Linux}}},{test:[/CrOS/],describe(){return{name:Oi.ChromeOS}}},{test:[/PlayStation 4/],describe(t){const e=Fe.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,t);return{name:Oi.PlayStation4,version:e}}}],T$=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(t){const e=Fe.getFirstMatch(/(can-l01)/i,t)&&"Nova",r={type:pn.mobile,vendor:"Huawei"};return e&&(r.model=e),r}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:pn.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:pn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:pn.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:pn.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:pn.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:pn.tablet}}},{test(t){const e=t.test(/ipod|iphone/i),r=t.test(/like (ipod|iphone)/i);return e&&!r},describe(t){const e=Fe.getFirstMatch(/(ipod|iphone)/i,t);return{type:pn.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:pn.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:pn.mobile}}},{test(t){return t.getBrowserName(!0)==="blackberry"},describe(){return{type:pn.mobile,vendor:"BlackBerry"}}},{test(t){return t.getBrowserName(!0)==="bada"},describe(){return{type:pn.mobile}}},{test(t){return t.getBrowserName()==="windows phone"},describe(){return{type:pn.mobile,vendor:"Microsoft"}}},{test(t){const e=Number(String(t.getOSVersion()).split(".")[0]);return t.getOSName(!0)==="android"&&e>=3},describe(){return{type:pn.tablet}}},{test(t){return t.getOSName(!0)==="android"},describe(){return{type:pn.mobile}}},{test(t){return t.getOSName(!0)==="macos"},describe(){return{type:pn.desktop,vendor:"Apple"}}},{test(t){return t.getOSName(!0)==="windows"},describe(){return{type:pn.desktop}}},{test(t){return t.getOSName(!0)==="linux"},describe(){return{type:pn.desktop}}},{test(t){return t.getOSName(!0)==="playstation 4"},describe(){return{type:pn.tv}}},{test(t){return t.getOSName(!0)==="roku"},describe(){return{type:pn.tv}}}],N$=[{test(t){return t.getBrowserName(!0)==="microsoft edge"},describe(t){if(/\sedg\//i.test(t))return{name:hc.Blink};const r=Fe.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,t);return{name:hc.EdgeHTML,version:r}}},{test:[/trident/i],describe(t){const e={name:hc.Trident},r=Fe.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){return t.test(/presto/i)},describe(t){const e={name:hc.Presto},r=Fe.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test(t){const e=t.test(/gecko/i),r=t.test(/like gecko/i);return e&&!r},describe(t){const e={name:hc.Gecko},r=Fe.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:hc.Blink}}},{test:[/(apple)?webkit/i],describe(t){const e={name:hc.WebKit},r=Fe.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,t);return r&&(e.version=r),e}}];class B4{constructor(e,r=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},r!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Fe.find(R$,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Fe.find(C$,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:r}=this.getOS();return e?String(r).toLowerCase()||"":r||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:r}=this.getPlatform();return e?String(r).toLowerCase()||"":r||""}parsePlatform(){this.parsedResult.platform={};const e=Fe.find(T$,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Fe.find(N$,r=>{if(typeof r.test=="function")return r.test(this);if(r.test instanceof Array)return r.test.some(n=>this.test(n));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Fe.assign({},this.parsedResult)}satisfies(e){const r={};let n=0;const i={};let s=0;if(Object.keys(e).forEach(a=>{const c=e[a];typeof c=="string"?(i[a]=c,s+=1):typeof c=="object"&&(r[a]=c,n+=1)}),n>0){const a=Object.keys(r),c=Fe.find(a,g=>this.isOS(g));if(c){const g=this.satisfies(r[c]);if(g!==void 0)return g}const l=Fe.find(a,g=>this.isPlatform(g));if(l){const g=this.satisfies(r[l]);if(g!==void 0)return g}}if(s>0){const a=Object.keys(i),c=Fe.find(a,l=>this.isBrowser(l,!0));if(c!==void 0)return this.compareVersion(i[c])}}isBrowser(e,r=!1){const n=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const s=Fe.getBrowserTypeByAlias(i);return r&&s&&(i=s.toLowerCase()),i===n}compareVersion(e){let r=[0],n=e,i=!1;const s=this.getBrowserVersion();if(typeof s=="string")return e[0]===">"||e[0]==="<"?(n=e.substr(1),e[1]==="="?(i=!0,n=e.substr(2)):r=[],e[0]===">"?r.push(1):r.push(-1)):e[0]==="="?n=e.substr(1):e[0]==="~"&&(i=!0,n=e.substr(1)),r.indexOf(Fe.compareVersions(s,n,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,r=!1){return this.isBrowser(e,r)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(r=>this.is(r))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class Vv{static getParser(e,r=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new B4(e,r)}static parse(e){return new B4(e).getResult()}static get BROWSER_MAP(){return zE}static get ENGINE_MAP(){return hc}static get OS_MAP(){return Oi}static get PLATFORMS_MAP(){return pn}}var FE={exports:{}},i6={},s6={};Object.defineProperty(s6,"__esModule",{value:!0});function O$(t){var e=4,r=t.length,n=r%e;if(!n)return t;var i=r,s=e-n,o=r+s,a=Buffer.alloc(o);for(a.write(t);s--;)a.write("=",i++);return a.toString()}s6.default=O$;Object.defineProperty(i6,"__esModule",{value:!0});var B$=s6;function qE(t,e){return e===void 0&&(e="utf8"),Buffer.isBuffer(t)?Vm(t.toString("base64")):Vm(Buffer.from(t,e).toString("base64"))}function D$(t,e){return e===void 0&&(e="utf8"),Buffer.from(o6(t),"base64").toString(e)}function o6(t){return t=t.toString(),B$.default(t).replace(/\-/g,"+").replace(/_/g,"/")}function Vm(t){return t.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function L$(t){return Buffer.from(o6(t),"base64")}var rl=qE;rl.encode=qE;rl.decode=D$;rl.toBase64=o6;rl.fromBase64=Vm;rl.toBuffer=L$;i6.default=rl;(function(t){t.exports=i6.default,t.exports.default=t.exports})(FE);var $$=FE.exports;const U$=ci($$),KE=U$;function D4(t){return KE.decode(t)}function dp(t){return KE.encode(JSON.stringify(t))}function L4(t){let e=!1,r=0,n;try{n=window[t],e=!0,r=n.length;const i="__storage_test__";return n.setItem(i,i),n.removeItem(i),!0}catch(i){const s=i;return s&&(s.code===22||s.code===1014||s.name==="QuotaExceededError"||s.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&r!==0}}const jE=$r,z$=Sc,vo={POPUP:"popup",REDIRECT:"redirect"},Kc=He(He({},z$),jE),$4={SECP256K1:"secp256k1",ED25519:"ed25519"},zh={GOOGLE:"google",FACEBOOK:"facebook",REDDIT:"reddit",DISCORD:"discord",TWITCH:"twitch",APPLE:"apple",LINE:"line",GITHUB:"github",KAKAO:"kakao",LINKEDIN:"linkedin",TWITTER:"twitter",WEIBO:"weibo",WECHAT:"wechat",FARCASTER:"farcaster",EMAIL_PASSWORDLESS:"email_passwordless",SMS_PASSWORDLESS:"sms_passwordless",WEBAUTHN:"webauthn",JWT:"jwt",PASSKEYS:"passkeys",AUTHENTICATOR:"authenticator"},Nl={LOGIN:"login",ENABLE_MFA:"enable_mfa",MANAGE_MFA:"manage_mfa",ADD_SOCIAL_FACTOR:"add_social_factor",MODIFY_SOCIAL_FACTOR:"modify_social_factor",ADD_AUTHENTICATOR_FACTOR:"add_authenticator_factor",ADD_PASSKEY_FACTOR:"add_passkey_factor"},No={PRODUCTION:"production",DEVELOPMENT:"development",STAGING:"staging",TESTING:"testing"},F$="9.4.1";function q$(t=!1){const e={},r=new URLSearchParams(window.location.search.slice(1));r.forEach((o,a)=>{a!=="b64Params"&&(e[a]=o)});const n=r.get("b64Params");if(n)try{const o=JSON.parse(D4(n));Object.keys(o).forEach(a=>{e[a]=o[a]})}catch(o){F1.error(o)}const i=new URLSearchParams(window.location.hash.substring(1));i.forEach((o,a)=>{a!=="b64Params"&&(e[a]=o)});const s=i.get("b64Params");if(s)try{const o=JSON.parse(D4(s));Object.keys(o).forEach(a=>{e[a]=o[a]})}catch(o){F1.error(o)}if(t){const o=new URL(window.location.origin+window.location.pathname);r.size>0&&(r.delete("error"),r.delete("state"),r.delete("b64Params"),r.delete("sessionNamespace"),o.search=r.toString()),i.size>0&&(i.delete("error"),i.delete("state"),i.delete("b64Params"),i.delete("sessionNamespace"),o.hash=i.toString()),window.history.replaceState(He(He({},window.history.state),{},{as:o.href,url:o.href}),"",o.href)}return e}function Vp(t){const{baseURL:e,query:r,hash:n}=t,i=new URL(e);if(r&&Object.keys(r).forEach(s=>{i.searchParams.append(s,r[s])}),n){const s=new URL(Vp({baseURL:e,query:n})).searchParams.toString();i.hash=s}return i.toString()}function K$(){if(typeof window>"u")return"";const t=window.screenLeft!==void 0?window.screenLeft:window.screenX,e=window.screenTop!==void 0?window.screenTop:window.screenY,r=1200,n=700,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,o=1,a=Math.abs((i-r)/2/o+t),c=Math.abs((s-n)/2/o+e);return`titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=${n/o},width=${r/o},top=${c},left=${a}`}function j$(){if(typeof window>"u")return!1;const e=Vv.getParser(window.navigator.userAgent).getPlatform();return e.type===Vv.PLATFORMS_MAP.tablet||e.type===Vv.PLATFORMS_MAP.mobile}function U4(t){return(t===zh.FACEBOOK||t===zh.LINE)&&j$()?1e3*60*5:1e3*10}class W$ extends Es.EventEmitter{constructor({url:e,target:r,features:n,timeout:i=3e4}){super(),Oe(this,"url",void 0),Oe(this,"target",void 0),Oe(this,"features",void 0),Oe(this,"window",void 0),Oe(this,"windowTimer",void 0),Oe(this,"iClosedWindow",void 0),Oe(this,"timeout",void 0),this.url=e,this.target=r||"_blank",this.features=n||K$(),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this.timeout=i,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval(()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),setTimeout(()=>{this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0},this.timeout)),this.window===void 0&&clearInterval(this.windowTimer)},500))}open(){var e;if(this.window=window.open(this.url,this.target,this.features),!this.window)throw Or.popupBlocked();(e=this.window)!==null&&e!==void 0&&e.focus&&this.window.focus()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(e){e?window.location.replace(this.url):window.location.href=this.url}async listenOnChannel(e){const r=new _$,n=await r.subscribe(e);this.close(),r.cleanup();const i=JSON.parse(n);return i.error?{error:i.error,state:i.state}:i.data}}class H${constructor(){Oe(this,"store",new Map)}getItem(e){return this.store.get(e)||null}setItem(e,r){this.store.set(e,r)}removeItem(e){this.store.delete(e)}}class WE{constructor(e,r){Oe(this,"storage",void 0),Oe(this,"_storeKey",void 0),this.storage=r,this._storeKey=e;try{r.getItem(e)||this.resetStore()}catch{}}static getInstance(e,r="local"){if(!this.instanceMap.has(e)){let n;r==="local"&&L4("localStorage")?n=window.localStorage:r==="session"&&L4("sessionStorage")?n=window.sessionStorage:n=new H$,this.instanceMap.set(e,new this(e,n))}return this.instanceMap.get(e)}toJSON(){return this.storage.getItem(this._storeKey)}resetStore(){const e=this.getStore();return this.storage.removeItem(this._storeKey),e}getStore(){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")}get(e){return JSON.parse(this.storage.getItem(this._storeKey)||"{}")[e]}set(e,r){const n=JSON.parse(this.storage.getItem(this._storeKey)||"{}");n[e]=r,this.storage.setItem(this._storeKey,JSON.stringify(n))}}Oe(WE,"instanceMap",new Map);class V${constructor(e){if(Oe(this,"state",{}),Oe(this,"options",void 0),Oe(this,"sessionManager",void 0),Oe(this,"currentStorage",void 0),Oe(this,"_storageBaseKey","auth_store"),Oe(this,"dappState",void 0),Oe(this,"addVersionInUrls",!0),!e.clientId)throw Fa.invalidParams("clientId is required");if(e.network||(e.network=Kc.SAPPHIRE_MAINNET),e.buildEnv||(e.buildEnv=No.PRODUCTION),(e.buildEnv===No.DEVELOPMENT||e.buildEnv===No.TESTING||e.sdkUrl)&&(this.addVersionInUrls=!1),!e.sdkUrl&&!e.useMpc&&(e.buildEnv===No.DEVELOPMENT?(e.sdkUrl="http://localhost:3000",e.dashboardUrl="http://localhost:5173/wallet/account"):e.buildEnv===No.STAGING?(e.sdkUrl="https://staging-auth.web3auth.io",e.dashboardUrl="https://staging-account.web3auth.io/wallet/account"):e.buildEnv===No.TESTING?(e.sdkUrl="https://develop-auth.web3auth.io",e.dashboardUrl="https://develop-account.web3auth.io/wallet/account"):(e.sdkUrl="https://auth.web3auth.io",e.dashboardUrl="https://account.web3auth.io/wallet/account")),e.useMpc&&!e.sdkUrl){if(Object.values(jE).includes(e.network))throw Fa.invalidParams("MPC is not supported on legacy networks, please use sapphire_devnet or sapphire_mainnet.");e.buildEnv===No.DEVELOPMENT?e.sdkUrl="http://localhost:3000":e.buildEnv===No.STAGING?e.sdkUrl="https://staging-mpc-auth.web3auth.io":e.buildEnv===No.TESTING?e.sdkUrl="https://develop-mpc-auth.web3auth.io":e.sdkUrl="https://mpc-auth.web3auth.io"}!e.redirectUrl&&typeof window<"u"&&(e.redirectUrl=`${window.location.protocol}//${window.location.host}${window.location.pathname}`),e.uxMode||(e.uxMode=vo.REDIRECT),typeof e.replaceUrlOnRedirect!="boolean"&&(e.replaceUrlOnRedirect=!0),e.originData||(e.originData={}),e.whiteLabel||(e.whiteLabel={}),e.loginConfig||(e.loginConfig={}),e.mfaSettings||(e.mfaSettings={}),e.storageServerUrl||(e.storageServerUrl=kN),e.storageKey||(e.storageKey="local"),e.webauthnTransports||(e.webauthnTransports=["internal"]),e.sessionTime||(e.sessionTime=86400),this.options=e}get privKey(){return this.options.useMpc?this.state.factorKey||"":this.state.privKey?this.state.privKey.padStart(64,"0"):""}get coreKitKey(){return this.state.coreKitKey?this.state.coreKitKey.padStart(64,"0"):""}get ed25519PrivKey(){return this.state.ed25519PrivKey?this.state.ed25519PrivKey.padStart(128,"0"):""}get coreKitEd25519Key(){return this.state.coreKitEd25519PrivKey?this.state.coreKitEd25519PrivKey.padStart(128,"0"):""}get sessionId(){return this.state.sessionId||""}get sessionNamespace(){return this.options.sessionNamespace||""}get appState(){return this.state.userInfo.appState||this.dappState||""}get baseUrl(){return this.addVersionInUrls?`${this.options.sdkUrl}/v${F$.split(".")[0]}`:`${this.options.sdkUrl}`}async init(){const e=q$(this.options.replaceUrlOnRedirect);e.sessionNamespace&&(this.options.sessionNamespace=e.sessionNamespace);const r=this.options.sessionNamespace?`${this._storageBaseKey}_${this.options.sessionNamespace}`:this._storageBaseKey;this.currentStorage=WE.getInstance(r,this.options.storageKey);const n=this.currentStorage.get("sessionId");if(this.sessionManager=new cp({sessionServerBaseUrl:this.options.storageServerUrl,sessionNamespace:this.options.sessionNamespace,sessionTime:this.options.sessionTime,sessionId:n}),(this.options.network===Kc.TESTNET||this.options.network===Kc.SAPPHIRE_DEVNET)&&console.log(`%c WARNING! You are on ${this.options.network}. Please set network: 'mainnet' or 'sapphire_mainnet' in production`,"color: #FF0000"),this.options.buildEnv!==No.PRODUCTION&&console.log(`%c WARNING! You are using build env ${this.options.buildEnv}. Please set buildEnv: 'production' in production`,"color: #FF0000"),e.error)throw this.dappState=e.state,Or.loginFailed(e.error);if(e.sessionId&&(this.currentStorage.set("sessionId",e.sessionId),this.sessionManager.sessionId=e.sessionId),this.sessionManager.sessionId){const i=await this._authorizeSession();this.updateState(i),Object.keys(i).length===0&&this.currentStorage.set("sessionId","")}}async login(e){if(!e.loginProvider)throw Or.invalidLoginParams("loginProvider is required");const r={redirectUrl:this.options.redirectUrl},n=He(He({loginProvider:e.loginProvider},r),e),i={actionType:Nl.LOGIN,options:this.options,params:n},s=await this.authHandler(`${this.baseUrl}/start`,i,U4(e.loginProvider));if(this.options.uxMode===vo.REDIRECT)return null;if(s.error)throw this.dappState=s.state,Or.loginFailed(s.error);return this.sessionManager.sessionId=s.sessionId,this.options.sessionNamespace=s.sessionNamespace,this.currentStorage.set("sessionId",s.sessionId),await this.rehydrateSession(),{privKey:this.privKey}}async logout(){if(!this.sessionManager.sessionId)throw Or.userNotLoggedIn();await this.sessionManager.invalidateSession(),this.updateState({privKey:"",coreKitKey:"",coreKitEd25519PrivKey:"",ed25519PrivKey:"",walletKey:"",oAuthPrivateKey:"",tKey:"",metadataNonce:"",keyMode:void 0,userInfo:{name:"",profileImage:"",dappShare:"",idToken:"",oAuthIdToken:"",oAuthAccessToken:"",appState:"",email:"",verifier:"",verifierId:"",aggregateVerifier:"",typeOfLogin:"",isMfaEnabled:!1},authToken:"",sessionId:"",factorKey:"",signatures:[],tssShareIndex:-1,tssPubKey:"",tssShare:"",tssNonce:-1}),this.currentStorage.set("sessionId","")}async enableMFA(e){var r;if(!this.sessionId)throw Or.userNotLoggedIn();if(this.state.userInfo.isMfaEnabled)throw Or.mfaAlreadyEnabled();const n={redirectUrl:this.options.redirectUrl},i={actionType:Nl.ENABLE_MFA,options:this.options,params:He(He(He({},n),e),{},{loginProvider:this.state.userInfo.typeOfLogin,extraLoginOptions:{login_hint:this.state.userInfo.verifierId},mfaLevel:"mandatory"}),sessionId:this.sessionId},s=await this.authHandler(`${this.baseUrl}/start`,i,U4(i.params.loginProvider));if(this.options.uxMode===vo.REDIRECT)return null;if(s.error)throw this.dappState=s.state,Or.loginFailed(s.error);return this.sessionManager.sessionId=s.sessionId,this.options.sessionNamespace=s.sessionNamespace,this.currentStorage.set("sessionId",s.sessionId),await this.rehydrateSession(),!!(!((r=this.state.userInfo)===null||r===void 0)&&r.isMfaEnabled)}async manageMFA(e){if(!this.sessionId)throw Or.userNotLoggedIn();if(!this.state.userInfo.isMfaEnabled)throw Or.mfaNotEnabled();const r={redirectUrl:this.options.dashboardUrl,dappUrl:`${window.location.origin}${window.location.pathname}`},n=cp.generateRandomSessionKey(),i={actionType:Nl.MANAGE_MFA,options:this.options,params:He(He(He({},r),e),{},{loginProvider:this.state.userInfo.typeOfLogin,extraLoginOptions:{login_hint:this.state.userInfo.verifierId},appState:dp({loginId:n})}),sessionId:this.sessionId};this.createLoginSession(n,i,i.options.sessionTime,!0);const s={loginId:n,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl},o=Vp({baseURL:`${this.baseUrl}/start`,hash:{b64Params:dp(s)}});window.open(o,"_blank")}async manageSocialFactor(e,r){if(!this.sessionId)throw Or.userNotLoggedIn();const n={redirectUrl:this.options.redirectUrl},i={actionType:e,options:this.options,params:He(He({},n),r),sessionId:this.sessionId},s=await this.authHandler(`${this.baseUrl}/start`,i);if(this.options.uxMode!==vo.REDIRECT)return!s.error}async addAuthenticatorFactor(e){if(!this.sessionId)throw Or.userNotLoggedIn();const r={redirectUrl:this.options.redirectUrl},n={actionType:Nl.ADD_AUTHENTICATOR_FACTOR,options:this.options,params:He(He(He({},r),e),{},{loginProvider:zh.AUTHENTICATOR}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==vo.REDIRECT)return!i.error}async addPasskeyFactor(e){if(!this.sessionId)throw Or.userNotLoggedIn();const r={redirectUrl:this.options.redirectUrl},n={actionType:Nl.ADD_PASSKEY_FACTOR,options:this.options,params:He(He(He({},r),e),{},{loginProvider:zh.PASSKEYS}),sessionId:this.sessionId},i=await this.authHandler(`${this.baseUrl}/start`,n);if(this.options.uxMode!==vo.REDIRECT)return!i.error}getUserInfo(){if(!this.sessionManager.sessionId)throw Or.userNotLoggedIn();return this.state.userInfo}async createLoginSession(e,r,n=600,i=!1){if(!this.sessionManager)throw Fa.notInitialized();const o=new cp({sessionServerBaseUrl:r.options.storageServerUrl,sessionNamespace:r.options.sessionNamespace,sessionTime:n,sessionId:e}).createSession(JSON.parse(JSON.stringify(r)));r.options.uxMode===vo.REDIRECT&&!i&&await o}async _authorizeSession(){try{return this.sessionManager.sessionId?await this.sessionManager.authorizeSession():{}}catch(e){return F1.error("authorization failed",e),{}}}updateState(e){this.state=He(He({},this.state),e)}async rehydrateSession(){const e=await this._authorizeSession();this.updateState(e)}async authHandler(e,r,n=1e3*10){const i=cp.generateRandomSessionKey();await this.createLoginSession(i,r);const s={loginId:i,sessionNamespace:this.options.sessionNamespace,storageServerUrl:this.options.storageServerUrl};if(this.options.uxMode===vo.REDIRECT){const c=Vp({baseURL:e,hash:{b64Params:dp(s)}});window.location.href=c;return}const o=Vp({baseURL:e,hash:{b64Params:dp(s)}}),a=new W$({url:o,timeout:n});return new Promise((c,l)=>{a.on("close",()=>{l(Or.popupClosed())}),a.listenOnChannel(i).then(c).catch(l);try{a.open()}catch(g){l(g)}})}}function HE(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var VE={exports:{}};(function(t){(function(e){var r=function(z){var j,H=new Float64Array(16);if(z)for(j=0;j<z.length;j++)H[j]=z[j];return H},n=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=r(),a=r([1]),c=r([56129,1]),l=r([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),g=r([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),b=r([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),x=r([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_=r([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function E(z,j,H,C){z[j]=H>>24&255,z[j+1]=H>>16&255,z[j+2]=H>>8&255,z[j+3]=H&255,z[j+4]=C>>24&255,z[j+5]=C>>16&255,z[j+6]=C>>8&255,z[j+7]=C&255}function M(z,j,H,C,V){var ie,de=0;for(ie=0;ie<V;ie++)de|=z[j+ie]^H[C+ie];return(1&de-1>>>8)-1}function B(z,j,H,C){return M(z,j,H,C,16)}function P(z,j,H,C){return M(z,j,H,C,32)}function R(z,j,H,C){for(var V=C[0]&255|(C[1]&255)<<8|(C[2]&255)<<16|(C[3]&255)<<24,ie=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,de=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,ue=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,pe=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,$e=C[4]&255|(C[5]&255)<<8|(C[6]&255)<<16|(C[7]&255)<<24,De=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,Bt=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,tt=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,xt=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,_t=C[8]&255|(C[9]&255)<<8|(C[10]&255)<<16|(C[11]&255)<<24,mt=H[16]&255|(H[17]&255)<<8|(H[18]&255)<<16|(H[19]&255)<<24,Tt=H[20]&255|(H[21]&255)<<8|(H[22]&255)<<16|(H[23]&255)<<24,Mt=H[24]&255|(H[25]&255)<<8|(H[26]&255)<<16|(H[27]&255)<<24,kt=H[28]&255|(H[29]&255)<<8|(H[30]&255)<<16|(H[31]&255)<<24,Pt=C[12]&255|(C[13]&255)<<8|(C[14]&255)<<16|(C[15]&255)<<24,at=V,pt=ie,rt=de,ft=ue,nt=pe,et=$e,be=De,ve=Bt,ze=tt,Pe=xt,Te=_t,We=mt,$t=Tt,Ft=Mt,Wt=kt,jt=Pt,ae,Jt=0;Jt<20;Jt+=2)ae=at+$t|0,nt^=ae<<7|ae>>>25,ae=nt+at|0,ze^=ae<<9|ae>>>23,ae=ze+nt|0,$t^=ae<<13|ae>>>19,ae=$t+ze|0,at^=ae<<18|ae>>>14,ae=et+pt|0,Pe^=ae<<7|ae>>>25,ae=Pe+et|0,Ft^=ae<<9|ae>>>23,ae=Ft+Pe|0,pt^=ae<<13|ae>>>19,ae=pt+Ft|0,et^=ae<<18|ae>>>14,ae=Te+be|0,Wt^=ae<<7|ae>>>25,ae=Wt+Te|0,rt^=ae<<9|ae>>>23,ae=rt+Wt|0,be^=ae<<13|ae>>>19,ae=be+rt|0,Te^=ae<<18|ae>>>14,ae=jt+We|0,ft^=ae<<7|ae>>>25,ae=ft+jt|0,ve^=ae<<9|ae>>>23,ae=ve+ft|0,We^=ae<<13|ae>>>19,ae=We+ve|0,jt^=ae<<18|ae>>>14,ae=at+ft|0,pt^=ae<<7|ae>>>25,ae=pt+at|0,rt^=ae<<9|ae>>>23,ae=rt+pt|0,ft^=ae<<13|ae>>>19,ae=ft+rt|0,at^=ae<<18|ae>>>14,ae=et+nt|0,be^=ae<<7|ae>>>25,ae=be+et|0,ve^=ae<<9|ae>>>23,ae=ve+be|0,nt^=ae<<13|ae>>>19,ae=nt+ve|0,et^=ae<<18|ae>>>14,ae=Te+Pe|0,We^=ae<<7|ae>>>25,ae=We+Te|0,ze^=ae<<9|ae>>>23,ae=ze+We|0,Pe^=ae<<13|ae>>>19,ae=Pe+ze|0,Te^=ae<<18|ae>>>14,ae=jt+Wt|0,$t^=ae<<7|ae>>>25,ae=$t+jt|0,Ft^=ae<<9|ae>>>23,ae=Ft+$t|0,Wt^=ae<<13|ae>>>19,ae=Wt+Ft|0,jt^=ae<<18|ae>>>14;at=at+V|0,pt=pt+ie|0,rt=rt+de|0,ft=ft+ue|0,nt=nt+pe|0,et=et+$e|0,be=be+De|0,ve=ve+Bt|0,ze=ze+tt|0,Pe=Pe+xt|0,Te=Te+_t|0,We=We+mt|0,$t=$t+Tt|0,Ft=Ft+Mt|0,Wt=Wt+kt|0,jt=jt+Pt|0,z[0]=at>>>0&255,z[1]=at>>>8&255,z[2]=at>>>16&255,z[3]=at>>>24&255,z[4]=pt>>>0&255,z[5]=pt>>>8&255,z[6]=pt>>>16&255,z[7]=pt>>>24&255,z[8]=rt>>>0&255,z[9]=rt>>>8&255,z[10]=rt>>>16&255,z[11]=rt>>>24&255,z[12]=ft>>>0&255,z[13]=ft>>>8&255,z[14]=ft>>>16&255,z[15]=ft>>>24&255,z[16]=nt>>>0&255,z[17]=nt>>>8&255,z[18]=nt>>>16&255,z[19]=nt>>>24&255,z[20]=et>>>0&255,z[21]=et>>>8&255,z[22]=et>>>16&255,z[23]=et>>>24&255,z[24]=be>>>0&255,z[25]=be>>>8&255,z[26]=be>>>16&255,z[27]=be>>>24&255,z[28]=ve>>>0&255,z[29]=ve>>>8&255,z[30]=ve>>>16&255,z[31]=ve>>>24&255,z[32]=ze>>>0&255,z[33]=ze>>>8&255,z[34]=ze>>>16&255,z[35]=ze>>>24&255,z[36]=Pe>>>0&255,z[37]=Pe>>>8&255,z[38]=Pe>>>16&255,z[39]=Pe>>>24&255,z[40]=Te>>>0&255,z[41]=Te>>>8&255,z[42]=Te>>>16&255,z[43]=Te>>>24&255,z[44]=We>>>0&255,z[45]=We>>>8&255,z[46]=We>>>16&255,z[47]=We>>>24&255,z[48]=$t>>>0&255,z[49]=$t>>>8&255,z[50]=$t>>>16&255,z[51]=$t>>>24&255,z[52]=Ft>>>0&255,z[53]=Ft>>>8&255,z[54]=Ft>>>16&255,z[55]=Ft>>>24&255,z[56]=Wt>>>0&255,z[57]=Wt>>>8&255,z[58]=Wt>>>16&255,z[59]=Wt>>>24&255,z[60]=jt>>>0&255,z[61]=jt>>>8&255,z[62]=jt>>>16&255,z[63]=jt>>>24&255}function D(z,j,H,C){for(var V=C[0]&255|(C[1]&255)<<8|(C[2]&255)<<16|(C[3]&255)<<24,ie=H[0]&255|(H[1]&255)<<8|(H[2]&255)<<16|(H[3]&255)<<24,de=H[4]&255|(H[5]&255)<<8|(H[6]&255)<<16|(H[7]&255)<<24,ue=H[8]&255|(H[9]&255)<<8|(H[10]&255)<<16|(H[11]&255)<<24,pe=H[12]&255|(H[13]&255)<<8|(H[14]&255)<<16|(H[15]&255)<<24,$e=C[4]&255|(C[5]&255)<<8|(C[6]&255)<<16|(C[7]&255)<<24,De=j[0]&255|(j[1]&255)<<8|(j[2]&255)<<16|(j[3]&255)<<24,Bt=j[4]&255|(j[5]&255)<<8|(j[6]&255)<<16|(j[7]&255)<<24,tt=j[8]&255|(j[9]&255)<<8|(j[10]&255)<<16|(j[11]&255)<<24,xt=j[12]&255|(j[13]&255)<<8|(j[14]&255)<<16|(j[15]&255)<<24,_t=C[8]&255|(C[9]&255)<<8|(C[10]&255)<<16|(C[11]&255)<<24,mt=H[16]&255|(H[17]&255)<<8|(H[18]&255)<<16|(H[19]&255)<<24,Tt=H[20]&255|(H[21]&255)<<8|(H[22]&255)<<16|(H[23]&255)<<24,Mt=H[24]&255|(H[25]&255)<<8|(H[26]&255)<<16|(H[27]&255)<<24,kt=H[28]&255|(H[29]&255)<<8|(H[30]&255)<<16|(H[31]&255)<<24,Pt=C[12]&255|(C[13]&255)<<8|(C[14]&255)<<16|(C[15]&255)<<24,at=V,pt=ie,rt=de,ft=ue,nt=pe,et=$e,be=De,ve=Bt,ze=tt,Pe=xt,Te=_t,We=mt,$t=Tt,Ft=Mt,Wt=kt,jt=Pt,ae,Jt=0;Jt<20;Jt+=2)ae=at+$t|0,nt^=ae<<7|ae>>>25,ae=nt+at|0,ze^=ae<<9|ae>>>23,ae=ze+nt|0,$t^=ae<<13|ae>>>19,ae=$t+ze|0,at^=ae<<18|ae>>>14,ae=et+pt|0,Pe^=ae<<7|ae>>>25,ae=Pe+et|0,Ft^=ae<<9|ae>>>23,ae=Ft+Pe|0,pt^=ae<<13|ae>>>19,ae=pt+Ft|0,et^=ae<<18|ae>>>14,ae=Te+be|0,Wt^=ae<<7|ae>>>25,ae=Wt+Te|0,rt^=ae<<9|ae>>>23,ae=rt+Wt|0,be^=ae<<13|ae>>>19,ae=be+rt|0,Te^=ae<<18|ae>>>14,ae=jt+We|0,ft^=ae<<7|ae>>>25,ae=ft+jt|0,ve^=ae<<9|ae>>>23,ae=ve+ft|0,We^=ae<<13|ae>>>19,ae=We+ve|0,jt^=ae<<18|ae>>>14,ae=at+ft|0,pt^=ae<<7|ae>>>25,ae=pt+at|0,rt^=ae<<9|ae>>>23,ae=rt+pt|0,ft^=ae<<13|ae>>>19,ae=ft+rt|0,at^=ae<<18|ae>>>14,ae=et+nt|0,be^=ae<<7|ae>>>25,ae=be+et|0,ve^=ae<<9|ae>>>23,ae=ve+be|0,nt^=ae<<13|ae>>>19,ae=nt+ve|0,et^=ae<<18|ae>>>14,ae=Te+Pe|0,We^=ae<<7|ae>>>25,ae=We+Te|0,ze^=ae<<9|ae>>>23,ae=ze+We|0,Pe^=ae<<13|ae>>>19,ae=Pe+ze|0,Te^=ae<<18|ae>>>14,ae=jt+Wt|0,$t^=ae<<7|ae>>>25,ae=$t+jt|0,Ft^=ae<<9|ae>>>23,ae=Ft+$t|0,Wt^=ae<<13|ae>>>19,ae=Wt+Ft|0,jt^=ae<<18|ae>>>14;z[0]=at>>>0&255,z[1]=at>>>8&255,z[2]=at>>>16&255,z[3]=at>>>24&255,z[4]=et>>>0&255,z[5]=et>>>8&255,z[6]=et>>>16&255,z[7]=et>>>24&255,z[8]=Te>>>0&255,z[9]=Te>>>8&255,z[10]=Te>>>16&255,z[11]=Te>>>24&255,z[12]=jt>>>0&255,z[13]=jt>>>8&255,z[14]=jt>>>16&255,z[15]=jt>>>24&255,z[16]=be>>>0&255,z[17]=be>>>8&255,z[18]=be>>>16&255,z[19]=be>>>24&255,z[20]=ve>>>0&255,z[21]=ve>>>8&255,z[22]=ve>>>16&255,z[23]=ve>>>24&255,z[24]=ze>>>0&255,z[25]=ze>>>8&255,z[26]=ze>>>16&255,z[27]=ze>>>24&255,z[28]=Pe>>>0&255,z[29]=Pe>>>8&255,z[30]=Pe>>>16&255,z[31]=Pe>>>24&255}function U(z,j,H,C){R(z,j,H,C)}function F(z,j,H,C){D(z,j,H,C)}var W=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function k(z,j,H,C,V,ie,de){var ue=new Uint8Array(16),pe=new Uint8Array(64),$e,De;for(De=0;De<16;De++)ue[De]=0;for(De=0;De<8;De++)ue[De]=ie[De];for(;V>=64;){for(U(pe,ue,de,W),De=0;De<64;De++)z[j+De]=H[C+De]^pe[De];for($e=1,De=8;De<16;De++)$e=$e+(ue[De]&255)|0,ue[De]=$e&255,$e>>>=8;V-=64,j+=64,C+=64}if(V>0)for(U(pe,ue,de,W),De=0;De<V;De++)z[j+De]=H[C+De]^pe[De];return 0}function K(z,j,H,C,V){var ie=new Uint8Array(16),de=new Uint8Array(64),ue,pe;for(pe=0;pe<16;pe++)ie[pe]=0;for(pe=0;pe<8;pe++)ie[pe]=C[pe];for(;H>=64;){for(U(de,ie,V,W),pe=0;pe<64;pe++)z[j+pe]=de[pe];for(ue=1,pe=8;pe<16;pe++)ue=ue+(ie[pe]&255)|0,ie[pe]=ue&255,ue>>>=8;H-=64,j+=64}if(H>0)for(U(de,ie,V,W),pe=0;pe<H;pe++)z[j+pe]=de[pe];return 0}function te(z,j,H,C,V){var ie=new Uint8Array(32);F(ie,C,V,W);for(var de=new Uint8Array(8),ue=0;ue<8;ue++)de[ue]=C[ue+16];return K(z,j,H,de,ie)}function ce(z,j,H,C,V,ie,de){var ue=new Uint8Array(32);F(ue,ie,de,W);for(var pe=new Uint8Array(8),$e=0;$e<8;$e++)pe[$e]=ie[$e+16];return k(z,j,H,C,V,pe,ue)}var A=function(z){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var j,H,C,V,ie,de,ue,pe;j=z[0]&255|(z[1]&255)<<8,this.r[0]=j&8191,H=z[2]&255|(z[3]&255)<<8,this.r[1]=(j>>>13|H<<3)&8191,C=z[4]&255|(z[5]&255)<<8,this.r[2]=(H>>>10|C<<6)&7939,V=z[6]&255|(z[7]&255)<<8,this.r[3]=(C>>>7|V<<9)&8191,ie=z[8]&255|(z[9]&255)<<8,this.r[4]=(V>>>4|ie<<12)&255,this.r[5]=ie>>>1&8190,de=z[10]&255|(z[11]&255)<<8,this.r[6]=(ie>>>14|de<<2)&8191,ue=z[12]&255|(z[13]&255)<<8,this.r[7]=(de>>>11|ue<<5)&8065,pe=z[14]&255|(z[15]&255)<<8,this.r[8]=(ue>>>8|pe<<8)&8191,this.r[9]=pe>>>5&127,this.pad[0]=z[16]&255|(z[17]&255)<<8,this.pad[1]=z[18]&255|(z[19]&255)<<8,this.pad[2]=z[20]&255|(z[21]&255)<<8,this.pad[3]=z[22]&255|(z[23]&255)<<8,this.pad[4]=z[24]&255|(z[25]&255)<<8,this.pad[5]=z[26]&255|(z[27]&255)<<8,this.pad[6]=z[28]&255|(z[29]&255)<<8,this.pad[7]=z[30]&255|(z[31]&255)<<8};A.prototype.blocks=function(z,j,H){for(var C=this.fin?0:2048,V,ie,de,ue,pe,$e,De,Bt,tt,xt,_t,mt,Tt,Mt,kt,Pt,at,pt,rt,ft=this.h[0],nt=this.h[1],et=this.h[2],be=this.h[3],ve=this.h[4],ze=this.h[5],Pe=this.h[6],Te=this.h[7],We=this.h[8],$t=this.h[9],Ft=this.r[0],Wt=this.r[1],jt=this.r[2],ae=this.r[3],Jt=this.r[4],fr=this.r[5],ur=this.r[6],Vt=this.r[7],sr=this.r[8],or=this.r[9];H>=16;)V=z[j+0]&255|(z[j+1]&255)<<8,ft+=V&8191,ie=z[j+2]&255|(z[j+3]&255)<<8,nt+=(V>>>13|ie<<3)&8191,de=z[j+4]&255|(z[j+5]&255)<<8,et+=(ie>>>10|de<<6)&8191,ue=z[j+6]&255|(z[j+7]&255)<<8,be+=(de>>>7|ue<<9)&8191,pe=z[j+8]&255|(z[j+9]&255)<<8,ve+=(ue>>>4|pe<<12)&8191,ze+=pe>>>1&8191,$e=z[j+10]&255|(z[j+11]&255)<<8,Pe+=(pe>>>14|$e<<2)&8191,De=z[j+12]&255|(z[j+13]&255)<<8,Te+=($e>>>11|De<<5)&8191,Bt=z[j+14]&255|(z[j+15]&255)<<8,We+=(De>>>8|Bt<<8)&8191,$t+=Bt>>>5|C,tt=0,xt=tt,xt+=ft*Ft,xt+=nt*(5*or),xt+=et*(5*sr),xt+=be*(5*Vt),xt+=ve*(5*ur),tt=xt>>>13,xt&=8191,xt+=ze*(5*fr),xt+=Pe*(5*Jt),xt+=Te*(5*ae),xt+=We*(5*jt),xt+=$t*(5*Wt),tt+=xt>>>13,xt&=8191,_t=tt,_t+=ft*Wt,_t+=nt*Ft,_t+=et*(5*or),_t+=be*(5*sr),_t+=ve*(5*Vt),tt=_t>>>13,_t&=8191,_t+=ze*(5*ur),_t+=Pe*(5*fr),_t+=Te*(5*Jt),_t+=We*(5*ae),_t+=$t*(5*jt),tt+=_t>>>13,_t&=8191,mt=tt,mt+=ft*jt,mt+=nt*Wt,mt+=et*Ft,mt+=be*(5*or),mt+=ve*(5*sr),tt=mt>>>13,mt&=8191,mt+=ze*(5*Vt),mt+=Pe*(5*ur),mt+=Te*(5*fr),mt+=We*(5*Jt),mt+=$t*(5*ae),tt+=mt>>>13,mt&=8191,Tt=tt,Tt+=ft*ae,Tt+=nt*jt,Tt+=et*Wt,Tt+=be*Ft,Tt+=ve*(5*or),tt=Tt>>>13,Tt&=8191,Tt+=ze*(5*sr),Tt+=Pe*(5*Vt),Tt+=Te*(5*ur),Tt+=We*(5*fr),Tt+=$t*(5*Jt),tt+=Tt>>>13,Tt&=8191,Mt=tt,Mt+=ft*Jt,Mt+=nt*ae,Mt+=et*jt,Mt+=be*Wt,Mt+=ve*Ft,tt=Mt>>>13,Mt&=8191,Mt+=ze*(5*or),Mt+=Pe*(5*sr),Mt+=Te*(5*Vt),Mt+=We*(5*ur),Mt+=$t*(5*fr),tt+=Mt>>>13,Mt&=8191,kt=tt,kt+=ft*fr,kt+=nt*Jt,kt+=et*ae,kt+=be*jt,kt+=ve*Wt,tt=kt>>>13,kt&=8191,kt+=ze*Ft,kt+=Pe*(5*or),kt+=Te*(5*sr),kt+=We*(5*Vt),kt+=$t*(5*ur),tt+=kt>>>13,kt&=8191,Pt=tt,Pt+=ft*ur,Pt+=nt*fr,Pt+=et*Jt,Pt+=be*ae,Pt+=ve*jt,tt=Pt>>>13,Pt&=8191,Pt+=ze*Wt,Pt+=Pe*Ft,Pt+=Te*(5*or),Pt+=We*(5*sr),Pt+=$t*(5*Vt),tt+=Pt>>>13,Pt&=8191,at=tt,at+=ft*Vt,at+=nt*ur,at+=et*fr,at+=be*Jt,at+=ve*ae,tt=at>>>13,at&=8191,at+=ze*jt,at+=Pe*Wt,at+=Te*Ft,at+=We*(5*or),at+=$t*(5*sr),tt+=at>>>13,at&=8191,pt=tt,pt+=ft*sr,pt+=nt*Vt,pt+=et*ur,pt+=be*fr,pt+=ve*Jt,tt=pt>>>13,pt&=8191,pt+=ze*ae,pt+=Pe*jt,pt+=Te*Wt,pt+=We*Ft,pt+=$t*(5*or),tt+=pt>>>13,pt&=8191,rt=tt,rt+=ft*or,rt+=nt*sr,rt+=et*Vt,rt+=be*ur,rt+=ve*fr,tt=rt>>>13,rt&=8191,rt+=ze*Jt,rt+=Pe*ae,rt+=Te*jt,rt+=We*Wt,rt+=$t*Ft,tt+=rt>>>13,rt&=8191,tt=(tt<<2)+tt|0,tt=tt+xt|0,xt=tt&8191,tt=tt>>>13,_t+=tt,ft=xt,nt=_t,et=mt,be=Tt,ve=Mt,ze=kt,Pe=Pt,Te=at,We=pt,$t=rt,j+=16,H-=16;this.h[0]=ft,this.h[1]=nt,this.h[2]=et,this.h[3]=be,this.h[4]=ve,this.h[5]=ze,this.h[6]=Pe,this.h[7]=Te,this.h[8]=We,this.h[9]=$t},A.prototype.finish=function(z,j){var H=new Uint16Array(10),C,V,ie,de;if(this.leftover){for(de=this.leftover,this.buffer[de++]=1;de<16;de++)this.buffer[de]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(C=this.h[1]>>>13,this.h[1]&=8191,de=2;de<10;de++)this.h[de]+=C,C=this.h[de]>>>13,this.h[de]&=8191;for(this.h[0]+=C*5,C=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=C,C=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=C,H[0]=this.h[0]+5,C=H[0]>>>13,H[0]&=8191,de=1;de<10;de++)H[de]=this.h[de]+C,C=H[de]>>>13,H[de]&=8191;for(H[9]-=8192,V=(C^1)-1,de=0;de<10;de++)H[de]&=V;for(V=~V,de=0;de<10;de++)this.h[de]=this.h[de]&V|H[de];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,ie=this.h[0]+this.pad[0],this.h[0]=ie&65535,de=1;de<8;de++)ie=(this.h[de]+this.pad[de]|0)+(ie>>>16)|0,this.h[de]=ie&65535;z[j+0]=this.h[0]>>>0&255,z[j+1]=this.h[0]>>>8&255,z[j+2]=this.h[1]>>>0&255,z[j+3]=this.h[1]>>>8&255,z[j+4]=this.h[2]>>>0&255,z[j+5]=this.h[2]>>>8&255,z[j+6]=this.h[3]>>>0&255,z[j+7]=this.h[3]>>>8&255,z[j+8]=this.h[4]>>>0&255,z[j+9]=this.h[4]>>>8&255,z[j+10]=this.h[5]>>>0&255,z[j+11]=this.h[5]>>>8&255,z[j+12]=this.h[6]>>>0&255,z[j+13]=this.h[6]>>>8&255,z[j+14]=this.h[7]>>>0&255,z[j+15]=this.h[7]>>>8&255},A.prototype.update=function(z,j,H){var C,V;if(this.leftover){for(V=16-this.leftover,V>H&&(V=H),C=0;C<V;C++)this.buffer[this.leftover+C]=z[j+C];if(H-=V,j+=V,this.leftover+=V,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(H>=16&&(V=H-H%16,this.blocks(z,j,V),j+=V,H-=V),H){for(C=0;C<H;C++)this.buffer[this.leftover+C]=z[j+C];this.leftover+=H}};function f(z,j,H,C,V,ie){var de=new A(ie);return de.update(H,C,V),de.finish(z,j),0}function h(z,j,H,C,V,ie){var de=new Uint8Array(16);return f(de,0,H,C,V,ie),B(z,j,de,0)}function d(z,j,H,C,V){var ie;if(H<32)return-1;for(ce(z,0,j,0,H,C,V),f(z,16,z,32,H-32,z),ie=0;ie<16;ie++)z[ie]=0;return 0}function p(z,j,H,C,V){var ie,de=new Uint8Array(32);if(H<32||(te(de,0,32,C,V),h(j,16,j,32,H-32,de)!==0))return-1;for(ce(z,0,j,0,H,C,V),ie=0;ie<32;ie++)z[ie]=0;return 0}function v(z,j){var H;for(H=0;H<16;H++)z[H]=j[H]|0}function w(z){var j,H,C=1;for(j=0;j<16;j++)H=z[j]+C+65535,C=Math.floor(H/65536),z[j]=H-C*65536;z[0]+=C-1+37*(C-1)}function S(z,j,H){for(var C,V=~(H-1),ie=0;ie<16;ie++)C=V&(z[ie]^j[ie]),z[ie]^=C,j[ie]^=C}function y(z,j){var H,C,V,ie=r(),de=r();for(H=0;H<16;H++)de[H]=j[H];for(w(de),w(de),w(de),C=0;C<2;C++){for(ie[0]=de[0]-65517,H=1;H<15;H++)ie[H]=de[H]-65535-(ie[H-1]>>16&1),ie[H-1]&=65535;ie[15]=de[15]-32767-(ie[14]>>16&1),V=ie[15]>>16&1,ie[14]&=65535,S(de,ie,1-V)}for(H=0;H<16;H++)z[2*H]=de[H]&255,z[2*H+1]=de[H]>>8}function u(z,j){var H=new Uint8Array(32),C=new Uint8Array(32);return y(H,z),y(C,j),P(H,0,C,0)}function m(z){var j=new Uint8Array(32);return y(j,z),j[0]&1}function I(z,j){var H;for(H=0;H<16;H++)z[H]=j[2*H]+(j[2*H+1]<<8);z[15]&=32767}function $(z,j,H){for(var C=0;C<16;C++)z[C]=j[C]+H[C]}function Z(z,j,H){for(var C=0;C<16;C++)z[C]=j[C]-H[C]}function O(z,j,H){var C,V,ie=0,de=0,ue=0,pe=0,$e=0,De=0,Bt=0,tt=0,xt=0,_t=0,mt=0,Tt=0,Mt=0,kt=0,Pt=0,at=0,pt=0,rt=0,ft=0,nt=0,et=0,be=0,ve=0,ze=0,Pe=0,Te=0,We=0,$t=0,Ft=0,Wt=0,jt=0,ae=H[0],Jt=H[1],fr=H[2],ur=H[3],Vt=H[4],sr=H[5],or=H[6],Vr=H[7],hr=H[8],xr=H[9],Gr=H[10],Yr=H[11],Ir=H[12],Mn=H[13],Pn=H[14],kn=H[15];C=j[0],ie+=C*ae,de+=C*Jt,ue+=C*fr,pe+=C*ur,$e+=C*Vt,De+=C*sr,Bt+=C*or,tt+=C*Vr,xt+=C*hr,_t+=C*xr,mt+=C*Gr,Tt+=C*Yr,Mt+=C*Ir,kt+=C*Mn,Pt+=C*Pn,at+=C*kn,C=j[1],de+=C*ae,ue+=C*Jt,pe+=C*fr,$e+=C*ur,De+=C*Vt,Bt+=C*sr,tt+=C*or,xt+=C*Vr,_t+=C*hr,mt+=C*xr,Tt+=C*Gr,Mt+=C*Yr,kt+=C*Ir,Pt+=C*Mn,at+=C*Pn,pt+=C*kn,C=j[2],ue+=C*ae,pe+=C*Jt,$e+=C*fr,De+=C*ur,Bt+=C*Vt,tt+=C*sr,xt+=C*or,_t+=C*Vr,mt+=C*hr,Tt+=C*xr,Mt+=C*Gr,kt+=C*Yr,Pt+=C*Ir,at+=C*Mn,pt+=C*Pn,rt+=C*kn,C=j[3],pe+=C*ae,$e+=C*Jt,De+=C*fr,Bt+=C*ur,tt+=C*Vt,xt+=C*sr,_t+=C*or,mt+=C*Vr,Tt+=C*hr,Mt+=C*xr,kt+=C*Gr,Pt+=C*Yr,at+=C*Ir,pt+=C*Mn,rt+=C*Pn,ft+=C*kn,C=j[4],$e+=C*ae,De+=C*Jt,Bt+=C*fr,tt+=C*ur,xt+=C*Vt,_t+=C*sr,mt+=C*or,Tt+=C*Vr,Mt+=C*hr,kt+=C*xr,Pt+=C*Gr,at+=C*Yr,pt+=C*Ir,rt+=C*Mn,ft+=C*Pn,nt+=C*kn,C=j[5],De+=C*ae,Bt+=C*Jt,tt+=C*fr,xt+=C*ur,_t+=C*Vt,mt+=C*sr,Tt+=C*or,Mt+=C*Vr,kt+=C*hr,Pt+=C*xr,at+=C*Gr,pt+=C*Yr,rt+=C*Ir,ft+=C*Mn,nt+=C*Pn,et+=C*kn,C=j[6],Bt+=C*ae,tt+=C*Jt,xt+=C*fr,_t+=C*ur,mt+=C*Vt,Tt+=C*sr,Mt+=C*or,kt+=C*Vr,Pt+=C*hr,at+=C*xr,pt+=C*Gr,rt+=C*Yr,ft+=C*Ir,nt+=C*Mn,et+=C*Pn,be+=C*kn,C=j[7],tt+=C*ae,xt+=C*Jt,_t+=C*fr,mt+=C*ur,Tt+=C*Vt,Mt+=C*sr,kt+=C*or,Pt+=C*Vr,at+=C*hr,pt+=C*xr,rt+=C*Gr,ft+=C*Yr,nt+=C*Ir,et+=C*Mn,be+=C*Pn,ve+=C*kn,C=j[8],xt+=C*ae,_t+=C*Jt,mt+=C*fr,Tt+=C*ur,Mt+=C*Vt,kt+=C*sr,Pt+=C*or,at+=C*Vr,pt+=C*hr,rt+=C*xr,ft+=C*Gr,nt+=C*Yr,et+=C*Ir,be+=C*Mn,ve+=C*Pn,ze+=C*kn,C=j[9],_t+=C*ae,mt+=C*Jt,Tt+=C*fr,Mt+=C*ur,kt+=C*Vt,Pt+=C*sr,at+=C*or,pt+=C*Vr,rt+=C*hr,ft+=C*xr,nt+=C*Gr,et+=C*Yr,be+=C*Ir,ve+=C*Mn,ze+=C*Pn,Pe+=C*kn,C=j[10],mt+=C*ae,Tt+=C*Jt,Mt+=C*fr,kt+=C*ur,Pt+=C*Vt,at+=C*sr,pt+=C*or,rt+=C*Vr,ft+=C*hr,nt+=C*xr,et+=C*Gr,be+=C*Yr,ve+=C*Ir,ze+=C*Mn,Pe+=C*Pn,Te+=C*kn,C=j[11],Tt+=C*ae,Mt+=C*Jt,kt+=C*fr,Pt+=C*ur,at+=C*Vt,pt+=C*sr,rt+=C*or,ft+=C*Vr,nt+=C*hr,et+=C*xr,be+=C*Gr,ve+=C*Yr,ze+=C*Ir,Pe+=C*Mn,Te+=C*Pn,We+=C*kn,C=j[12],Mt+=C*ae,kt+=C*Jt,Pt+=C*fr,at+=C*ur,pt+=C*Vt,rt+=C*sr,ft+=C*or,nt+=C*Vr,et+=C*hr,be+=C*xr,ve+=C*Gr,ze+=C*Yr,Pe+=C*Ir,Te+=C*Mn,We+=C*Pn,$t+=C*kn,C=j[13],kt+=C*ae,Pt+=C*Jt,at+=C*fr,pt+=C*ur,rt+=C*Vt,ft+=C*sr,nt+=C*or,et+=C*Vr,be+=C*hr,ve+=C*xr,ze+=C*Gr,Pe+=C*Yr,Te+=C*Ir,We+=C*Mn,$t+=C*Pn,Ft+=C*kn,C=j[14],Pt+=C*ae,at+=C*Jt,pt+=C*fr,rt+=C*ur,ft+=C*Vt,nt+=C*sr,et+=C*or,be+=C*Vr,ve+=C*hr,ze+=C*xr,Pe+=C*Gr,Te+=C*Yr,We+=C*Ir,$t+=C*Mn,Ft+=C*Pn,Wt+=C*kn,C=j[15],at+=C*ae,pt+=C*Jt,rt+=C*fr,ft+=C*ur,nt+=C*Vt,et+=C*sr,be+=C*or,ve+=C*Vr,ze+=C*hr,Pe+=C*xr,Te+=C*Gr,We+=C*Yr,$t+=C*Ir,Ft+=C*Mn,Wt+=C*Pn,jt+=C*kn,ie+=38*pt,de+=38*rt,ue+=38*ft,pe+=38*nt,$e+=38*et,De+=38*be,Bt+=38*ve,tt+=38*ze,xt+=38*Pe,_t+=38*Te,mt+=38*We,Tt+=38*$t,Mt+=38*Ft,kt+=38*Wt,Pt+=38*jt,V=1,C=ie+V+65535,V=Math.floor(C/65536),ie=C-V*65536,C=de+V+65535,V=Math.floor(C/65536),de=C-V*65536,C=ue+V+65535,V=Math.floor(C/65536),ue=C-V*65536,C=pe+V+65535,V=Math.floor(C/65536),pe=C-V*65536,C=$e+V+65535,V=Math.floor(C/65536),$e=C-V*65536,C=De+V+65535,V=Math.floor(C/65536),De=C-V*65536,C=Bt+V+65535,V=Math.floor(C/65536),Bt=C-V*65536,C=tt+V+65535,V=Math.floor(C/65536),tt=C-V*65536,C=xt+V+65535,V=Math.floor(C/65536),xt=C-V*65536,C=_t+V+65535,V=Math.floor(C/65536),_t=C-V*65536,C=mt+V+65535,V=Math.floor(C/65536),mt=C-V*65536,C=Tt+V+65535,V=Math.floor(C/65536),Tt=C-V*65536,C=Mt+V+65535,V=Math.floor(C/65536),Mt=C-V*65536,C=kt+V+65535,V=Math.floor(C/65536),kt=C-V*65536,C=Pt+V+65535,V=Math.floor(C/65536),Pt=C-V*65536,C=at+V+65535,V=Math.floor(C/65536),at=C-V*65536,ie+=V-1+37*(V-1),V=1,C=ie+V+65535,V=Math.floor(C/65536),ie=C-V*65536,C=de+V+65535,V=Math.floor(C/65536),de=C-V*65536,C=ue+V+65535,V=Math.floor(C/65536),ue=C-V*65536,C=pe+V+65535,V=Math.floor(C/65536),pe=C-V*65536,C=$e+V+65535,V=Math.floor(C/65536),$e=C-V*65536,C=De+V+65535,V=Math.floor(C/65536),De=C-V*65536,C=Bt+V+65535,V=Math.floor(C/65536),Bt=C-V*65536,C=tt+V+65535,V=Math.floor(C/65536),tt=C-V*65536,C=xt+V+65535,V=Math.floor(C/65536),xt=C-V*65536,C=_t+V+65535,V=Math.floor(C/65536),_t=C-V*65536,C=mt+V+65535,V=Math.floor(C/65536),mt=C-V*65536,C=Tt+V+65535,V=Math.floor(C/65536),Tt=C-V*65536,C=Mt+V+65535,V=Math.floor(C/65536),Mt=C-V*65536,C=kt+V+65535,V=Math.floor(C/65536),kt=C-V*65536,C=Pt+V+65535,V=Math.floor(C/65536),Pt=C-V*65536,C=at+V+65535,V=Math.floor(C/65536),at=C-V*65536,ie+=V-1+37*(V-1),z[0]=ie,z[1]=de,z[2]=ue,z[3]=pe,z[4]=$e,z[5]=De,z[6]=Bt,z[7]=tt,z[8]=xt,z[9]=_t,z[10]=mt,z[11]=Tt,z[12]=Mt,z[13]=kt,z[14]=Pt,z[15]=at}function Q(z,j){O(z,j,j)}function Y(z,j){var H=r(),C;for(C=0;C<16;C++)H[C]=j[C];for(C=253;C>=0;C--)Q(H,H),C!==2&&C!==4&&O(H,H,j);for(C=0;C<16;C++)z[C]=H[C]}function X(z,j){var H=r(),C;for(C=0;C<16;C++)H[C]=j[C];for(C=250;C>=0;C--)Q(H,H),C!==1&&O(H,H,j);for(C=0;C<16;C++)z[C]=H[C]}function J(z,j,H){var C=new Uint8Array(32),V=new Float64Array(80),ie,de,ue=r(),pe=r(),$e=r(),De=r(),Bt=r(),tt=r();for(de=0;de<31;de++)C[de]=j[de];for(C[31]=j[31]&127|64,C[0]&=248,I(V,H),de=0;de<16;de++)pe[de]=V[de],De[de]=ue[de]=$e[de]=0;for(ue[0]=De[0]=1,de=254;de>=0;--de)ie=C[de>>>3]>>>(de&7)&1,S(ue,pe,ie),S($e,De,ie),$(Bt,ue,$e),Z(ue,ue,$e),$($e,pe,De),Z(pe,pe,De),Q(De,Bt),Q(tt,ue),O(ue,$e,ue),O($e,pe,Bt),$(Bt,ue,$e),Z(ue,ue,$e),Q(pe,ue),Z($e,De,tt),O(ue,$e,c),$(ue,ue,De),O($e,$e,ue),O(ue,De,tt),O(De,pe,V),Q(pe,Bt),S(ue,pe,ie),S($e,De,ie);for(de=0;de<16;de++)V[de+16]=ue[de],V[de+32]=$e[de],V[de+48]=pe[de],V[de+64]=De[de];var xt=V.subarray(32),_t=V.subarray(16);return Y(xt,xt),O(_t,_t,xt),y(z,_t),0}function N(z,j){return J(z,j,s)}function ee(z,j){return n(j,32),N(z,j)}function se(z,j,H){var C=new Uint8Array(32);return J(C,H,j),F(z,i,C,W)}var le=d,Ee=p;function ye(z,j,H,C,V,ie){var de=new Uint8Array(32);return se(de,V,ie),le(z,j,H,C,de)}function Be(z,j,H,C,V,ie){var de=new Uint8Array(32);return se(de,V,ie),Ee(z,j,H,C,de)}var bt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ke(z,j,H,C){for(var V=new Int32Array(16),ie=new Int32Array(16),de,ue,pe,$e,De,Bt,tt,xt,_t,mt,Tt,Mt,kt,Pt,at,pt,rt,ft,nt,et,be,ve,ze,Pe,Te,We,$t=z[0],Ft=z[1],Wt=z[2],jt=z[3],ae=z[4],Jt=z[5],fr=z[6],ur=z[7],Vt=j[0],sr=j[1],or=j[2],Vr=j[3],hr=j[4],xr=j[5],Gr=j[6],Yr=j[7],Ir=0;C>=128;){for(nt=0;nt<16;nt++)et=8*nt+Ir,V[nt]=H[et+0]<<24|H[et+1]<<16|H[et+2]<<8|H[et+3],ie[nt]=H[et+4]<<24|H[et+5]<<16|H[et+6]<<8|H[et+7];for(nt=0;nt<80;nt++)if(de=$t,ue=Ft,pe=Wt,$e=jt,De=ae,Bt=Jt,tt=fr,xt=ur,_t=Vt,mt=sr,Tt=or,Mt=Vr,kt=hr,Pt=xr,at=Gr,pt=Yr,be=ur,ve=Yr,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=(ae>>>14|hr<<18)^(ae>>>18|hr<<14)^(hr>>>9|ae<<23),ve=(hr>>>14|ae<<18)^(hr>>>18|ae<<14)^(ae>>>9|hr<<23),ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,be=ae&Jt^~ae&fr,ve=hr&xr^~hr&Gr,ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,be=bt[nt*2],ve=bt[nt*2+1],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,be=V[nt%16],ve=ie[nt%16],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,rt=Te&65535|We<<16,ft=ze&65535|Pe<<16,be=rt,ve=ft,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=($t>>>28|Vt<<4)^(Vt>>>2|$t<<30)^(Vt>>>7|$t<<25),ve=(Vt>>>28|$t<<4)^($t>>>2|Vt<<30)^($t>>>7|Vt<<25),ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,be=$t&Ft^$t&Wt^Ft&Wt,ve=Vt&sr^Vt&or^sr&or,ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,xt=Te&65535|We<<16,pt=ze&65535|Pe<<16,be=$e,ve=Mt,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=rt,ve=ft,ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,$e=Te&65535|We<<16,Mt=ze&65535|Pe<<16,Ft=de,Wt=ue,jt=pe,ae=$e,Jt=De,fr=Bt,ur=tt,$t=xt,sr=_t,or=mt,Vr=Tt,hr=Mt,xr=kt,Gr=Pt,Yr=at,Vt=pt,nt%16===15)for(et=0;et<16;et++)be=V[et],ve=ie[et],ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=V[(et+9)%16],ve=ie[(et+9)%16],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,rt=V[(et+1)%16],ft=ie[(et+1)%16],be=(rt>>>1|ft<<31)^(rt>>>8|ft<<24)^rt>>>7,ve=(ft>>>1|rt<<31)^(ft>>>8|rt<<24)^(ft>>>7|rt<<25),ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,rt=V[(et+14)%16],ft=ie[(et+14)%16],be=(rt>>>19|ft<<13)^(ft>>>29|rt<<3)^rt>>>6,ve=(ft>>>19|rt<<13)^(rt>>>29|ft<<3)^(ft>>>6|rt<<26),ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,V[et]=Te&65535|We<<16,ie[et]=ze&65535|Pe<<16;be=$t,ve=Vt,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=z[0],ve=j[0],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,z[0]=$t=Te&65535|We<<16,j[0]=Vt=ze&65535|Pe<<16,be=Ft,ve=sr,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=z[1],ve=j[1],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,z[1]=Ft=Te&65535|We<<16,j[1]=sr=ze&65535|Pe<<16,be=Wt,ve=or,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=z[2],ve=j[2],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,z[2]=Wt=Te&65535|We<<16,j[2]=or=ze&65535|Pe<<16,be=jt,ve=Vr,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=z[3],ve=j[3],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,z[3]=jt=Te&65535|We<<16,j[3]=Vr=ze&65535|Pe<<16,be=ae,ve=hr,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=z[4],ve=j[4],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,z[4]=ae=Te&65535|We<<16,j[4]=hr=ze&65535|Pe<<16,be=Jt,ve=xr,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=z[5],ve=j[5],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,z[5]=Jt=Te&65535|We<<16,j[5]=xr=ze&65535|Pe<<16,be=fr,ve=Gr,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=z[6],ve=j[6],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,z[6]=fr=Te&65535|We<<16,j[6]=Gr=ze&65535|Pe<<16,be=ur,ve=Yr,ze=ve&65535,Pe=ve>>>16,Te=be&65535,We=be>>>16,be=z[7],ve=j[7],ze+=ve&65535,Pe+=ve>>>16,Te+=be&65535,We+=be>>>16,Pe+=ze>>>16,Te+=Pe>>>16,We+=Te>>>16,z[7]=ur=Te&65535|We<<16,j[7]=Yr=ze&65535|Pe<<16,Ir+=128,C-=128}return C}function Ke(z,j,H){var C=new Int32Array(8),V=new Int32Array(8),ie=new Uint8Array(256),de,ue=H;for(C[0]=1779033703,C[1]=3144134277,C[2]=1013904242,C[3]=2773480762,C[4]=1359893119,C[5]=2600822924,C[6]=528734635,C[7]=1541459225,V[0]=4089235720,V[1]=2227873595,V[2]=4271175723,V[3]=1595750129,V[4]=2917565137,V[5]=725511199,V[6]=4215389547,V[7]=327033209,ke(C,V,j,H),H%=128,de=0;de<H;de++)ie[de]=j[ue-H+de];for(ie[H]=128,H=256-128*(H<112?1:0),ie[H-9]=0,E(ie,H-8,ue/536870912|0,ue<<3),ke(C,V,ie,H),de=0;de<8;de++)E(z,8*de,C[de],V[de]);return 0}function dt(z,j){var H=r(),C=r(),V=r(),ie=r(),de=r(),ue=r(),pe=r(),$e=r(),De=r();Z(H,z[1],z[0]),Z(De,j[1],j[0]),O(H,H,De),$(C,z[0],z[1]),$(De,j[0],j[1]),O(C,C,De),O(V,z[3],j[3]),O(V,V,g),O(ie,z[2],j[2]),$(ie,ie,ie),Z(de,C,H),Z(ue,ie,V),$(pe,ie,V),$($e,C,H),O(z[0],de,ue),O(z[1],$e,pe),O(z[2],pe,ue),O(z[3],de,$e)}function _e(z,j,H){var C;for(C=0;C<4;C++)S(z[C],j[C],H)}function Ae(z,j){var H=r(),C=r(),V=r();Y(V,j[2]),O(H,j[0],V),O(C,j[1],V),y(z,C),z[31]^=m(H)<<7}function ot(z,j,H){var C,V;for(v(z[0],o),v(z[1],a),v(z[2],a),v(z[3],o),V=255;V>=0;--V)C=H[V/8|0]>>(V&7)&1,_e(z,j,C),dt(j,z),dt(z,z),_e(z,j,C)}function xe(z,j){var H=[r(),r(),r(),r()];v(H[0],b),v(H[1],x),v(H[2],a),O(H[3],b,x),ot(z,H,j)}function Ie(z,j,H){var C=new Uint8Array(64),V=[r(),r(),r(),r()],ie;for(H||n(j,32),Ke(C,j,32),C[0]&=248,C[31]&=127,C[31]|=64,xe(V,C),Ae(z,V),ie=0;ie<32;ie++)j[ie+32]=z[ie];return 0}var it=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function q(z,j){var H,C,V,ie;for(C=63;C>=32;--C){for(H=0,V=C-32,ie=C-12;V<ie;++V)j[V]+=H-16*j[C]*it[V-(C-32)],H=Math.floor((j[V]+128)/256),j[V]-=H*256;j[V]+=H,j[C]=0}for(H=0,V=0;V<32;V++)j[V]+=H-(j[31]>>4)*it[V],H=j[V]>>8,j[V]&=255;for(V=0;V<32;V++)j[V]-=H*it[V];for(C=0;C<32;C++)j[C+1]+=j[C]>>8,z[C]=j[C]&255}function T(z){var j=new Float64Array(64),H;for(H=0;H<64;H++)j[H]=z[H];for(H=0;H<64;H++)z[H]=0;q(z,j)}function L(z,j,H,C){var V=new Uint8Array(64),ie=new Uint8Array(64),de=new Uint8Array(64),ue,pe,$e=new Float64Array(64),De=[r(),r(),r(),r()];Ke(V,C,32),V[0]&=248,V[31]&=127,V[31]|=64;var Bt=H+64;for(ue=0;ue<H;ue++)z[64+ue]=j[ue];for(ue=0;ue<32;ue++)z[32+ue]=V[32+ue];for(Ke(de,z.subarray(32),H+32),T(de),xe(De,de),Ae(z,De),ue=32;ue<64;ue++)z[ue]=C[ue];for(Ke(ie,z,H+64),T(ie),ue=0;ue<64;ue++)$e[ue]=0;for(ue=0;ue<32;ue++)$e[ue]=de[ue];for(ue=0;ue<32;ue++)for(pe=0;pe<32;pe++)$e[ue+pe]+=ie[ue]*V[pe];return q(z.subarray(32),$e),Bt}function G(z,j){var H=r(),C=r(),V=r(),ie=r(),de=r(),ue=r(),pe=r();return v(z[2],a),I(z[1],j),Q(V,z[1]),O(ie,V,l),Z(V,V,z[2]),$(ie,z[2],ie),Q(de,ie),Q(ue,de),O(pe,ue,de),O(H,pe,V),O(H,H,ie),X(H,H),O(H,H,V),O(H,H,ie),O(H,H,ie),O(z[0],H,ie),Q(C,z[0]),O(C,C,ie),u(C,V)&&O(z[0],z[0],_),Q(C,z[0]),O(C,C,ie),u(C,V)?-1:(m(z[0])===j[31]>>7&&Z(z[0],o,z[0]),O(z[3],z[0],z[1]),0)}function re(z,j,H,C){var V,ie=new Uint8Array(32),de=new Uint8Array(64),ue=[r(),r(),r(),r()],pe=[r(),r(),r(),r()];if(H<64||G(pe,C))return-1;for(V=0;V<H;V++)z[V]=j[V];for(V=0;V<32;V++)z[V+32]=C[V];if(Ke(de,z,H),T(de),ot(ue,pe,de),xe(pe,j.subarray(32)),dt(ue,pe),Ae(ie,ue),H-=64,P(j,0,ie,0)){for(V=0;V<H;V++)z[V]=0;return-1}for(V=0;V<H;V++)z[V]=j[V+64];return H}var fe=32,oe=24,we=32,Ge=16,Se=32,Le=32,gt=32,Ue=32,ct=32,Ht=oe,Ye=we,Je=Ge,St=64,Re=32,Ve=64,Ot=32,Ce=64;e.lowlevel={crypto_core_hsalsa20:F,crypto_stream_xor:ce,crypto_stream:te,crypto_stream_salsa20_xor:k,crypto_stream_salsa20:K,crypto_onetimeauth:f,crypto_onetimeauth_verify:h,crypto_verify_16:B,crypto_verify_32:P,crypto_secretbox:d,crypto_secretbox_open:p,crypto_scalarmult:J,crypto_scalarmult_base:N,crypto_box_beforenm:se,crypto_box_afternm:le,crypto_box:ye,crypto_box_open:Be,crypto_box_keypair:ee,crypto_hash:Ke,crypto_sign:L,crypto_sign_keypair:Ie,crypto_sign_open:re,crypto_secretbox_KEYBYTES:fe,crypto_secretbox_NONCEBYTES:oe,crypto_secretbox_ZEROBYTES:we,crypto_secretbox_BOXZEROBYTES:Ge,crypto_scalarmult_BYTES:Se,crypto_scalarmult_SCALARBYTES:Le,crypto_box_PUBLICKEYBYTES:gt,crypto_box_SECRETKEYBYTES:Ue,crypto_box_BEFORENMBYTES:ct,crypto_box_NONCEBYTES:Ht,crypto_box_ZEROBYTES:Ye,crypto_box_BOXZEROBYTES:Je,crypto_sign_BYTES:St,crypto_sign_PUBLICKEYBYTES:Re,crypto_sign_SECRETKEYBYTES:Ve,crypto_sign_SEEDBYTES:Ot,crypto_hash_BYTES:Ce,gf:r,D:l,L:it,pack:Ae,pack25519:y,unpack25519:I,M:O,A:$,S:Q,Z,pow2523:X,add:dt,set25519:v,modL:q,scalarmult:ot,scalarbase:xe};function Ze(z,j){if(z.length!==fe)throw new Error("bad key size");if(j.length!==oe)throw new Error("bad nonce size")}function Dt(z,j){if(z.length!==gt)throw new Error("bad public key size");if(j.length!==Ue)throw new Error("bad secret key size")}function Me(){for(var z=0;z<arguments.length;z++)if(!(arguments[z]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Qe(z){for(var j=0;j<z.length;j++)z[j]=0}e.randomBytes=function(z){var j=new Uint8Array(z);return n(j,z),j},e.secretbox=function(z,j,H){Me(z,j,H),Ze(H,j);for(var C=new Uint8Array(we+z.length),V=new Uint8Array(C.length),ie=0;ie<z.length;ie++)C[ie+we]=z[ie];return d(V,C,C.length,j,H),V.subarray(Ge)},e.secretbox.open=function(z,j,H){Me(z,j,H),Ze(H,j);for(var C=new Uint8Array(Ge+z.length),V=new Uint8Array(C.length),ie=0;ie<z.length;ie++)C[ie+Ge]=z[ie];return C.length<32||p(V,C,C.length,j,H)!==0?null:V.subarray(we)},e.secretbox.keyLength=fe,e.secretbox.nonceLength=oe,e.secretbox.overheadLength=Ge,e.scalarMult=function(z,j){if(Me(z,j),z.length!==Le)throw new Error("bad n size");if(j.length!==Se)throw new Error("bad p size");var H=new Uint8Array(Se);return J(H,z,j),H},e.scalarMult.base=function(z){if(Me(z),z.length!==Le)throw new Error("bad n size");var j=new Uint8Array(Se);return N(j,z),j},e.scalarMult.scalarLength=Le,e.scalarMult.groupElementLength=Se,e.box=function(z,j,H,C){var V=e.box.before(H,C);return e.secretbox(z,j,V)},e.box.before=function(z,j){Me(z,j),Dt(z,j);var H=new Uint8Array(ct);return se(H,z,j),H},e.box.after=e.secretbox,e.box.open=function(z,j,H,C){var V=e.box.before(H,C);return e.secretbox.open(z,j,V)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var z=new Uint8Array(gt),j=new Uint8Array(Ue);return ee(z,j),{publicKey:z,secretKey:j}},e.box.keyPair.fromSecretKey=function(z){if(Me(z),z.length!==Ue)throw new Error("bad secret key size");var j=new Uint8Array(gt);return N(j,z),{publicKey:j,secretKey:new Uint8Array(z)}},e.box.publicKeyLength=gt,e.box.secretKeyLength=Ue,e.box.sharedKeyLength=ct,e.box.nonceLength=Ht,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(z,j){if(Me(z,j),j.length!==Ve)throw new Error("bad secret key size");var H=new Uint8Array(St+z.length);return L(H,z,z.length,j),H},e.sign.open=function(z,j){if(Me(z,j),j.length!==Re)throw new Error("bad public key size");var H=new Uint8Array(z.length),C=re(H,z,z.length,j);if(C<0)return null;for(var V=new Uint8Array(C),ie=0;ie<V.length;ie++)V[ie]=H[ie];return V},e.sign.detached=function(z,j){for(var H=e.sign(z,j),C=new Uint8Array(St),V=0;V<C.length;V++)C[V]=H[V];return C},e.sign.detached.verify=function(z,j,H){if(Me(z,j,H),j.length!==St)throw new Error("bad signature size");if(H.length!==Re)throw new Error("bad public key size");var C=new Uint8Array(St+z.length),V=new Uint8Array(St+z.length),ie;for(ie=0;ie<St;ie++)C[ie]=j[ie];for(ie=0;ie<z.length;ie++)C[ie+St]=z[ie];return re(V,C,C.length,H)>=0},e.sign.keyPair=function(){var z=new Uint8Array(Re),j=new Uint8Array(Ve);return Ie(z,j),{publicKey:z,secretKey:j}},e.sign.keyPair.fromSecretKey=function(z){if(Me(z),z.length!==Ve)throw new Error("bad secret key size");for(var j=new Uint8Array(Re),H=0;H<j.length;H++)j[H]=z[32+H];return{publicKey:j,secretKey:new Uint8Array(z)}},e.sign.keyPair.fromSeed=function(z){if(Me(z),z.length!==Ot)throw new Error("bad seed size");for(var j=new Uint8Array(Re),H=new Uint8Array(Ve),C=0;C<32;C++)H[C]=z[C];return Ie(j,H,!0),{publicKey:j,secretKey:H}},e.sign.publicKeyLength=Re,e.sign.secretKeyLength=Ve,e.sign.seedLength=Ot,e.sign.signatureLength=St,e.hash=function(z){Me(z);var j=new Uint8Array(Ce);return Ke(j,z,z.length),j},e.hash.hashLength=Ce,e.verify=function(z,j){return Me(z,j),z.length===0||j.length===0||z.length!==j.length?!1:M(z,0,j,0,z.length)===0},e.setPRNG=function(z){n=z},function(){var z=typeof self<"u"?self.crypto||self.msCrypto:null;if(z&&z.getRandomValues){var j=65536;e.setPRNG(function(H,C){var V,ie=new Uint8Array(C);for(V=0;V<C;V+=j)z.getRandomValues(ie.subarray(V,V+Math.min(C-V,j)));for(V=0;V<C;V++)H[V]=ie[V];Qe(ie)})}else typeof HE<"u"&&(z=L3(),z&&z.randomBytes&&e.setPRNG(function(H,C){var V,ie=z.randomBytes(C);for(V=0;V<C;V++)H[V]=ie[V];Qe(ie)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(VE);var G$=VE.exports;const GE=ci(G$),hf=GE.lowlevel;function Y$(t){let e;typeof t=="string"?e=Buffer.from(t,"hex"):e=t;const r=new Uint8Array(64),n=[hf.gf(),hf.gf(),hf.gf(),hf.gf()],i=new Uint8Array([...new Uint8Array(e),...new Uint8Array(32)]),s=new Uint8Array(32);hf.crypto_hash(r,i,32),r[0]&=248,r[31]&=127,r[31]|=64,hf.scalarbase(n,r),hf.pack(s,n);for(let o=0;o<32;o+=1)i[o+32]=s[o];return{sk:Buffer.from(i),pk:Buffer.from(s)}}var Gm={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(t,e){var r=Lt,n=r.Buffer;function i(o,a){for(var c in o)a[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,a,c){return n(o,a,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,a,c)},s.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var l=n(o);return a!==void 0?typeof c=="string"?l.fill(a,c):l.fill(a):l.fill(0),l},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Gm,Gm.exports);var YE=Gm.exports;function z4(t,e,r){try{Reflect.apply(t,e,r)}catch(n){setTimeout(()=>{throw n})}}function J$(t){const e=t.length,r=new Array(e);for(let n=0;n<e;n+=1)r[n]=t[n];return r}class nl extends Es.EventEmitter{emit(e,...r){let n=e==="error";const i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){let o;if(r.length>0&&([o]=r),o instanceof Error)throw o;const a=new Error(`Unhandled error.${o?` (${o.message})`:""}`);throw a.context=o,a}const s=i[e];if(s===void 0)return!1;if(typeof s=="function")z4(s,this,r);else{const o=s.length,a=J$(s);for(let c=0;c<o;c+=1)z4(a[c],this,r)}return!0}}class Ol extends Error{constructor({code:e,message:r,data:n}){if(!Number.isInteger(e))throw new Error("code must be an integer");if(!r||typeof r!="string")throw new Error("message must be string");super(r),Oe(this,"code",void 0),Oe(this,"data",void 0),this.code=e,n!==void 0&&(this.data=n)}toString(){return QS({code:this.code,message:this.message,data:this.data,stack:this.stack})}}const ri={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901}},F4={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."}},q4=ri.rpc.internal,X$="Unspecified error message. This is a bug, please report it.",Z$="Unspecified server error.";function JE(t){return Number.isInteger(t)}function K4(t){return typeof t=="string"&&t.length>0}function q1(t){return!!t&&typeof t=="object"&&!Array.isArray(t)}function Q$(t){if(typeof t!="object"||t===null)return!1;try{let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}catch{return!1}}function eU(t){return t>=-32099&&t<=-32e3}function XE(t){const e=t;return!(!e||!JE(e.code)||!K4(e.message)||e.stack&&!K4(e.stack))}function a6(t,e=X$){if(JE(t)){const r=t.toString();if(Object.hasOwn(F4,r))return F4[r].message;if(eU(t))return Z$}return e}const tU={code:q4,message:a6(q4)};function Ym(t){try{JSON.parse(JSON.stringify(t,(e,r)=>{if(e==="__proto__"||e==="constructor")throw new Error("Not valid json");if(typeof r=="function"||typeof r=="symbol")throw new Error("Not valid json");return r}),(e,r)=>{if(!(e==="__proto__"||e==="constructor"))return r})}catch{return!1}return!0}function j4(t){return Object.getOwnPropertyNames(t).reduce((e,r)=>{const n=t[r];return Ym(n)&&(e[r]=n),e},{})}function ZE(t){return Array.isArray(t)?t.map(e=>Ym(e)?e:q1(e)?j4(e):null):q1(t)?j4(t):Ym(t)?t:null}function rU(t,e){if(t&&typeof t=="object"&&"serialize"in t&&typeof t.serialize=="function")return t.serialize();if(XE(t))return t;const r=ZE(t);return He(He({},e),{},{data:{cause:r}})}function Jm(t,{fallbackError:e=tU,shouldIncludeStack:r=!0}={}){if(!XE(e))throw new Error("Must provide fallback error with integer number code and string message.");const n=rU(t,e);return r||delete n.stack,n}function nU(t){return q1(t)&&Object.hasOwn(t,"cause")&&q1(t.cause)}function iU(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function sU(t,e){if(e!=="[Circular]")return e}class QE extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a non-empty string.');nU(n)?(super(r,{cause:n.cause}),Oe(this,"cause",void 0),Oe(this,"code",void 0),Oe(this,"data",void 0),Object.hasOwn(this,"cause")||Object.assign(this,{cause:n.cause})):(super(r),Oe(this,"cause",void 0),Oe(this,"code",void 0),Oe(this,"data",void 0)),n!==void 0&&(this.data=n),this.code=e,this.cause=n==null?void 0:n.cause}serialize(){const e={code:this.code,message:this.message};return this.data!==void 0&&(e.data=this.data,Q$(this.data)&&(e.data.cause=ZE(this.data.cause))),this.stack&&(e.stack=this.stack),e}toString(){return QS(this.serialize(),{replacer:sU,space:2})}}class eA extends QE{constructor(e,r,n){if(!iU(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}function tA(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e??void 0,r]}}return[]}function Cs(t,e){const[r,n]=tA(e);return new QE(t,r??a6(t),n)}function Bl(t,e){const[r,n]=tA(e);return new eA(t,r??a6(t),n)}const qt={parse:t=>Cs(ri.rpc.parse,t),invalidRequest:t=>Cs(ri.rpc.invalidRequest,t),invalidParams:t=>Cs(ri.rpc.invalidParams,t),methodNotFound:t=>Cs(ri.rpc.methodNotFound,t),internal:t=>Cs(ri.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return Cs(e,t)},invalidInput:t=>Cs(ri.rpc.invalidInput,t),resourceNotFound:t=>Cs(ri.rpc.resourceNotFound,t),resourceUnavailable:t=>Cs(ri.rpc.resourceUnavailable,t),transactionRejected:t=>Cs(ri.rpc.transactionRejected,t),methodNotSupported:t=>Cs(ri.rpc.methodNotSupported,t),limitExceeded:t=>Cs(ri.rpc.limitExceeded,t)},js={userRejectedRequest:t=>Bl(ri.provider.userRejectedRequest,t),unauthorized:t=>Bl(ri.provider.unauthorized,t),unsupportedMethod:t=>Bl(ri.provider.unsupportedMethod,t),disconnected:t=>Bl(ri.provider.disconnected,t),chainDisconnected:t=>Bl(ri.provider.chainDisconnected,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new eA(e,r,n)}};function c6(t){return(e,r,n,i)=>{const s=t[e.method];return s===void 0?n():typeof s=="function"?s(e,r,n,i):(r.result=s,i())}}function Ai(t){return async(e,r,n,i)=>{let s;const o=new Promise(g=>{s=g});let a=null,c=!1;const l=async()=>{c=!0,n(g=>{a=g,s()}),await o};try{await t(e,r,l),c?(await o,a(null)):i(null)}catch(g){const b=g;a?a(b):i(b)}}}class Gi extends nl{constructor(){super(),Oe(this,"_middleware",void 0),this._middleware=[]}static async _runAllMiddleware(e,r,n){const i=[];let s=null,o=!1;for(const a of n)if([s,o]=await Gi._runMiddleware(e,r,a,i),o)break;return[s,o,i.reverse()]}static _runMiddleware(e,r,n,i){return new Promise(s=>{const o=c=>{const l=c||r.error;l&&(typeof l=="object"&&Object.keys(l).includes("stack")===!1&&(l.stack="Stack trace is not available."),r.error=Jm(l,{shouldIncludeStack:!0,fallbackError:{message:(l==null?void 0:l.message)||(l==null?void 0:l.toString()),code:(l==null?void 0:l.code)||-32603,stack:(l==null?void 0:l.stack)||"Stack trace is not available.",data:(l==null?void 0:l.data)||(l==null?void 0:l.message)||(l==null?void 0:l.toString())}})),s([l,!0])},a=c=>{r.error?o(r.error):(c&&(typeof c!="function"&&o(new Ol({code:-32603,message:"JRPCEngine: 'next' return handlers must be functions"})),i.push(c)),s([null,!1]))};try{n(e,r,a,o)}catch(c){o(c)}})}static async _runReturnHandlers(e){for(const r of e)await new Promise((n,i)=>{r(s=>s?i(s):n())})}static _checkForCompletion(e,r,n){if(!("result"in r)&&!("error"in r))throw new Ol({code:-32603,message:"Response has no error or result for request"});if(!n)throw new Ol({code:-32603,message:"Nothing ended request"})}push(e){this._middleware.push(e)}handle(e,r){if(r&&typeof r!="function")throw new Error('"callback" must be a function if provided.');return Array.isArray(e)?r?this._handleBatch(e,r):this._handleBatch(e):r?this._handle(e,r):this._promiseHandle(e)}asMiddleware(){return async(e,r,n,i)=>{try{const[s,o,a]=await Gi._runAllMiddleware(e,r,this._middleware);return o?(await Gi._runReturnHandlers(a),i(s)):n(async c=>{try{await Gi._runReturnHandlers(a)}catch(l){return c(l)}return c()})}catch(s){return i(s)}}}async _handleBatch(e,r){try{const n=await Promise.all(e.map(this._promiseHandle.bind(this)));return r?r(null,n):n}catch(n){if(r)return r(n);throw n}}_promiseHandle(e){return new Promise((r,n)=>{this._handle(e,(i,s)=>{i&&s===void 0?n(i):r(s)}).catch(n)})}async _handle(e,r){if(!e||Array.isArray(e)||typeof e!="object"){const _=new Ol({code:-32603,message:"request must be plain object"});return r(_,{id:void 0,jsonrpc:"2.0",error:_})}if(typeof e.method!="string"){const _=new Ol({code:-32603,message:"method must be string"});return r(_,{id:e.id,jsonrpc:"2.0",error:_})}const n=He({},e),i={id:n.id,jsonrpc:n.jsonrpc};let s=null;try{await this._processRequest(n,i)}catch(_){s=_}if(s&&(delete i.result,!i.error)){var o,a,c,l,g,b,x;typeof s=="object"&&Object.keys(s).includes("stack")===!1&&(s.stack="Stack trace is not available."),i.error=Jm(s,{shouldIncludeStack:!0,fallbackError:{message:((o=s)===null||o===void 0?void 0:o.message)||((a=s)===null||a===void 0?void 0:a.toString()),code:((c=s)===null||c===void 0?void 0:c.code)||-32603,stack:((l=s)===null||l===void 0?void 0:l.stack)||"Stack trace is not available.",data:((g=s)===null||g===void 0?void 0:g.data)||((b=s)===null||b===void 0?void 0:b.message)||((x=s)===null||x===void 0?void 0:x.toString())}})}return r(s,i)}async _processRequest(e,r){const[n,i,s]=await Gi._runAllMiddleware(e,r,this._middleware);if(Gi._checkForCompletion(e,r,i),await Gi._runReturnHandlers(s),n)throw n}}function rf(t){const e=new Gi;return t.forEach(r=>{e.push(r)}),e.asMiddleware()}function Fh(t){const e=new nl;return e.sendAsync=async r=>{const n=await t.handle(r);if(n.error){var i,s,o,a,c,l,g;typeof n.error=="object"&&Object.keys(n.error).includes("stack")===!1&&(n.error.stack="Stack trace is not available.");const b=Jm(n.error,{fallbackError:{message:((i=n.error)===null||i===void 0?void 0:i.message)||((s=n.error)===null||s===void 0?void 0:s.toString()),code:((o=n.error)===null||o===void 0?void 0:o.code)||-32603,stack:((a=n.error)===null||a===void 0?void 0:a.stack)||"Stack trace is not available.",data:((c=n.error)===null||c===void 0?void 0:c.data)||((l=n.error)===null||l===void 0?void 0:l.message)||((g=n.error)===null||g===void 0?void 0:g.toString())},shouldIncludeStack:!0});throw qt.internal(b)}return n.result},e.send=(r,n)=>{if(typeof n!="function")throw new Error('Must provide callback to "send" method.');t.handle(r,n)},t.on&&t.on("notification",r=>{e.emit("data",null,r)}),e.request=async r=>{const n=He(He({},r),{},{id:Math.random().toString(36).slice(2),jsonrpc:"2.0"});return await e.sendAsync(n)},e}function oU(t){const e=t.findIndex(s=>s instanceof Error),r=t.findIndex(s=>typeof s=="string"),n=t.findIndex(s=>s&&typeof s=="object"&&"status"in s&&"type"in s);let i;if(n!==-1){const s=t[n];i=new Error(`${s.status} ${s.type.toString()} ${s.statusText}`)}else e!==-1?i=t.splice(e,1)[0]:r!==-1?i=new Error(t.splice(r,1)[0]):i=new Error("Unknown error");return[i,t]}class Qf extends gE{constructor(e,r,n){super(r),Oe(this,"code",void 0),Oe(this,"message",void 0),Oe(this,"cause",void 0),this.code=e,this.message=r||"",this.cause=n,Object.defineProperty(this,"name",{value:"Web3AuthError"})}toJSON(){return{name:this.name,code:this.code,message:this.message,cause:oU([this.cause])}}toString(){return JSON.stringify(this.toJSON())}}class wt extends Qf{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletInitializationError"})}static fromCode(e,r="",n){return new wt(e,`${wt.messages[e]}, ${r}`,n)}static notFound(e="",r){return wt.fromCode(5001,e,r)}static notInstalled(e="",r){return wt.fromCode(5002,e,r)}static notReady(e="",r){return wt.fromCode(5003,e,r)}static windowBlocked(e="",r){return wt.fromCode(5004,e,r)}static windowClosed(e="",r){return wt.fromCode(5005,e,r)}static incompatibleChainNameSpace(e="",r){return wt.fromCode(5006,e,r)}static duplicateAdapterError(e="",r){return wt.fromCode(5007,e,r)}static invalidProviderConfigError(e="",r){return wt.fromCode(5008,e,r)}static providerNotReadyError(e="",r){return wt.fromCode(5009,e,r)}static rpcConnectionError(e="",r){return wt.fromCode(5010,e,r)}static invalidParams(e="",r){return wt.fromCode(5011,e,r)}static invalidNetwork(e="",r){return wt.fromCode(5013,e,r)}}Oe(wt,"messages",{5e3:"Custom",5001:"Wallet is not found",5002:"Wallet is not installed",5003:"Wallet is not ready yet",5004:"Wallet window is blocked",5005:"Wallet window has been closed by the user",5006:"Incompatible chain namespace provided",5007:"Adapter has already been included",5008:"Invalid provider Config",5009:"Provider is not ready yet",5010:"Failed to connect with rpc url",5011:"Invalid params passed in",5013:"Invalid network provided"});class zt extends Qf{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletLoginError"})}static fromCode(e,r="",n){return new zt(e,`${zt.messages[e]}. ${r}`,n)}static connectionError(e="",r){return zt.fromCode(5111,e,r)}static disconnectionError(e="",r){return zt.fromCode(5112,e,r)}static notConnectedError(e="",r){return zt.fromCode(5113,e,r)}static popupClosed(e="",r){return zt.fromCode(5114,e,r)}static mfaEnabled(e="",r){return zt.fromCode(5115,e,r)}static chainConfigNotAdded(e="",r){return zt.fromCode(5116,e,r)}static unsupportedOperation(e="",r){return zt.fromCode(5117,e,r)}static coreKitKeyNotFound(e="",r){return zt.fromCode(5118,e,r)}static userNotLoggedIn(e="",r){return zt.fromCode(5119,e,r)}}Oe(zt,"messages",{5e3:"Custom",5111:"Failed to connect with wallet",5112:"Failed to disconnect from wallet",5113:"Wallet is not connected",5114:"Wallet popup has been closed by the user",5115:"User has already enabled mfa, please use the @web3auth/web3auth-web sdk for login with mfa",5116:"Chain config has not been added. Please add the chain config before calling switchChain",5117:"Unsupported operation",5118:"useCoreKitKey flag is enabled but coreKitKey is not available",5119:"User not logged in."});class Fs extends Qf{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletOperationsError"})}static fromCode(e,r="",n){return new Fs(e,`${Fs.messages[e]}, ${r}`,n)}static chainIDNotAllowed(e="",r){return Fs.fromCode(5201,e,r)}static operationNotAllowed(e="",r){return Fs.fromCode(5202,e,r)}static chainNamespaceNotAllowed(e="",r){return Fs.fromCode(5203,e,r)}}Oe(Fs,"messages",{5e3:"Custom",5201:"Provided chainId is not allowed",5202:"This operation is not allowed"});class ka extends Qf{constructor(e,r,n){super(e,r,n),Object.defineProperty(this,"name",{value:"WalletProviderError"})}static fromCode(e,r="",n){return new Fs(e,`${ka.messages[e]}, ${r}`,n)}static invalidRequestArgs(e="",r){return Fs.fromCode(5301,e,r)}static invalidRequestMethod(e="",r){return Fs.fromCode(5302,e,r)}static invalidRequestParams(e="",r){return Fs.fromCode(5303,e,r)}}Oe(ka,"messages",{5e3:"Custom",5301:"Expected a single, non-array, object argument.",5302:"'args.method' must be a non-empty string.",5303:"'args.params' must be an object or array if provided."});const Gt={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",OTHER:"other"},qh={EIP155:"eip155",SOLANA:"solana",CASPER:"casper",XRPL:"xrpl",MULTICHAIN:"multichain"},aU=t=>{if(t===Gt.EIP155)return 1;if(t===Gt.SOLANA)return 1;if(t===Gt.XRPL)return 1;throw wt.invalidParams(`Chain namespace ${t} is not supported`)},cU=t=>{const e=Gt.EIP155;return t===1?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:e,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/eth",displayName:"Ethereum Mainnet",blockExplorerUrl:"https://etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===5?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:e,chainId:"0x5",rpcTarget:"https://rpc.ankr.com/eth_goerli",displayName:"Goerli Testnet",blockExplorerUrl:"https://goerli.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===11155111?{logo:"https://images.toruswallet.io/eth.svg",chainNamespace:e,chainId:"0xaa36a7",rpcTarget:"https://rpc.ankr.com/eth_sepolia",displayName:"Sepolia Testnet",blockExplorerUrl:"https://sepolia.etherscan.io/",ticker:"ETH",tickerName:"Ethereum",decimals:18}:t===137?{logo:"https://images.toruswallet.io/polygon.svg",chainNamespace:e,chainId:"0x89",rpcTarget:"https://rpc.ankr.com/polygon",displayName:"Polygon Mainnet",blockExplorerUrl:"https://polygonscan.com",ticker:"POL",tickerName:"Polygon Ecosystem Token"}:t===80002?{logo:"https://images.toruswallet.io/polygon.svg",chainNamespace:e,chainId:"0x13882",rpcTarget:"https://rpc.ankr.com/polygon_amoy",displayName:"Polygon Amoy Testnet",blockExplorerUrl:"https://www.oklink.com/amoy",ticker:"POL",tickerName:"Polygon Ecosystem Token",decimals:18}:t===56?{logo:"https://images.toruswallet.io/bnb.png",chainNamespace:e,chainId:"0x38",rpcTarget:"https://rpc.ankr.com/bsc",displayName:"Binance SmartChain Mainnet",blockExplorerUrl:"https://bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:t===97?{logo:"https://images.toruswallet.io/bnb.png",chainNamespace:e,chainId:"0x61",rpcTarget:"https://rpc.ankr.com/bsc_testnet_chapel",displayName:"Binance SmartChain Testnet",blockExplorerUrl:"https://testnet.bscscan.com",ticker:"BNB",tickerName:"Binance SmartChain",decimals:18}:t===25?{logo:"https://images.toruswallet.io/cro.svg",chainNamespace:e,chainId:"0x19",rpcTarget:"https://rpc.cronos.org",displayName:"Cronos Mainnet",blockExplorerUrl:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos"}:t===338?{logo:"https://images.toruswallet.io/cro.svg",chainNamespace:e,chainId:"0x152",rpcTarget:"https://rpc-t3.cronos.org/",displayName:"Cronos Testnet",blockExplorerUrl:"https://cronoscan.com/",ticker:"CRO",tickerName:"Cronos",decimals:18}:t===8217?{logo:"https://images.toruswallet.io/klay.svg",chainNamespace:e,chainId:"0x2019",rpcTarget:"https://public-node-api.klaytnapi.com/v1/cypress",displayName:"Klaytn Mainnet",blockExplorerUrl:"https://scope.klaytn.com",ticker:"KLAY",tickerName:"Klaytn",decimals:18}:t===1946?{chainNamespace:Gt.EIP155,chainId:"0x79a",rpcTarget:"https://rpc.minato.soneium.org",displayName:"Soneium Minato Testnet",blockExplorerUrl:"https://explorer-testnet.soneium.org",ticker:"ETH",tickerName:"ETH",logo:"https://cryptologos.cc/logos/soneium-logo.png"}:null},fU=t=>{const e=Gt.SOLANA;return t===1?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:e,chainId:"0x1",rpcTarget:"https://rpc.ankr.com/solana",displayName:"Solana Mainnet",blockExplorerUrl:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana",decimals:9}:t===2?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:e,chainId:"0x2",rpcTarget:"https://api.testnet.solana.com",displayName:"Solana Testnet",blockExplorerUrl:"https://explorer.solana.com?cluster=testnet",ticker:"SOL",tickerName:"Solana",decimals:9}:t===3?{logo:"https://images.toruswallet.io/sol.svg",chainNamespace:e,chainId:"0x3",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorerUrl:"https://explorer.solana.com?cluster=devnet",ticker:"SOL",tickerName:"Solana",decimals:9}:null},uU=t=>{const e=Gt.XRPL;return t===1?{chainNamespace:e,decimals:15,chainId:"0x1",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://ripple-node.tor.us",wsTarget:"wss://s2.ripple.com",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl mainnet",blockExplorerUrl:"https://livenet.xrpl.org"}:t===2?{chainNamespace:e,decimals:15,chainId:"0x2",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://testnet-ripple-node.tor.us",wsTarget:"wss://s.altnet.rippletest.net",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl testnet",blockExplorerUrl:"https://testnet.xrpl.org",isTestnet:!0}:t===3?{chainNamespace:e,decimals:15,chainId:"0x3",logo:"https://images.toruswallet.io/XRP.svg",rpcTarget:"https://devnet-ripple-node.tor.us",wsTarget:"wss://s.devnet.rippletest.net/",ticker:"XRP",tickerName:"XRPL",displayName:"xrpl devnet",blockExplorerUrl:"https://devnet.xrpl.org",isTestnet:!0}:null},v0=(t,e)=>{if(t===Gt.OTHER)return null;const r=e?typeof e=="number"?e:parseInt(e,16):aU(t);return t===Gt.EIP155?cU(r):t===Gt.SOLANA?fU(r):t===Gt.XRPL?uU(r):null};var vr=Dg.getLogger("web3auth-logger");class dU extends nl{constructor({config:e={},state:r={}}){super(),Oe(this,"defaultConfig",{}),Oe(this,"defaultState",{}),Oe(this,"disabled",!1),Oe(this,"name","BaseController"),Oe(this,"initialConfig",void 0),Oe(this,"initialState",void 0),Oe(this,"internalConfig",this.defaultConfig),Oe(this,"internalState",this.defaultState),this.initialState=r,this.initialConfig=e}get config(){return this.internalConfig}get state(){return this.internalState}configure(e,r=!1,n=!0){if(n){this.internalConfig=r?e:Object.assign(this.internalConfig,e);for(const i in this.internalConfig)typeof this.internalConfig[i]<"u"&&(this[i]=this.internalConfig[i])}else for(const i in e)typeof this.internalConfig[i]<"u"&&(this.internalConfig[i]=e[i],this[i]=e[i])}update(e,r=!1){this.internalState=He(r?{}:He({},this.internalState),e),this.emit("store",this.internalState)}initialize(){return this.internalState=this.defaultState,this.internalConfig=this.defaultConfig,this.configure(this.initialConfig),this.update(this.initialState),this}}const lU=()=>!0,hU=["newListener","removeListener"],pU=t=>!hU.includes(t);function gU(t,e){return typeof t.rawListeners<"u"?t.rawListeners(e):t.listeners(e)}function rA(t,e){let n={}.eventFilter||lU;if(typeof n=="string"&&n==="skipInternal"&&(n=pU),typeof n!="function")throw new Error("createEventEmitterProxy - Invalid eventFilter");let i=t,s=a=>{if(i===a)return;const c=i;i=a,c.eventNames().filter(n).forEach(g=>{gU(c,g).forEach(b=>{a.on(g,b)})}),c.removeAllListeners()};return new Proxy({},{get:(a,c)=>c==="setTarget"?s:i[c],set:(a,c,l)=>c==="setTarget"?(s=l,!0):(i[c]=l,!0)})}const bU=["Gateway timeout","ETIMEDOUT","failed to parse response body","Failed to fetch"];function vU(t){switch(t.status){case 405:throw qt.methodNotFound();case 418:throw qt.internal({message:"Request is being rate limited.",data:{cause:t}});case 503:case 504:throw qt.internal({message:"Gateway timeout. The request took too long to process.This can happen when querying over too wide a block range.",data:{cause:t}})}}function yU(t){return new Promise(e=>{setTimeout(e,t)})}function mU(t,e){if(t.status!==200)throw qt.internal({message:`Non-200 status code: '${t.status}'`,data:e});if(e.error){var r;throw qt.internal({data:e.error,message:(r=e.error)===null||r===void 0?void 0:r.message})}return e.result}function wU({req:t,rpcTarget:e,originHttpHeaderKey:r}){const n=new URL(e),i={id:t.id,jsonrpc:t.jsonrpc,method:t.method,params:t.params},s=t.origin,o=JSON.stringify(i),a={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:o};return r&&s&&(a.headers[r]=s),{fetchUrl:n.href,fetchParams:a}}function f6({rpcTarget:t,originHttpHeaderKey:e}){return Ai(async(r,n,i)=>{const{fetchUrl:s,fetchParams:o}=wU({req:r,rpcTarget:t,originHttpHeaderKey:e}),a=5,c=1e3;for(let l=0;l<a;l++){try{const g=await fetch(s,o);vU(g);const b=await g.json(),x=mU(g,b);n.result=x;return}catch(g){const b=(g.message||g).toString();if(!bU.some(_=>b.includes(_)))throw g}await yU(c)}})}function xU(t){try{return structuredClone(t)}catch{return JSON.parse(JSON.stringify(t,(r,n)=>typeof n=="bigint"?n.toString():n))}}class th extends Error{}th.prototype.name="InvalidTokenError";function _U(t){return decodeURIComponent(atob(t).replace(/(.)/g,(e,r)=>{let n=r.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n}))}function SU(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");switch(e.length%4){case 0:break;case 2:e+="==";break;case 3:e+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return _U(e)}catch{return atob(e)}}function EU(t,e){if(typeof t!="string")throw new th("Invalid token specified: must be a string");e||(e={});const r=e.header===!0?0:1,n=t.split(".")[r];if(typeof n!="string")throw new th(`Invalid token specified: missing part #${r+1}`);let i;try{i=SU(n)}catch(s){throw new th(`Invalid token specified: invalid base64 for part #${r+1} (${s.message})`)}try{return JSON.parse(i)}catch(s){throw new th(`Invalid token specified: invalid json for part #${r+1} (${s.message})`)}}const nA="https://authjs.web3auth.io",iA=async(t,e)=>{const s={payload:t,header:{t:e==="solana"?"sip99":"eip191"},network:e==="solana"?"solana":"ethereum"},o=await zg(`${nA}/siww/get`,s);if(!o.success)throw new Error("Failed to authenticate user, Please reach out to Web3Auth Support team");return o.challenge},sA=async(t,e,r,n,i,s,o,a,c)=>{var l;const b=He({signature:{s:e,t:t==="solana"?"sip99":"eip191"},message:r,issuer:n,audience:typeof window<"u"&&((l=window.location)===null||l===void 0?void 0:l.hostname)||"com://reactnative",timeout:i},{}),x=await zg(`${nA}/siww/verify`,b,{headers:{client_id:s,wallet_provider:n,web3auth_network:o}});if(!x.success)throw Dg.error("Failed to authenticate user, ,message verification failed",x.error),new Error("Failed to authenticate user, ,message verification failed");return x.token},ph={AUTH:"auth",WALLET_CONNECT_V2:"wallet-connect-v2",SFA:"sfa"},oA=He({TORUS_SOLANA:"torus-solana"},ph),Xm=He({TORUS_EVM:"torus-evm",COINBASE:"coinbase"},ph),Pi=He(He({},Xm),oA);ph.AUTH+"",ph.WALLET_CONNECT_V2+"",ph.SFA+"",oA.TORUS_SOLANA+"",Xm.TORUS_EVM+"",Xm.COINBASE+"";const u6={EXTERNAL:"external",IN_APP:"in_app"},It={NOT_READY:"not_ready",READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"},lr=He(He({},It),{},{ADAPTER_DATA_UPDATED:"adapter_data_updated",CACHE_CLEAR:"cache_clear"});class d6 extends nl{constructor(e={}){super(),Oe(this,"adapterData",{}),Oe(this,"sessionTime",86400),Oe(this,"clientId",void 0),Oe(this,"web3AuthNetwork",Kc.MAINNET),Oe(this,"useCoreKitKey",void 0),Oe(this,"rehydrated",!1),Oe(this,"chainConfig",null),Oe(this,"knownChainConfigs",{}),Oe(this,"adapterNamespace",void 0),Oe(this,"currentChainNamespace",void 0),Oe(this,"type",void 0),Oe(this,"name",void 0),Oe(this,"status",void 0),this.setAdapterSettings(e)}get chainConfigProxy(){return this.chainConfig?He({},this.chainConfig):null}get connnected(){return this.status===It.CONNECTED}setAdapterSettings(e){if(this.status===It.READY)return;e!=null&&e.sessionTime&&(this.sessionTime=e.sessionTime),e!=null&&e.clientId&&(this.clientId=e.clientId),e!=null&&e.web3AuthNetwork&&(this.web3AuthNetwork=e.web3AuthNetwork),(e==null?void 0:e.useCoreKitKey)!==void 0&&(this.useCoreKitKey=e.useCoreKitKey);const r=e.chainConfig;if(r){if(!r.chainNamespace)throw wt.notReady("ChainNamespace is required while setting chainConfig");this.currentChainNamespace=r.chainNamespace;const n=v0(r.chainNamespace,r.chainId),i=He(He({},n||{}),r);this.chainConfig=i,this.addChainConfig(i)}}checkConnectionRequirements(){if(!(this.name===Pi.WALLET_CONNECT_V2&&this.status===It.CONNECTING)){if(this.status===It.CONNECTING)throw wt.notReady("Already connecting");if(this.status===It.CONNECTED)throw zt.connectionError("Already connected");if(this.status!==It.READY)throw zt.connectionError("Wallet adapter is not ready yet, Please wait for init function to resolve before calling connect/connectTo function")}}checkInitializationRequirements(){if(!this.clientId)throw wt.invalidParams("Please initialize Web3Auth with a valid clientId in constructor");if(!this.chainConfig||!this.chainConfig.rpcTarget&&this.chainConfig.chainNamespace!==Gt.OTHER)throw wt.invalidParams("rpcTarget is required in chainConfig");if(!this.chainConfig.chainId&&this.chainConfig.chainNamespace!==Gt.OTHER)throw wt.invalidParams("chainID is required in chainConfig");if(this.status!==It.NOT_READY){if(this.status===It.CONNECTED)throw wt.notReady("Already connected");if(this.status===It.READY)throw wt.notReady("Adapter is already initialized")}}checkDisconnectionRequirements(){if(this.status!==It.CONNECTED)throw zt.disconnectionError("Not connected with wallet")}checkAddChainRequirements(e,r=!1){if(!r&&!this.provider)throw zt.notConnectedError("Not connected with wallet.");if(this.currentChainNamespace!==e.chainNamespace)throw Fs.chainNamespaceNotAllowed("This adapter doesn't support this chainNamespace")}checkSwitchChainRequirements({chainId:e},r=!1){if(!r&&!this.provider)throw zt.notConnectedError("Not connected with wallet.");if(!this.knownChainConfigs[e])throw zt.chainConfigNotAdded("Invalid chainId")}updateAdapterData(e){this.adapterData=e,this.emit(lr.ADAPTER_DATA_UPDATED,{adapterName:this.name,data:e})}addChainConfig(e){const r=this.knownChainConfigs[e.chainId];this.knownChainConfigs[e.chainId]=He(He({},r||{}),e)}getChainConfig(e){return this.knownChainConfigs[e]||null}}function Ac(t){let e=!1,r=0,n;try{n=window[t],e=!0,r=n.length;const i="__storage_test__";return n.setItem(i,i),n.removeItem(i),!0}catch(i){const s=i;return!!(s&&(s.code===22||s.code===1014||s.name==="QuotaExceededError"||s.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&r!==0)}}const AU=t=>PN[t??Kc.SAPPHIRE_MAINNET],IU=async(t,e,r)=>{const n=new URL(`${AU(e)}/api/configuration`);return n.searchParams.append("project_id",t),n.searchParams.append("network",e),n.searchParams.append("whitelist","true"),r&&n.searchParams.append("aa_provider",r),await kS(n.href)},MU=t=>{let e=t.toLowerCase();return e=e.split("|")[0],e=e.replace(/-/g," "),e=e.replace(/\s+/g," "),e=e.replace(/wallet$/i,"").trim(),e=e.replace(/\s/g,"-"),e},aA=t=>{const e=EU(t);return!e.exp||e.exp<Math.floor(Date.now()/1e3)},cA=(t,e)=>Ac("localStorage")?localStorage.getItem(`${t.toLowerCase()}_${e}`):null,fA=(t,e,r)=>Ac("localStorage")?localStorage.setItem(`${t.toLowerCase()}_${e}`,r):null,PU=(t,e)=>Ac("localStorage")?localStorage.removeItem(`${t.toLowerCase()}_${e}`):null,kU=He(He({},Gt),{},{MULTICHAIN:"multichain"}),uA={READY:"ready",CONNECTING:"connecting",CONNECTED:"connected",DISCONNECTED:"disconnected",ERRORED:"errored"};He({},uA);const RU={WALLET_SERVICES:"wallet-services"},CU={SOLANA:"solana"};He(He({},RU),CU);const TU=()=>({adapterSettings:{network:Kc.SAPPHIRE_MAINNET,clientId:"",uxMode:vo.POPUP},loginSettings:{},privateKeyProvider:void 0});class NU extends d6{constructor(e={}){super(e),Oe(this,"name",Pi.AUTH),Oe(this,"adapterNamespace",qh.MULTICHAIN),Oe(this,"type",u6.IN_APP),Oe(this,"authInstance",null),Oe(this,"status",It.NOT_READY),Oe(this,"currentChainNamespace",Gt.EIP155),Oe(this,"privateKeyProvider",null),Oe(this,"authOptions",void 0),Oe(this,"loginSettings",{loginProvider:""}),this.setAdapterSettings(He(He({},e.adapterSettings),{},{chainConfig:e.chainConfig,clientId:e.clientId||"",sessionTime:e.sessionTime,web3AuthNetwork:e.web3AuthNetwork,useCoreKitKey:e.useCoreKitKey,privateKeyProvider:e.privateKeyProvider})),this.loginSettings=e.loginSettings||{loginProvider:""},this.privateKeyProvider=e.privateKeyProvider||null}get chainConfigProxy(){return this.chainConfig?He({},this.chainConfig):null}get provider(){return this.status!==It.NOT_READY&&this.privateKeyProvider?this.privateKeyProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){if(super.checkInitializationRequirements(),!this.clientId)throw wt.invalidParams("clientId is required before auth's initialization");if(!this.authOptions)throw wt.invalidParams("authOptions is required before auth's initialization");const r=this.authOptions.uxMode===vo.REDIRECT;if(this.authOptions=He(He({},this.authOptions),{},{replaceUrlOnRedirect:r,useCoreKitKey:this.useCoreKitKey}),this.authInstance=new V$(He(He({},this.authOptions),{},{clientId:this.clientId,network:this.authOptions.network||this.web3AuthNetwork||Kc.SAPPHIRE_MAINNET})),vr.debug("initializing auth adapter init"),await this.authInstance.init(),!this.chainConfig)throw wt.invalidParams("chainConfig is required before initialization");this.status=It.READY,this.emit(lr.READY,Pi.AUTH);try{vr.debug("initializing auth adapter"),this._getFinalPrivKey()&&(e.autoConnect||r)&&(this.rehydrated=!0,await this.connect())}catch(n){vr.error("Failed to connect with cached auth provider",n),this.emit(lr.ERRORED,n)}}async connect(e={loginProvider:""}){super.checkConnectionRequirements(),this.status=It.CONNECTING,this.emit(lr.CONNECTING,He(He({},e),{},{adapter:Pi.AUTH}));try{return await this.connectWithProvider(e),this.provider}catch(r){throw vr.error("Failed to connect with auth provider",r),this.status=It.READY,this.emit(lr.ERRORED,r),r!=null&&r.message.includes("user closed popup")?zt.popupClosed():r instanceof Qf?r:zt.connectionError("Failed to login with auth",r)}}async enableMFA(e={loginProvider:""}){if(this.status!==It.CONNECTED)throw zt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw wt.notReady("authInstance is not ready");try{await this.authInstance.enableMFA(e)}catch(r){throw vr.error("Failed to enable MFA with auth provider",r),r instanceof Qf?r:zt.connectionError("Failed to enable MFA with auth",r)}}async disconnect(e={cleanup:!1}){if(this.status!==It.CONNECTED)throw zt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw wt.notReady("authInstance is not ready");await this.authInstance.logout(),e.cleanup?(this.status=It.NOT_READY,this.authInstance=null,this.privateKeyProvider=null):this.status=It.READY,this.rehydrated=!1,this.emit(lr.DISCONNECTED)}async authenticateUser(){if(this.status!==It.CONNECTED)throw zt.notConnectedError("Not connected with wallet, Please login/connect first");return{idToken:(await this.getUserInfo()).idToken}}async getUserInfo(){if(this.status!==It.CONNECTED)throw zt.notConnectedError("Not connected with wallet");if(!this.authInstance)throw wt.notReady("authInstance is not ready");return this.authInstance.getUserInfo()}setAdapterSettings(e){super.setAdapterSettings(e);const r=TU();vr.info("setting adapter settings",e),this.authOptions=Yc.all([r.adapterSettings,this.authOptions||{},e||{}]),e.web3AuthNetwork&&(this.authOptions.network=e.web3AuthNetwork),e.privateKeyProvider&&(this.privateKeyProvider=e.privateKeyProvider)}async addChain(e,r=!1){var n;super.checkAddChainRequirements(e,r),(n=this.privateKeyProvider)===null||n===void 0||n.addChain(e),this.addChainConfig(e)}async switchChain(e,r=!1){var n;super.checkSwitchChainRequirements(e,r),await((n=this.privateKeyProvider)===null||n===void 0?void 0:n.switchChain(e)),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}_getFinalPrivKey(){if(!this.authInstance)return"";let e=this.authInstance.privKey;if(this.useCoreKitKey){if(this.authInstance.privKey&&!this.authInstance.coreKitKey)throw zt.coreKitKeyNotFound();e=this.authInstance.coreKitKey}return e}_getFinalEd25519PrivKey(){if(!this.authInstance)return"";let e=this.authInstance.ed25519PrivKey;if(this.useCoreKitKey){if(this.authInstance.ed25519PrivKey&&!this.authInstance.coreKitEd25519Key)throw zt.coreKitKeyNotFound();e=this.authInstance.coreKitEd25519Key}return e}async connectWithProvider(e={loginProvider:""}){var r;if(!this.privateKeyProvider)throw wt.invalidParams("PrivateKey Provider is required before initialization");if(!this.authInstance)throw wt.notReady("authInstance is not ready");if(!this._getFinalPrivKey()||(r=e.extraLoginOptions)!==null&&r!==void 0&&r.id_token){var i;if(this.loginSettings.curve||(this.loginSettings.curve=this.currentChainNamespace===Gt.SOLANA?$4.ED25519:$4.SECP256K1),!e.loginProvider&&!this.loginSettings.loginProvider)throw wt.invalidParams("loginProvider is required for login");await this.authInstance.login(Yc.all([this.loginSettings,e,{extraLoginOptions:He(He({},e.extraLoginOptions||{}),{},{login_hint:e.login_hint||((i=e.extraLoginOptions)===null||i===void 0?void 0:i.login_hint)})}]))}let s=this._getFinalPrivKey();s&&(this.currentChainNamespace===Gt.SOLANA&&(s=this._getFinalEd25519PrivKey()),await this.privateKeyProvider.setupProvider(s),this.status=It.CONNECTED,this.emit(lr.CONNECTED,{adapter:Pi.AUTH,reconnected:this.rehydrated,provider:this.provider}))}}class cb extends dU{constructor({config:e,state:r}){if(super({config:e,state:r}),Oe(this,"_providerEngineProxy",null),Oe(this,"keyExportFlagSetByCode",!1),!e.chainConfig)throw wt.invalidProviderConfigError("Please provide chainConfig");if(!e.chainConfig.chainId)throw wt.invalidProviderConfigError("Please provide chainId inside chainConfig");if(!e.chainConfig.rpcTarget)throw wt.invalidProviderConfigError("Please provide rpcTarget inside chainConfig");typeof e.keyExportEnabled=="boolean"&&(this.keyExportFlagSetByCode=!0),this.defaultState={chainId:"loading"},this.defaultConfig={chainConfig:e.chainConfig,networks:{[e.chainConfig.chainId]:e.chainConfig},keyExportEnabled:typeof e.keyExportEnabled=="boolean"?e.keyExportEnabled:!0},super.initialize()}get currentChainConfig(){return this.config.chainConfig}get provider(){return this._providerEngineProxy}get chainId(){return this.state.chainId}set provider(e){throw new Error("Method not implemented.")}async request(e){var r;if(!e||typeof e!="object"||Array.isArray(e))throw qt.invalidRequest({message:ka.invalidRequestArgs().message,data:He(He({},e||{}),{},{cause:ka.invalidRequestArgs().message})});const{method:n,params:i}=e;if(typeof n!="string"||n.length===0)throw qt.invalidRequest({message:ka.invalidRequestMethod().message,data:He(He({},e||{}),{},{cause:ka.invalidRequestMethod().message})});if(i!==void 0&&!Array.isArray(i)&&(typeof i!="object"||i===null))throw qt.invalidRequest({message:ka.invalidRequestParams().message,data:He(He({},e||{}),{},{cause:ka.invalidRequestParams().message})});return(r=this.provider)===null||r===void 0?void 0:r.request(e)}sendAsync(e,r){return r?this.send(e,r):this.request(e)}send(e,r){this.request(e).then(n=>r(null,{result:n})).catch(n=>r(n,null))}addChain(e){if(!e.chainId||!e.rpcTarget)throw qt.invalidParams("chainId is required");this.configure({networks:He(He({},this.config.networks),{},{[e.chainId]:e})})}getChainConfig(e){var r;const n=(r=this.config.networks)===null||r===void 0?void 0:r[e];if(!n)throw qt.invalidRequest(`Chain ${e} is not supported, please add chainConfig for it`);return n}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=rA(e)}setKeyExportFlag(e){this.keyExportFlagSetByCode||this.configure({keyExportEnabled:e})}getProviderEngineProxy(){return this._providerEngineProxy}}function OU(t){return(e,r,n,i)=>e.method==="chainId"?(r.result=t,i()):n()}function BU(t){return(e,r,n,i)=>e.method==="provider_config"?(r.result=t,i()):n()}function DU(t){const{chainId:e,rpcTarget:r}=t,n=f6({rpcTarget:r});return{networkMiddleware:rf([OU(e),BU(t),n]),fetchMiddleware:n}}var dA;class l6 extends cb{constructor({config:e,state:r}){super({config:e,state:r})}async setupProvider(){const{networkMiddleware:e}=DU(this.config.chainConfig),r=new Gi;r.push(e);const n=Fh(r);this.updateProviderEngineProxy(n);const i=this.config.chainConfig.chainId;this.state.chainId!==i&&(this.emit("chainChanged",i),this.emit("connect",{chainId:i})),this.update({chainId:this.config.chainConfig.chainId})}async switchChain(e){if(!this._providerEngineProxy)throw js.custom({message:"Provider is not initialized",code:4902});const r=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:r}),await this.setupProvider()}updateProviderEngineProxy(e){this._providerEngineProxy?this._providerEngineProxy.setTarget(e):this._providerEngineProxy=rA(e)}getProviderEngineProxy(){return this._providerEngineProxy}lookupNetwork(){throw new Error("Method not implemented.")}}dA=l6;Oe(l6,"getProviderInstance",async t=>{const e=new dA({config:{chainConfig:t.chainConfig}});return await e.setupProvider(),e});const lp="Web3Auth-cachedAdapter";class LU extends nl{constructor(e){var r,n,i,s;if(super(),Oe(this,"coreOptions",void 0),Oe(this,"connectedAdapterName",null),Oe(this,"status",It.NOT_READY),Oe(this,"cachedAdapter",null),Oe(this,"walletAdapters",{}),Oe(this,"commonJRPCProvider",null),Oe(this,"plugins",{}),Oe(this,"storage","localStorage"),!e.clientId)throw wt.invalidParams("Please provide a valid clientId in constructor");if(e.enableLogging?vr.enableAll():vr.setLevel("error"),!e.privateKeyProvider&&!e.chainConfig)throw wt.invalidParams("Please provide chainConfig or privateKeyProvider");if(e.chainConfig=e.chainConfig||e.privateKeyProvider.currentChainConfig,!((r=e.chainConfig)!==null&&r!==void 0&&r.chainNamespace)||!Object.values(Gt).includes((n=e.chainConfig)===null||n===void 0?void 0:n.chainNamespace))throw wt.invalidParams("Please provide a valid chainNamespace in chainConfig");e.storageKey==="session"&&(this.storage="sessionStorage"),this.cachedAdapter=Ac(this.storage)?window[this.storage].getItem(lp):null,this.coreOptions=He(He({},e),{},{chainConfig:He(He({},v0((i=e.chainConfig)===null||i===void 0?void 0:i.chainNamespace,(s=e.chainConfig)===null||s===void 0?void 0:s.chainId)||{}),e.chainConfig)}),this.subscribeToAdapterEvents=this.subscribeToAdapterEvents.bind(this)}get connected(){return!!this.connectedAdapterName}get provider(){return this.status!==It.NOT_READY&&this.commonJRPCProvider?this.commonJRPCProvider:null}set provider(e){throw new Error("Not implemented")}async init(){this.commonJRPCProvider=await l6.getProviderInstance({chainConfig:this.coreOptions.chainConfig});let e;try{var r;e=await IU(this.coreOptions.clientId,this.coreOptions.web3AuthNetwork,(r=this.coreOptions.accountAbstractionProvider)===null||r===void 0?void 0:r.config.smartAccountInit.name)}catch(i){throw vr.error("Failed to fetch project configurations",i),wt.notReady("failed to fetch project configurations",i)}const n=Object.keys(this.walletAdapters).map(async i=>{if(this.subscribeToAdapterEvents(this.walletAdapters[i]),this.walletAdapters[i].chainConfigProxy)this.walletAdapters[i].setAdapterSettings({sessionTime:this.coreOptions.sessionTime,clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey});else{const s=this.coreOptions.chainConfig;if(!s.chainNamespace)throw wt.invalidParams("Please provide chainNamespace in chainConfig");this.walletAdapters[i].setAdapterSettings({chainConfig:s,sessionTime:this.coreOptions.sessionTime,clientId:this.coreOptions.clientId,web3AuthNetwork:this.coreOptions.web3AuthNetwork,useCoreKitKey:this.coreOptions.useCoreKitKey})}if(i===Pi.AUTH){const s=this.walletAdapters[i],{whitelabel:o}=e;this.coreOptions.uiConfig=Yc(xU(o||{}),this.coreOptions.uiConfig||{}),this.coreOptions.uiConfig.mode||(this.coreOptions.uiConfig.mode="light");const{sms_otp_enabled:a,whitelist:c,key_export_enabled:l}=e;if(a!==void 0&&s.setAdapterSettings({loginConfig:{[zh.SMS_PASSWORDLESS]:{showOnModal:a,showOnDesktop:a,showOnMobile:a,showOnSocialBackupFactor:a}}}),c&&s.setAdapterSettings({originData:c.signed_urls}),typeof l=="boolean"&&(this.coreOptions.privateKeyProvider.setKeyExportFlag(l),this.commonJRPCProvider.setKeyExportFlag(l)),this.coreOptions.privateKeyProvider){if(s.currentChainNamespace!==this.coreOptions.privateKeyProvider.currentChainConfig.chainNamespace)throw wt.incompatibleChainNameSpace("private key provider is not compatible with provided chainNamespace for auth adapter");s.setAdapterSettings({privateKeyProvider:this.coreOptions.privateKeyProvider})}if(s.setAdapterSettings({whiteLabel:this.coreOptions.uiConfig}),!s.privateKeyProvider)throw wt.invalidParams("privateKeyProvider is required for auth adapter")}else if(i===Pi.WALLET_CONNECT_V2){const s=this.walletAdapters[i],{wallet_connect_enabled:o,wallet_connect_project_id:a}=e;if(o===!1)throw wt.invalidParams("Please enable wallet connect v2 addon on dashboard");if(!a)throw wt.invalidParams("Invalid wallet connect project id. Please configure it on the dashboard");s.setAdapterSettings({adapterSettings:{walletConnectInitOptions:{projectId:a}}})}return this.walletAdapters[i].init({autoConnect:this.cachedAdapter===i}).catch(s=>vr.error(s,i))});await Promise.all(n),this.status===It.NOT_READY&&(this.status=It.READY,this.emit(lr.READY))}getAdapter(e){return this.walletAdapters[e]||null}configureAdapter(e){this.checkInitRequirements();const r=this.coreOptions.chainConfig;if(!r.chainNamespace)throw wt.invalidParams("Please provide chainNamespace in chainConfig");if(this.walletAdapters[e.name])throw wt.duplicateAdapterError(`Wallet adapter for ${e.name} already exists`);if(e.adapterNamespace!==qh.MULTICHAIN&&e.adapterNamespace!==r.chainNamespace)throw wt.incompatibleChainNameSpace(`This wallet adapter belongs to ${e.adapterNamespace} which is incompatible with currently used namespace: ${r.chainNamespace}`);return e.adapterNamespace===qh.MULTICHAIN&&e.currentChainNamespace&&r.chainNamespace!==e.currentChainNamespace&&e.setAdapterSettings({chainConfig:r}),this.walletAdapters[e.name]=e,this}clearCache(){Ac(this.storage)&&(window[this.storage].removeItem(lp),this.cachedAdapter=null)}async addChain(e){if(this.status===It.CONNECTED&&this.connectedAdapterName)return this.walletAdapters[this.connectedAdapterName].addChain(e);if(this.commonJRPCProvider)return this.commonJRPCProvider.addChain(e);throw wt.notReady("No wallet is ready")}async switchChain(e){if(this.status===It.CONNECTED&&this.connectedAdapterName)return this.walletAdapters[this.connectedAdapterName].switchChain(e);if(this.commonJRPCProvider)return this.commonJRPCProvider.switchChain(e);throw wt.notReady("No wallet is ready")}async connectTo(e,r){if(!this.walletAdapters[e]||!this.commonJRPCProvider)throw wt.notFound(`Please add wallet adapter for ${e} wallet, before connecting`);const n=await this.walletAdapters[e].connect(r);return this.commonJRPCProvider.updateProviderEngineProxy(n.provider||n),this.provider}async logout(e={cleanup:!1}){if(this.status!==It.CONNECTED||!this.connectedAdapterName)throw zt.notConnectedError("No wallet is connected");await this.walletAdapters[this.connectedAdapterName].disconnect(e)}async getUserInfo(){if(vr.debug("Getting user info",this.status,this.connectedAdapterName),this.status!==It.CONNECTED||!this.connectedAdapterName)throw zt.notConnectedError("No wallet is connected");return this.walletAdapters[this.connectedAdapterName].getUserInfo()}async enableMFA(e){if(this.status!==It.CONNECTED||!this.connectedAdapterName)throw zt.notConnectedError("No wallet is connected");if(this.connectedAdapterName!==Pi.AUTH)throw zt.unsupportedOperation("EnableMFA is not supported for this adapter.");return this.walletAdapters[this.connectedAdapterName].enableMFA(e)}async authenticateUser(){if(this.status!==It.CONNECTED||!this.connectedAdapterName)throw zt.notConnectedError("No wallet is connected");return this.walletAdapters[this.connectedAdapterName].authenticateUser()}addPlugin(e){if(this.plugins[e.name])throw wt.duplicateAdapterError(`Plugin ${e.name} already exist`);if(e.pluginNamespace!==kU.MULTICHAIN&&e.pluginNamespace!==this.coreOptions.chainConfig.chainNamespace)throw wt.incompatibleChainNameSpace(`This plugin belongs to ${e.pluginNamespace} namespace which is incompatible with currently used namespace: ${this.coreOptions.chainConfig.chainNamespace}`);return this.plugins[e.name]=e,this.status===It.CONNECTED&&this.connectedAdapterName&&this.connectToPlugins({adapter:this.connectedAdapterName}),this}getPlugin(e){return this.plugins[e]||null}subscribeToAdapterEvents(e){e.on(lr.CONNECTED,async r=>{if(!this.commonJRPCProvider)throw wt.notFound("CommonJrpcProvider not found");const{provider:n}=r;let i=n.provider||n;this.coreOptions.accountAbstractionProvider&&(r.adapter===Pi.AUTH||r.adapter!==Pi.AUTH&&this.coreOptions.useAAWithExternalWallet)&&(await this.coreOptions.accountAbstractionProvider.setupProvider(n),i=this.coreOptions.accountAbstractionProvider),this.commonJRPCProvider.updateProviderEngineProxy(i),this.connectedAdapterName=r.adapter,this.status=It.CONNECTED,this.cacheWallet(r.adapter),vr.debug("connected",this.status,this.connectedAdapterName),this.connectToPlugins(r),this.emit(lr.CONNECTED,He({},r))}),e.on(lr.DISCONNECTED,async()=>{if(this.status=It.READY,Ac(this.storage)){const r=window[this.storage].getItem(lp);this.connectedAdapterName===r&&this.clearCache()}vr.debug("disconnected",this.status,this.connectedAdapterName),await Promise.all(Object.values(this.plugins).map(r=>r.disconnect().catch(n=>{n.code!==5211&&vr.error(n)}))),this.connectedAdapterName=null,this.emit(lr.DISCONNECTED)}),e.on(lr.CONNECTING,r=>{this.status=It.CONNECTING,this.emit(lr.CONNECTING,r),vr.debug("connecting",this.status,this.connectedAdapterName)}),e.on(lr.ERRORED,r=>{this.status=It.ERRORED,this.clearCache(),this.emit(lr.ERRORED,r),vr.debug("errored",this.status,this.connectedAdapterName)}),e.on(lr.ADAPTER_DATA_UPDATED,r=>{vr.debug("adapter data updated",r),this.emit(lr.ADAPTER_DATA_UPDATED,r)}),e.on(lr.CACHE_CLEAR,r=>{vr.debug("adapter cache clear",r),Ac(this.storage)&&this.clearCache()})}checkInitRequirements(){if(this.status===It.CONNECTING)throw wt.notReady("Already pending connection");if(this.status===It.CONNECTED)throw wt.notReady("Already connected");if(this.status===It.READY)throw wt.notReady("Adapter is already initialized")}cacheWallet(e){Ac(this.storage)&&(window[this.storage].setItem(lp,e),this.cachedAdapter=e)}connectToPlugins(e){Object.values(this.plugins).map(async r=>{try{if(!r.SUPPORTED_ADAPTERS.includes(e.adapter)||r.status===uA.CONNECTED)return;const{authInstance:n}=this.walletAdapters[this.connectedAdapterName],{options:i,sessionId:s,sessionNamespace:o}=n||{};await r.initWithWeb3Auth(this,i.whiteLabel),await r.connect({sessionId:s,sessionNamespace:o})}catch(n){if(n.code===5211)return;vr.error(n)}})}}let $U=function(t){return t.ETH_SEND_TRANSACTION="eth_sendTransaction",t.ETH_SIGN_TRANSACTION="eth_signTransaction",t.ETH_SIGN="eth_sign",t.PERSONAL_SIGN="personal_sign",t.ETH_SIGN_TYPED_DATA="eth_signTypedData",t.ETH_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",t.ETH_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",t.ADD_ETHEREUM_CHAIN="wallet_addEthereumChain",t.SWITCH_ETHEREUM_CHAIN="wallet_switchEthereumChain",t}({}),UU=function(t){return t.SIGN_TRANSACTION="solana_signTransaction",t.SIGN_MESSAGE="solana_signMessage",t}({}),zU=function(t){return t.ETH_CHAIN_CHANGED="chainChanged",t.ETH_ACCOUNTS_CHANGED="accountsChanged",t}({}),FU=function(t){return t.SOL_CHAIN_CHANGED="chainChanged",t.SOL_ACCOUNTS_CHANGED="accountsChanged",t}({});const Zm={"0x1":"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","0x2":"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","0x3":"EtWTRABZaYq6iMfeYKouRu166VU2xqa1"},qU=t=>{const{document:e}=t,r=e.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:t.location.hostname};function W4(t){return new Promise((e,r)=>{try{const n=document.createElement("img");n.onload=()=>e(!0),n.onerror=()=>e(!1),n.src=t}catch(n){r(n)}})}async function KU(t){const{document:e}=t;let r=e.querySelector('head > link[rel="shortcut icon"]');return r&&await W4(r.href)||(r=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find(n=>!!n.href)||null,r&&await W4(r.href))?r.href:null}const jU=async()=>({name:qU(window),icon:await KU(window)}),WU=t=>{const e=[];return t.forEach(r=>{const[n]=r.split(":");e.includes(n)||e.push(n)}),e},HU=t=>{switch(t){case Gt.EIP155:return Object.values($U);case Gt.SOLANA:return Object.values(UU);default:throw new Error(`No default methods for namespace: ${t}`)}},VU=t=>{switch(t){case Gt.EIP155:return Object.values(zU);case Gt.SOLANA:return Object.values(FU);default:throw new Error(`No default events for namespace: ${t}`)}},GU=t=>{const e=WU(t);return Object.fromEntries(e.map(r=>[r,{methods:HU(r),chains:t.filter(n=>n.startsWith(r)),events:VU(r)}]))},lA=async(t,e,r)=>{if(t===Gt.EIP155||t===Gt.SOLANA){const n=await jU(),i={walletConnectInitOptions:{projectId:r,relayUrl:"wss://relay.walletconnect.com",metadata:{name:n.name,description:n.name,url:window.location.origin,icons:[n.icon||""]}}},s=e.map(a=>`${t}:${t===Gt.SOLANA?Zm[a]:parseInt(a,16)}`),o={optionalNamespaces:GU(s)};return{adapterSettings:i,loginSettings:o}}throw new Error(`Unsupported chain namespace: ${t}`)};var ht={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Qm=function(t,e){return Qm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Qm(t,e)};function YU(t,e){Qm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var e2=function(){return e2=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},e2.apply(this,arguments)};function JU(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function XU(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function ZU(t,e){return function(r,n){e(r,n,t)}}function QU(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function ez(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(g){try{l(n.next(g))}catch(b){o(b)}}function c(g){try{l(n.throw(g))}catch(b){o(b)}}function l(g){g.done?s(g.value):i(g.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function tz(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(g){return c([l,g])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(g){l=[6,g],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function rz(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function nz(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function t2(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function hA(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function iz(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(hA(arguments[e]));return t}function sz(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Kh(t){return this instanceof Kh?(this.v=t,this):new Kh(t)}function oz(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(x){n[x]&&(i[x]=function(_){return new Promise(function(E,M){s.push([x,_,E,M])>1||a(x,_)})})}function a(x,_){try{c(n[x](_))}catch(E){b(s[0][3],E)}}function c(x){x.value instanceof Kh?Promise.resolve(x.value.v).then(l,g):b(s[0][2],x)}function l(x){a("next",x)}function g(x){a("throw",x)}function b(x,_){x(_),s.shift(),s.length&&a(s[0][0],s[0][1])}}function az(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Kh(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function cz(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof t2=="function"?t2(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function fz(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function uz(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function dz(t){return t&&t.__esModule?t:{default:t}}function lz(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function hz(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const pz=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return e2},__asyncDelegator:az,__asyncGenerator:oz,__asyncValues:cz,__await:Kh,__awaiter:ez,__classPrivateFieldGet:lz,__classPrivateFieldSet:hz,__createBinding:rz,__decorate:XU,__exportStar:nz,__extends:YU,__generator:tz,__importDefault:dz,__importStar:uz,__makeTemplateObject:fz,__metadata:QU,__param:ZU,__read:hA,__rest:JU,__spread:iz,__spreadArrays:sz,__values:t2},Symbol.toStringTag,{value:"Module"})),fb=n0(pz);var Gv={},Dl={},H4;function gz(){if(H4)return Dl;H4=1,Object.defineProperty(Dl,"__esModule",{value:!0}),Dl.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return Dl.delay=t,Dl}var pf={},Yv={},gf={},V4;function bz(){return V4||(V4=1,Object.defineProperty(gf,"__esModule",{value:!0}),gf.ONE_THOUSAND=gf.ONE_HUNDRED=void 0,gf.ONE_HUNDRED=100,gf.ONE_THOUSAND=1e3),gf}var Jv={},G4;function vz(){return G4||(G4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(Jv)),Jv}var Y4;function pA(){return Y4||(Y4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=fb;e.__exportStar(bz(),t),e.__exportStar(vz(),t)}(Yv)),Yv}var J4;function yz(){if(J4)return pf;J4=1,Object.defineProperty(pf,"__esModule",{value:!0}),pf.fromMiliseconds=pf.toMiliseconds=void 0;const t=pA();function e(n){return n*t.ONE_THOUSAND}pf.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return pf.fromMiliseconds=r,pf}var X4;function mz(){return X4||(X4=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=fb;e.__exportStar(gz(),t),e.__exportStar(yz(),t)}(Gv)),Gv}var Pu={},Z4;function wz(){if(Z4)return Pu;Z4=1,Object.defineProperty(Pu,"__esModule",{value:!0}),Pu.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Pu.Watch=t,Pu.default=t,Pu}var Xv={},Ll={},Q4;function xz(){if(Q4)return Ll;Q4=1,Object.defineProperty(Ll,"__esModule",{value:!0}),Ll.IWatch=void 0;class t{}return Ll.IWatch=t,Ll}var e8;function _z(){return e8||(e8=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),fb.__exportStar(xz(),t)}(Xv)),Xv}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=fb;e.__exportStar(mz(),t),e.__exportStar(wz(),t),e.__exportStar(_z(),t),e.__exportStar(pA(),t)})(ht);class lu{}let Sz=class extends lu{constructor(e){super()}};const t8=ht.FIVE_SECONDS,il={pulse:"heartbeat_pulse"};let Ez=class gA extends Sz{constructor(e){super(e),this.events=new Es.EventEmitter,this.interval=t8,this.interval=(e==null?void 0:e.interval)||t8}static async init(e){const r=new gA(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),ht.toMiliseconds(this.interval))}pulse(){this.events.emit(il.pulse)}};const Az=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Iz=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Mz=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Pz(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){kz(t);return}return e}function kz(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function hp(t,e={}){if(typeof t!="string")return t;const r=t.trim();if(t[0]==='"'&&t.endsWith('"')&&!t.includes("\\"))return r.slice(1,-1);if(r.length<=9){const n=r.toLowerCase();if(n==="true")return!0;if(n==="false")return!1;if(n==="undefined")return;if(n==="null")return null;if(n==="nan")return Number.NaN;if(n==="infinity")return Number.POSITIVE_INFINITY;if(n==="-infinity")return Number.NEGATIVE_INFINITY}if(!Mz.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Az.test(t)||Iz.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Pz)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function Rz(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Nn(t,...e){try{return Rz(t(...e))}catch(r){return Promise.reject(r)}}function Cz(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Tz(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Gp(t){if(Cz(t))return String(t);if(Tz(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Gp(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}function bA(){if(typeof Buffer>"u")throw new TypeError("[unstorage] Buffer is not supported!")}const r2="base64:";function Nz(t){if(typeof t=="string")return t;bA();const e=Buffer.from(t).toString("base64");return r2+e}function Oz(t){return typeof t!="string"||!t.startsWith(r2)?t:(bA(),Buffer.from(t.slice(r2.length),"base64"))}function Hi(t){return t?t.split("?")[0].replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""):""}function Bz(...t){return Hi(t.join(":"))}function pp(t){return t=Hi(t),t?t+":":""}const Dz="memory",Lz=()=>{const t=new Map;return{name:Dz,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function $z(t={}){const e={mounts:{"":t.driver||Lz()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const g of e.mountpoints)if(l.startsWith(g))return{base:g,relativeKey:l.slice(g.length),driver:e.mounts[g]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,g)=>e.mountpoints.filter(b=>b.startsWith(l)||g&&l.startsWith(b)).map(b=>({relativeBase:l.length>b.length?l.slice(b.length):void 0,mountpoint:b,driver:e.mounts[b]})),i=(l,g)=>{if(e.watching){g=Hi(g);for(const b of e.watchListeners)b(l,g)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await r8(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,g,b)=>{const x=new Map,_=E=>{let M=x.get(E.base);return M||(M={driver:E.driver,base:E.base,items:[]},x.set(E.base,M)),M};for(const E of l){const M=typeof E=="string",B=Hi(M?E:E.key),P=M?void 0:E.value,R=M||!E.options?g:{...g,...E.options},D=r(B);_(D).items.push({key:B,value:P,relativeKey:D.relativeKey,options:R})}return Promise.all([...x.values()].map(E=>b(E))).then(E=>E.flat())},c={hasItem(l,g={}){l=Hi(l);const{relativeKey:b,driver:x}=r(l);return Nn(x.hasItem,b,g)},getItem(l,g={}){l=Hi(l);const{relativeKey:b,driver:x}=r(l);return Nn(x.getItem,b,g).then(_=>hp(_))},getItems(l,g){return a(l,g,b=>b.driver.getItems?Nn(b.driver.getItems,b.items.map(x=>({key:x.relativeKey,options:x.options})),g).then(x=>x.map(_=>({key:Bz(b.base,_.key),value:hp(_.value)}))):Promise.all(b.items.map(x=>Nn(b.driver.getItem,x.relativeKey,x.options).then(_=>({key:x.key,value:hp(_)})))))},getItemRaw(l,g={}){l=Hi(l);const{relativeKey:b,driver:x}=r(l);return x.getItemRaw?Nn(x.getItemRaw,b,g):Nn(x.getItem,b,g).then(_=>Oz(_))},async setItem(l,g,b={}){if(g===void 0)return c.removeItem(l);l=Hi(l);const{relativeKey:x,driver:_}=r(l);_.setItem&&(await Nn(_.setItem,x,Gp(g),b),_.watch||i("update",l))},async setItems(l,g){await a(l,g,async b=>{if(b.driver.setItems)return Nn(b.driver.setItems,b.items.map(x=>({key:x.relativeKey,value:Gp(x.value),options:x.options})),g);b.driver.setItem&&await Promise.all(b.items.map(x=>Nn(b.driver.setItem,x.relativeKey,Gp(x.value),x.options)))})},async setItemRaw(l,g,b={}){if(g===void 0)return c.removeItem(l,b);l=Hi(l);const{relativeKey:x,driver:_}=r(l);if(_.setItemRaw)await Nn(_.setItemRaw,x,g,b);else if(_.setItem)await Nn(_.setItem,x,Nz(g),b);else return;_.watch||i("update",l)},async removeItem(l,g={}){typeof g=="boolean"&&(g={removeMeta:g}),l=Hi(l);const{relativeKey:b,driver:x}=r(l);x.removeItem&&(await Nn(x.removeItem,b,g),(g.removeMeta||g.removeMata)&&await Nn(x.removeItem,b+"$",g),x.watch||i("remove",l))},async getMeta(l,g={}){typeof g=="boolean"&&(g={nativeOnly:g}),l=Hi(l);const{relativeKey:b,driver:x}=r(l),_=Object.create(null);if(x.getMeta&&Object.assign(_,await Nn(x.getMeta,b,g)),!g.nativeOnly){const E=await Nn(x.getItem,b+"$",g).then(M=>hp(M));E&&typeof E=="object"&&(typeof E.atime=="string"&&(E.atime=new Date(E.atime)),typeof E.mtime=="string"&&(E.mtime=new Date(E.mtime)),Object.assign(_,E))}return _},setMeta(l,g,b={}){return this.setItem(l+"$",g,b)},removeMeta(l,g={}){return this.removeItem(l+"$",g)},async getKeys(l,g={}){l=pp(l);const b=n(l,!0);let x=[];const _=[];for(const E of b){const M=await Nn(E.driver.getKeys,E.relativeBase,g);for(const B of M){const P=E.mountpoint+Hi(B);x.some(R=>P.startsWith(R))||_.push(P)}x=[E.mountpoint,...x.filter(B=>!B.startsWith(E.mountpoint))]}return l?_.filter(E=>E.startsWith(l)&&E[E.length-1]!=="$"):_.filter(E=>E[E.length-1]!=="$")},async clear(l,g={}){l=pp(l),await Promise.all(n(l,!1).map(async b=>{if(b.driver.clear)return Nn(b.driver.clear,b.relativeBase,g);if(b.driver.removeItem){const x=await b.driver.getKeys(b.relativeBase||"",g);return Promise.all(x.map(_=>b.driver.removeItem(_,g)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>n8(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(g=>g!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,g){if(l=pp(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((b,x)=>x.length-b.length)),e.mounts[l]=g,e.watching&&Promise.resolve(r8(g,i,l)).then(b=>{e.unwatch[l]=b}).catch(console.error),c},async unmount(l,g=!0){l=pp(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l](),delete e.unwatch[l]),g&&await n8(e.mounts[l]),e.mountpoints=e.mountpoints.filter(b=>b!==l),delete e.mounts[l])},getMount(l=""){l=Hi(l)+":";const g=r(l);return{driver:g.driver,base:g.base}},getMounts(l="",g={}){return l=Hi(l),n(l,g.parents).map(x=>({driver:x.driver,base:x.mountpoint}))},keys:(l,g={})=>c.getKeys(l,g),get:(l,g={})=>c.getItem(l,g),set:(l,g,b={})=>c.setItem(l,g,b),has:(l,g={})=>c.hasItem(l,g),del:(l,g={})=>c.removeItem(l,g),remove:(l,g={})=>c.removeItem(l,g)};return c}function r8(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function n8(t){typeof t.dispose=="function"&&await Nn(t.dispose)}function hu(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function vA(t,e){const r=indexedDB.open(t);r.onupgradeneeded=()=>r.result.createObjectStore(e);const n=hu(r);return(i,s)=>n.then(o=>s(o.transaction(e,i).objectStore(e)))}let Zv;function y0(){return Zv||(Zv=vA("keyval-store","keyval")),Zv}function i8(t,e=y0()){return e("readonly",r=>hu(r.get(t)))}function Uz(t,e,r=y0()){return r("readwrite",n=>(n.put(e,t),hu(n.transaction)))}function zz(t,e=y0()){return e("readwrite",r=>(r.delete(t),hu(r.transaction)))}function Fz(t=y0()){return t("readwrite",e=>(e.clear(),hu(e.transaction)))}function qz(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},hu(t.transaction)}function Kz(t=y0()){return t("readonly",e=>{if(e.getAllKeys)return hu(e.getAllKeys());const r=[];return qz(e,n=>r.push(n.key)).then(()=>r)})}const jz=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),Wz=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Nd(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return Wz(t)}catch{return t}}function eu(t){return typeof t=="string"?t:jz(t)||""}const Hz="idb-keyval";var Vz=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=vA(t.dbName,t.storeName)),{name:Hz,options:t,async hasItem(i){return!(typeof await i8(r(i),n)>"u")},async getItem(i){return await i8(r(i),n)??null},setItem(i,s){return Uz(r(i),s,n)},removeItem(i){return zz(r(i),n)},getKeys(){return Kz(n)},clear(){return Fz(n)}}};const Gz="WALLET_CONNECT_V2_INDEXED_DB",Yz="keyvaluestorage";let Jz=class{constructor(){this.indexedDb=$z({driver:Vz({dbName:Gz,storeName:Yz})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,eu(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof globalThis<"u"?globalThis:typeof self<"u"?self:{},Yp={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Qv<"u"&&Qv.localStorage?Yp.exports=Qv.localStorage:typeof window<"u"&&window.localStorage?Yp.exports=window.localStorage:Yp.exports=new e})();function Xz(t){var e;return[t[0],Nd((e=t[1])!=null?e:"")]}let Zz=class{constructor(){this.localStorage=Yp.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Xz)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return Nd(r)}async setItem(e,r){this.localStorage.setItem(e,eu(r))}async removeItem(e){this.localStorage.removeItem(e)}};const Qz="wc_storage_version",s8=1,eF=async(t,e,r)=>{const n=Qz,i=await e.getItem(n);if(i&&i>=s8){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,s8),r(e),tF(t,o)},tF=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let rF=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new Zz;this.storage=e;try{const r=new Jz;eF(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};function nF(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var iF=sF;function sF(t,e,r){var n=r&&r.stringify||nF,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=n(t);for(var a=1;a<s;a++)o[a]=n(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",g=1-i,b=-1,x=t&&t.length||0,_=0;_<x;){if(t.charCodeAt(_)===37&&_+1<x){switch(b=b>-1?b:0,t.charCodeAt(_+1)){case 100:case 102:if(g>=c||e[g]==null)break;b<_&&(l+=t.slice(b,_)),l+=Number(e[g]),b=_+2,_++;break;case 105:if(g>=c||e[g]==null)break;b<_&&(l+=t.slice(b,_)),l+=Math.floor(Number(e[g])),b=_+2,_++;break;case 79:case 111:case 106:if(g>=c||e[g]===void 0)break;b<_&&(l+=t.slice(b,_));var E=typeof e[g];if(E==="string"){l+="'"+e[g]+"'",b=_+2,_++;break}if(E==="function"){l+=e[g].name||"<anonymous>",b=_+2,_++;break}l+=n(e[g]),b=_+2,_++;break;case 115:if(g>=c)break;b<_&&(l+=t.slice(b,_)),l+=String(e[g]),b=_+2,_++;break;case 37:b<_&&(l+=t.slice(b,_)),l+="%",b=_+2,_++,g--;break}++g}++_}return b===-1?t:(b<x&&(l+=t.slice(b)),l)}const o8=iF;var Ou=ra;const jh=gF().console||{},oF={mapHttpRequest:gp,mapHttpResponse:gp,wrapRequestSerializer:ey,wrapResponseSerializer:ey,wrapErrorSerializer:ey,req:gp,res:gp,err:dF};function aF(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function ra(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const r=t.browser.write||jh;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},i=aF(t.browser.serialize,n);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof r=="function"&&(r.error=r.fatal=r.warn=r.info=r.debug=r.trace=r),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(r);c.log||(c.log=Wh),Object.defineProperty(c,"levelVal",{get:g}),Object.defineProperty(c,"level",{get:b,set:x});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:lF(t)};c.levels=ra.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Wh,c.serializers=n,c._serialize=i,c._stdErrSerialize=s,c.child=_,e&&(c._logEvent=n2());function g(){return this.level==="silent"?1/0:this.levels.values[this.level]}function b(){return this._level}function x(E){if(E!=="silent"&&!this.levels.values[E])throw Error("unknown level "+E);this._level=E,ku(l,c,"error","log"),ku(l,c,"fatal","error"),ku(l,c,"warn","error"),ku(l,c,"info","log"),ku(l,c,"debug","log"),ku(l,c,"trace","log")}function _(E,M){if(!E)throw new Error("missing bindings for child Pino");M=M||{},i&&E.serializers&&(M.serializers=E.serializers);const B=M.serializers;if(i&&B){var P=Object.assign({},n,B),R=t.browser.serialize===!0?Object.keys(P):i;delete E.serializers,ub([E],R,P,this._stdErrSerialize)}function D(U){this._childLevel=(U._childLevel|0)+1,this.error=Ru(U,E,"error"),this.fatal=Ru(U,E,"fatal"),this.warn=Ru(U,E,"warn"),this.info=Ru(U,E,"info"),this.debug=Ru(U,E,"debug"),this.trace=Ru(U,E,"trace"),P&&(this.serializers=P,this._serialize=R),e&&(this._logEvent=n2([].concat(U._logEvent.bindings,E)))}return D.prototype=this,new D(this)}return c}ra.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};ra.stdSerializers=oF;ra.stdTimeFunctions=Object.assign({},{nullTime:yA,epochTime:mA,unixTime:hF,isoTime:pF});function ku(t,e,r,n){const i=Object.getPrototypeOf(e);e[r]=e.levelVal>e.levels.values[r]?Wh:i[r]?i[r]:jh[r]||jh[n]||Wh,cF(t,e,r)}function cF(t,e,r){!t.transmit&&e[r]===Wh||(e[r]=function(n){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===jh?jh:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&ub(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?n.call(a,fF(this,r,o,s)):n.apply(a,o),t.transmit){const l=t.transmit.level||e.level,g=ra.levels.values[l],b=ra.levels.values[r];if(b<g)return;uF(this,{ts:s,methodLevel:r,methodValue:b,transmitLevel:l,transmitValue:ra.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[r]))}function fF(t,e,r,n){t._serialize&&ub(r,t._serialize,t.serializers,t._stdErrSerialize);const i=r.slice();let s=i[0];const o={};n&&(o.time=n),o.level=ra.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?o8(i.shift(),i):void 0}else typeof s=="string"&&(s=o8(i.shift(),i));return s!==void 0&&(o.msg=s),o}function ub(t,e,r,n){for(const i in t)if(n&&t[i]instanceof Error)t[i]=ra.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in r&&(t[i][s]=r[s](t[i][s]))}function Ru(t,e,r){return function(){const n=new Array(1+arguments.length);n[0]=e;for(var i=1;i<n.length;i++)n[i]=arguments[i-1];return t[r].apply(this,n)}}function uF(t,e,r){const n=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;ub(r,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=r.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,n(s,t._logEvent,a),t._logEvent=n2(c)}function n2(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function dF(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const r in t)e[r]===void 0&&(e[r]=t[r]);return e}function lF(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?yA:mA}function gp(){return{}}function ey(t){return t}function Wh(){}function yA(){return!1}function mA(){return Date.now()}function hF(){return Math.round(Date.now()/1e3)}function pF(){return new Date(Date.now()).toISOString()}function gF(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const db=ci(Ou),bF={level:"info"},m0="custom_context",h6=1e3*1024;let vF=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},a8=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new vF(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},wA=class{constructor(e,r=h6){this.level=e??"error",this.levelValue=Ou.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new a8(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===Ou.levels.values.error?console.error(e):r===Ou.levels.values.warn?console.warn(e):r===Ou.levels.values.debug?console.debug(e):r===Ou.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(eu({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new a8(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(eu({extraMetadata:e})),new Blob(r,{type:"application/json"})}};class yF{constructor(e,r=h6){this.baseChunkLogger=new wA(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}}let mF=class{constructor(e,r=h6){this.baseChunkLogger=new wA(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var wF=Object.defineProperty,xF=Object.defineProperties,_F=Object.getOwnPropertyDescriptors,c8=Object.getOwnPropertySymbols,SF=Object.prototype.hasOwnProperty,EF=Object.prototype.propertyIsEnumerable,f8=(t,e,r)=>e in t?wF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,K1=(t,e)=>{for(var r in e||(e={}))SF.call(e,r)&&f8(t,r,e[r]);if(c8)for(var r of c8(e))EF.call(e,r)&&f8(t,r,e[r]);return t},j1=(t,e)=>xF(t,_F(e));function p6(t){return j1(K1({},t),{level:(t==null?void 0:t.level)||bF.level})}function AF(t,e=m0){return t[e]||""}function IF(t,e,r=m0){return t[r]=e,t}function cs(t,e=m0){let r="";return typeof t.bindings>"u"?r=AF(t,e):r=t.bindings().context||"",r}function MF(t,e,r=m0){const n=cs(t,r);return n.trim()?`${n}/${e}`:e}function ji(t,e,r=m0){const n=MF(t,e,r),i=t.child({context:n});return IF(i,n,r)}function PF(t){var e,r;const n=new yF((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:db(j1(K1({},t.opts),{level:"trace",browser:j1(K1({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function kF(t){var e;const r=new mF((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:db(j1(K1({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function RF(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?PF(t):kF(t)}let CF=class extends lu{constructor(e){super(),this.opts=e,this.protocol="wc",this.version=2}},TF=class extends lu{constructor(e,r){super(),this.core=e,this.logger=r,this.records=new Map}},NF=class{constructor(e,r){this.logger=e,this.core=r}},OF=class extends lu{constructor(e,r){super(),this.relayer=e,this.logger=r}};class BF extends lu{constructor(e){super()}}class DF{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}}class LF extends lu{constructor(e,r){super(),this.relayer=e,this.logger=r}}let $F=class extends lu{constructor(e,r){super(),this.core=e,this.logger=r}},UF=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},zF=class{constructor(e,r){this.projectId=e,this.logger=r}},FF=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}},qF=class{constructor(e){this.opts=e,this.protocol="wc",this.version=2}},KF=class{constructor(e){this.client=e}};var g6={},nf={},lb={},hb={};Object.defineProperty(hb,"__esModule",{value:!0});hb.BrowserRandomSource=void 0;const u8=65536;class jF{constructor(){this.isAvailable=!1,this.isInstantiated=!1;const e=typeof self<"u"?self.crypto||self.msCrypto:null;e&&e.getRandomValues!==void 0&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Browser random byte generator is not available.");const r=new Uint8Array(e);for(let n=0;n<r.length;n+=u8)this._crypto.getRandomValues(r.subarray(n,n+Math.min(r.length-n,u8)));return r}}hb.BrowserRandomSource=jF;var pb={},As={};Object.defineProperty(As,"__esModule",{value:!0});function WF(t){for(var e=0;e<t.length;e++)t[e]=0;return t}As.wipe=WF;Object.defineProperty(pb,"__esModule",{value:!0});pb.NodeRandomSource=void 0;const HF=As;class VF{constructor(){if(this.isAvailable=!1,this.isInstantiated=!1,typeof HE<"u"){const e=L3();e&&e.randomBytes&&(this._crypto=e,this.isAvailable=!0,this.isInstantiated=!0)}}randomBytes(e){if(!this.isAvailable||!this._crypto)throw new Error("Node.js random byte generator is not available.");let r=this._crypto.randomBytes(e);if(r.length!==e)throw new Error("NodeRandomSource: got fewer bytes than requested");const n=new Uint8Array(e);for(let i=0;i<n.length;i++)n[i]=r[i];return(0,HF.wipe)(r),n}}pb.NodeRandomSource=VF;Object.defineProperty(lb,"__esModule",{value:!0});lb.SystemRandomSource=void 0;const GF=hb,YF=pb;class JF{constructor(){if(this.isAvailable=!1,this.name="",this._source=new GF.BrowserRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Browser";return}if(this._source=new YF.NodeRandomSource,this._source.isAvailable){this.isAvailable=!0,this.name="Node";return}}randomBytes(e){if(!this.isAvailable)throw new Error("System random byte generator is not available.");return this._source.randomBytes(e)}}lb.SystemRandomSource=JF;var Yt={},xA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});function e(a,c){var l=a>>>16&65535,g=a&65535,b=c>>>16&65535,x=c&65535;return g*x+(l*x+g*b<<16>>>0)|0}t.mul=Math.imul||e;function r(a,c){return a+c|0}t.add=r;function n(a,c){return a-c|0}t.sub=n;function i(a,c){return a<<c|a>>>32-c}t.rotl=i;function s(a,c){return a<<32-c|a>>>c}t.rotr=s;function o(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}t.isInteger=Number.isInteger||o,t.MAX_SAFE_INTEGER=9007199254740991,t.isSafeInteger=function(a){return t.isInteger(a)&&a>=-t.MAX_SAFE_INTEGER&&a<=t.MAX_SAFE_INTEGER}})(xA);Object.defineProperty(Yt,"__esModule",{value:!0});var _A=xA;function XF(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])<<16>>16}Yt.readInt16BE=XF;function ZF(t,e){return e===void 0&&(e=0),(t[e+0]<<8|t[e+1])>>>0}Yt.readUint16BE=ZF;function QF(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])<<16>>16}Yt.readInt16LE=QF;function eq(t,e){return e===void 0&&(e=0),(t[e+1]<<8|t[e])>>>0}Yt.readUint16LE=eq;function SA(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>8,e[r+1]=t>>>0,e}Yt.writeUint16BE=SA;Yt.writeInt16BE=SA;function EA(t,e,r){return e===void 0&&(e=new Uint8Array(2)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e}Yt.writeUint16LE=EA;Yt.writeInt16LE=EA;function i2(t,e){return e===void 0&&(e=0),t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}Yt.readInt32BE=i2;function s2(t,e){return e===void 0&&(e=0),(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}Yt.readUint32BE=s2;function o2(t,e){return e===void 0&&(e=0),t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}Yt.readInt32LE=o2;function a2(t,e){return e===void 0&&(e=0),(t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e])>>>0}Yt.readUint32LE=a2;function W1(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>24,e[r+1]=t>>>16,e[r+2]=t>>>8,e[r+3]=t>>>0,e}Yt.writeUint32BE=W1;Yt.writeInt32BE=W1;function H1(t,e,r){return e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0),e[r+0]=t>>>0,e[r+1]=t>>>8,e[r+2]=t>>>16,e[r+3]=t>>>24,e}Yt.writeUint32LE=H1;Yt.writeInt32LE=H1;function tq(t,e){e===void 0&&(e=0);var r=i2(t,e),n=i2(t,e+4);return r*4294967296+n-(n>>31)*4294967296}Yt.readInt64BE=tq;function rq(t,e){e===void 0&&(e=0);var r=s2(t,e),n=s2(t,e+4);return r*4294967296+n}Yt.readUint64BE=rq;function nq(t,e){e===void 0&&(e=0);var r=o2(t,e),n=o2(t,e+4);return n*4294967296+r-(r>>31)*4294967296}Yt.readInt64LE=nq;function iq(t,e){e===void 0&&(e=0);var r=a2(t,e),n=a2(t,e+4);return n*4294967296+r}Yt.readUint64LE=iq;function AA(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),W1(t/4294967296>>>0,e,r),W1(t>>>0,e,r+4),e}Yt.writeUint64BE=AA;Yt.writeInt64BE=AA;function IA(t,e,r){return e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0),H1(t>>>0,e,r),H1(t/4294967296>>>0,e,r+4),e}Yt.writeUint64LE=IA;Yt.writeInt64LE=IA;function sq(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintBE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintBE: array is too short for the given bitLength");for(var n=0,i=1,s=t/8+r-1;s>=r;s--)n+=e[s]*i,i*=256;return n}Yt.readUintBE=sq;function oq(t,e,r){if(r===void 0&&(r=0),t%8!==0)throw new Error("readUintLE supports only bitLengths divisible by 8");if(t/8>e.length-r)throw new Error("readUintLE: array is too short for the given bitLength");for(var n=0,i=1,s=r;s<r+t/8;s++)n+=e[s]*i,i*=256;return n}Yt.readUintLE=oq;function aq(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintBE supports only bitLengths divisible by 8");if(!_A.isSafeInteger(e))throw new Error("writeUintBE value must be an integer");for(var i=1,s=t/8+n-1;s>=n;s--)r[s]=e/i&255,i*=256;return r}Yt.writeUintBE=aq;function cq(t,e,r,n){if(r===void 0&&(r=new Uint8Array(t/8)),n===void 0&&(n=0),t%8!==0)throw new Error("writeUintLE supports only bitLengths divisible by 8");if(!_A.isSafeInteger(e))throw new Error("writeUintLE value must be an integer");for(var i=1,s=n;s<n+t/8;s++)r[s]=e/i&255,i*=256;return r}Yt.writeUintLE=cq;function fq(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e)}Yt.readFloat32BE=fq;function uq(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat32(e,!0)}Yt.readFloat32LE=uq;function dq(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e)}Yt.readFloat64BE=dq;function lq(t,e){e===void 0&&(e=0);var r=new DataView(t.buffer,t.byteOffset,t.byteLength);return r.getFloat64(e,!0)}Yt.readFloat64LE=lq;function hq(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t),e}Yt.writeFloat32BE=hq;function pq(t,e,r){e===void 0&&(e=new Uint8Array(4)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat32(r,t,!0),e}Yt.writeFloat32LE=pq;function gq(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t),e}Yt.writeFloat64BE=gq;function bq(t,e,r){e===void 0&&(e=new Uint8Array(8)),r===void 0&&(r=0);var n=new DataView(e.buffer,e.byteOffset,e.byteLength);return n.setFloat64(r,t,!0),e}Yt.writeFloat64LE=bq;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.randomStringForEntropy=t.randomString=t.randomUint32=t.randomBytes=t.defaultRandomSource=void 0;const e=lb,r=Yt,n=As;t.defaultRandomSource=new e.SystemRandomSource;function i(l,g=t.defaultRandomSource){return g.randomBytes(l)}t.randomBytes=i;function s(l=t.defaultRandomSource){const g=i(4,l),b=(0,r.readUint32LE)(g);return(0,n.wipe)(g),b}t.randomUint32=s;const o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function a(l,g=o,b=t.defaultRandomSource){if(g.length<2)throw new Error("randomString charset is too short");if(g.length>256)throw new Error("randomString charset is too long");let x="";const _=g.length,E=256-256%_;for(;l>0;){const M=i(Math.ceil(l*256/E),b);for(let B=0;B<M.length&&l>0;B++){const P=M[B];P<E&&(x+=g.charAt(P%_),l--)}(0,n.wipe)(M)}return x}t.randomString=a;function c(l,g=o,b=t.defaultRandomSource){const x=Math.ceil(l/(Math.log(g.length)/Math.LN2));return a(x,g,b)}t.randomStringForEntropy=c})(nf);var MA={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Yt,r=As;t.DIGEST_LENGTH=64,t.BLOCK_SIZE=128;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._stateHi=new Int32Array(8),this._stateLo=new Int32Array(8),this._tempHi=new Int32Array(16),this._tempLo=new Int32Array(16),this._buffer=new Uint8Array(256),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._stateHi[0]=1779033703,this._stateHi[1]=3144134277,this._stateHi[2]=1013904242,this._stateHi[3]=2773480762,this._stateHi[4]=1359893119,this._stateHi[5]=2600822924,this._stateHi[6]=528734635,this._stateHi[7]=1541459225,this._stateLo[0]=4089235720,this._stateLo[1]=2227873595,this._stateLo[2]=4271175723,this._stateLo[3]=1595750129,this._stateLo[4]=2917565137,this._stateLo[5]=725511199,this._stateLo[6]=4215389547,this._stateLo[7]=327033209},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._tempHi),r.wipe(this._tempLo),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA512: can't update because hash was finished.");var g=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<t.BLOCK_SIZE&&l>0;)this._buffer[this._bufferLength++]=c[g++],l--;this._bufferLength===this.blockSize&&(s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(g=s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,c,g,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[g++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,g=this._bufferLength,b=l/536870912|0,x=l<<3,_=l%128<112?128:256;this._buffer[g]=128;for(var E=g+1;E<_-8;E++)this._buffer[E]=0;e.writeUint32BE(b,this._buffer,_-8),e.writeUint32BE(x,this._buffer,_-4),s(this._tempHi,this._tempLo,this._stateHi,this._stateLo,this._buffer,0,_),this._finished=!0}for(var E=0;E<this.digestLength/8;E++)e.writeUint32BE(this._stateHi[E],c,E*8),e.writeUint32BE(this._stateLo[E],c,E*8+4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{stateHi:new Int32Array(this._stateHi),stateLo:new Int32Array(this._stateLo),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._stateHi.set(c.stateHi),this._stateLo.set(c.stateLo),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.stateHi),r.wipe(c.stateLo),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA512=n;var i=new Int32Array([1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591]);function s(a,c,l,g,b,x,_){for(var E=l[0],M=l[1],B=l[2],P=l[3],R=l[4],D=l[5],U=l[6],F=l[7],W=g[0],k=g[1],K=g[2],te=g[3],ce=g[4],A=g[5],f=g[6],h=g[7],d,p,v,w,S,y,u,m;_>=128;){for(var I=0;I<16;I++){var $=8*I+x;a[I]=e.readUint32BE(b,$),c[I]=e.readUint32BE(b,$+4)}for(var I=0;I<80;I++){var Z=E,O=M,Q=B,Y=P,X=R,J=D,N=U,ee=F,se=W,le=k,Ee=K,ye=te,Be=ce,bt=A,ke=f,Ke=h;if(d=F,p=h,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=(R>>>14|ce<<18)^(R>>>18|ce<<14)^(ce>>>9|R<<23),p=(ce>>>14|R<<18)^(ce>>>18|R<<14)^(R>>>9|ce<<23),S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,d=R&D^~R&U,p=ce&A^~ce&f,S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,d=i[I*2],p=i[I*2+1],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,d=a[I%16],p=c[I%16],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,v=u&65535|m<<16,w=S&65535|y<<16,d=v,p=w,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=(E>>>28|W<<4)^(W>>>2|E<<30)^(W>>>7|E<<25),p=(W>>>28|E<<4)^(E>>>2|W<<30)^(E>>>7|W<<25),S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,d=E&M^E&B^M&B,p=W&k^W&K^k&K,S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,ee=u&65535|m<<16,Ke=S&65535|y<<16,d=Y,p=ye,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=v,p=w,S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,Y=u&65535|m<<16,ye=S&65535|y<<16,M=Z,B=O,P=Q,R=Y,D=X,U=J,F=N,E=ee,k=se,K=le,te=Ee,ce=ye,A=Be,f=bt,h=ke,W=Ke,I%16===15)for(var $=0;$<16;$++)d=a[$],p=c[$],S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=a[($+9)%16],p=c[($+9)%16],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,v=a[($+1)%16],w=c[($+1)%16],d=(v>>>1|w<<31)^(v>>>8|w<<24)^v>>>7,p=(w>>>1|v<<31)^(w>>>8|v<<24)^(w>>>7|v<<25),S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,v=a[($+14)%16],w=c[($+14)%16],d=(v>>>19|w<<13)^(w>>>29|v<<3)^v>>>6,p=(w>>>19|v<<13)^(v>>>29|w<<3)^(w>>>6|v<<26),S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,a[$]=u&65535|m<<16,c[$]=S&65535|y<<16}d=E,p=W,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=l[0],p=g[0],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,l[0]=E=u&65535|m<<16,g[0]=W=S&65535|y<<16,d=M,p=k,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=l[1],p=g[1],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,l[1]=M=u&65535|m<<16,g[1]=k=S&65535|y<<16,d=B,p=K,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=l[2],p=g[2],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,l[2]=B=u&65535|m<<16,g[2]=K=S&65535|y<<16,d=P,p=te,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=l[3],p=g[3],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,l[3]=P=u&65535|m<<16,g[3]=te=S&65535|y<<16,d=R,p=ce,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=l[4],p=g[4],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,l[4]=R=u&65535|m<<16,g[4]=ce=S&65535|y<<16,d=D,p=A,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=l[5],p=g[5],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,l[5]=D=u&65535|m<<16,g[5]=A=S&65535|y<<16,d=U,p=f,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=l[6],p=g[6],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,l[6]=U=u&65535|m<<16,g[6]=f=S&65535|y<<16,d=F,p=h,S=p&65535,y=p>>>16,u=d&65535,m=d>>>16,d=l[7],p=g[7],S+=p&65535,y+=p>>>16,u+=d&65535,m+=d>>>16,y+=S>>>16,u+=y>>>16,m+=u>>>16,l[7]=F=u&65535|m<<16,g[7]=h=S&65535|y<<16,x+=128,_-=128}return x}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(MA);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.convertSecretKeyToX25519=t.convertPublicKeyToX25519=t.verify=t.sign=t.extractPublicKeyFromSecretKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.SEED_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=t.SIGNATURE_LENGTH=void 0;const e=nf,r=MA,n=As;t.SIGNATURE_LENGTH=64,t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=64,t.SEED_LENGTH=32;function i(Y){const X=new Float64Array(16);if(Y)for(let J=0;J<Y.length;J++)X[J]=Y[J];return X}const s=new Uint8Array(32);s[0]=9;const o=i(),a=i([1]),c=i([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=i([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=i([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=i([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),x=i([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(Y,X){for(let J=0;J<16;J++)Y[J]=X[J]|0}function E(Y){let X=1;for(let J=0;J<16;J++){let N=Y[J]+X+65535;X=Math.floor(N/65536),Y[J]=N-X*65536}Y[0]+=X-1+37*(X-1)}function M(Y,X,J){const N=~(J-1);for(let ee=0;ee<16;ee++){const se=N&(Y[ee]^X[ee]);Y[ee]^=se,X[ee]^=se}}function B(Y,X){const J=i(),N=i();for(let ee=0;ee<16;ee++)N[ee]=X[ee];E(N),E(N),E(N);for(let ee=0;ee<2;ee++){J[0]=N[0]-65517;for(let le=1;le<15;le++)J[le]=N[le]-65535-(J[le-1]>>16&1),J[le-1]&=65535;J[15]=N[15]-32767-(J[14]>>16&1);const se=J[15]>>16&1;J[14]&=65535,M(N,J,1-se)}for(let ee=0;ee<16;ee++)Y[2*ee]=N[ee]&255,Y[2*ee+1]=N[ee]>>8}function P(Y,X){let J=0;for(let N=0;N<32;N++)J|=Y[N]^X[N];return(1&J-1>>>8)-1}function R(Y,X){const J=new Uint8Array(32),N=new Uint8Array(32);return B(J,Y),B(N,X),P(J,N)}function D(Y){const X=new Uint8Array(32);return B(X,Y),X[0]&1}function U(Y,X){for(let J=0;J<16;J++)Y[J]=X[2*J]+(X[2*J+1]<<8);Y[15]&=32767}function F(Y,X,J){for(let N=0;N<16;N++)Y[N]=X[N]+J[N]}function W(Y,X,J){for(let N=0;N<16;N++)Y[N]=X[N]-J[N]}function k(Y,X,J){let N,ee,se=0,le=0,Ee=0,ye=0,Be=0,bt=0,ke=0,Ke=0,dt=0,_e=0,Ae=0,ot=0,xe=0,Ie=0,it=0,q=0,T=0,L=0,G=0,re=0,fe=0,oe=0,we=0,Ge=0,Se=0,Le=0,gt=0,Ue=0,ct=0,Ht=0,Ye=0,Je=J[0],St=J[1],Re=J[2],Ve=J[3],Ot=J[4],Ce=J[5],Ze=J[6],Dt=J[7],Me=J[8],Qe=J[9],z=J[10],j=J[11],H=J[12],C=J[13],V=J[14],ie=J[15];N=X[0],se+=N*Je,le+=N*St,Ee+=N*Re,ye+=N*Ve,Be+=N*Ot,bt+=N*Ce,ke+=N*Ze,Ke+=N*Dt,dt+=N*Me,_e+=N*Qe,Ae+=N*z,ot+=N*j,xe+=N*H,Ie+=N*C,it+=N*V,q+=N*ie,N=X[1],le+=N*Je,Ee+=N*St,ye+=N*Re,Be+=N*Ve,bt+=N*Ot,ke+=N*Ce,Ke+=N*Ze,dt+=N*Dt,_e+=N*Me,Ae+=N*Qe,ot+=N*z,xe+=N*j,Ie+=N*H,it+=N*C,q+=N*V,T+=N*ie,N=X[2],Ee+=N*Je,ye+=N*St,Be+=N*Re,bt+=N*Ve,ke+=N*Ot,Ke+=N*Ce,dt+=N*Ze,_e+=N*Dt,Ae+=N*Me,ot+=N*Qe,xe+=N*z,Ie+=N*j,it+=N*H,q+=N*C,T+=N*V,L+=N*ie,N=X[3],ye+=N*Je,Be+=N*St,bt+=N*Re,ke+=N*Ve,Ke+=N*Ot,dt+=N*Ce,_e+=N*Ze,Ae+=N*Dt,ot+=N*Me,xe+=N*Qe,Ie+=N*z,it+=N*j,q+=N*H,T+=N*C,L+=N*V,G+=N*ie,N=X[4],Be+=N*Je,bt+=N*St,ke+=N*Re,Ke+=N*Ve,dt+=N*Ot,_e+=N*Ce,Ae+=N*Ze,ot+=N*Dt,xe+=N*Me,Ie+=N*Qe,it+=N*z,q+=N*j,T+=N*H,L+=N*C,G+=N*V,re+=N*ie,N=X[5],bt+=N*Je,ke+=N*St,Ke+=N*Re,dt+=N*Ve,_e+=N*Ot,Ae+=N*Ce,ot+=N*Ze,xe+=N*Dt,Ie+=N*Me,it+=N*Qe,q+=N*z,T+=N*j,L+=N*H,G+=N*C,re+=N*V,fe+=N*ie,N=X[6],ke+=N*Je,Ke+=N*St,dt+=N*Re,_e+=N*Ve,Ae+=N*Ot,ot+=N*Ce,xe+=N*Ze,Ie+=N*Dt,it+=N*Me,q+=N*Qe,T+=N*z,L+=N*j,G+=N*H,re+=N*C,fe+=N*V,oe+=N*ie,N=X[7],Ke+=N*Je,dt+=N*St,_e+=N*Re,Ae+=N*Ve,ot+=N*Ot,xe+=N*Ce,Ie+=N*Ze,it+=N*Dt,q+=N*Me,T+=N*Qe,L+=N*z,G+=N*j,re+=N*H,fe+=N*C,oe+=N*V,we+=N*ie,N=X[8],dt+=N*Je,_e+=N*St,Ae+=N*Re,ot+=N*Ve,xe+=N*Ot,Ie+=N*Ce,it+=N*Ze,q+=N*Dt,T+=N*Me,L+=N*Qe,G+=N*z,re+=N*j,fe+=N*H,oe+=N*C,we+=N*V,Ge+=N*ie,N=X[9],_e+=N*Je,Ae+=N*St,ot+=N*Re,xe+=N*Ve,Ie+=N*Ot,it+=N*Ce,q+=N*Ze,T+=N*Dt,L+=N*Me,G+=N*Qe,re+=N*z,fe+=N*j,oe+=N*H,we+=N*C,Ge+=N*V,Se+=N*ie,N=X[10],Ae+=N*Je,ot+=N*St,xe+=N*Re,Ie+=N*Ve,it+=N*Ot,q+=N*Ce,T+=N*Ze,L+=N*Dt,G+=N*Me,re+=N*Qe,fe+=N*z,oe+=N*j,we+=N*H,Ge+=N*C,Se+=N*V,Le+=N*ie,N=X[11],ot+=N*Je,xe+=N*St,Ie+=N*Re,it+=N*Ve,q+=N*Ot,T+=N*Ce,L+=N*Ze,G+=N*Dt,re+=N*Me,fe+=N*Qe,oe+=N*z,we+=N*j,Ge+=N*H,Se+=N*C,Le+=N*V,gt+=N*ie,N=X[12],xe+=N*Je,Ie+=N*St,it+=N*Re,q+=N*Ve,T+=N*Ot,L+=N*Ce,G+=N*Ze,re+=N*Dt,fe+=N*Me,oe+=N*Qe,we+=N*z,Ge+=N*j,Se+=N*H,Le+=N*C,gt+=N*V,Ue+=N*ie,N=X[13],Ie+=N*Je,it+=N*St,q+=N*Re,T+=N*Ve,L+=N*Ot,G+=N*Ce,re+=N*Ze,fe+=N*Dt,oe+=N*Me,we+=N*Qe,Ge+=N*z,Se+=N*j,Le+=N*H,gt+=N*C,Ue+=N*V,ct+=N*ie,N=X[14],it+=N*Je,q+=N*St,T+=N*Re,L+=N*Ve,G+=N*Ot,re+=N*Ce,fe+=N*Ze,oe+=N*Dt,we+=N*Me,Ge+=N*Qe,Se+=N*z,Le+=N*j,gt+=N*H,Ue+=N*C,ct+=N*V,Ht+=N*ie,N=X[15],q+=N*Je,T+=N*St,L+=N*Re,G+=N*Ve,re+=N*Ot,fe+=N*Ce,oe+=N*Ze,we+=N*Dt,Ge+=N*Me,Se+=N*Qe,Le+=N*z,gt+=N*j,Ue+=N*H,ct+=N*C,Ht+=N*V,Ye+=N*ie,se+=38*T,le+=38*L,Ee+=38*G,ye+=38*re,Be+=38*fe,bt+=38*oe,ke+=38*we,Ke+=38*Ge,dt+=38*Se,_e+=38*Le,Ae+=38*gt,ot+=38*Ue,xe+=38*ct,Ie+=38*Ht,it+=38*Ye,ee=1,N=se+ee+65535,ee=Math.floor(N/65536),se=N-ee*65536,N=le+ee+65535,ee=Math.floor(N/65536),le=N-ee*65536,N=Ee+ee+65535,ee=Math.floor(N/65536),Ee=N-ee*65536,N=ye+ee+65535,ee=Math.floor(N/65536),ye=N-ee*65536,N=Be+ee+65535,ee=Math.floor(N/65536),Be=N-ee*65536,N=bt+ee+65535,ee=Math.floor(N/65536),bt=N-ee*65536,N=ke+ee+65535,ee=Math.floor(N/65536),ke=N-ee*65536,N=Ke+ee+65535,ee=Math.floor(N/65536),Ke=N-ee*65536,N=dt+ee+65535,ee=Math.floor(N/65536),dt=N-ee*65536,N=_e+ee+65535,ee=Math.floor(N/65536),_e=N-ee*65536,N=Ae+ee+65535,ee=Math.floor(N/65536),Ae=N-ee*65536,N=ot+ee+65535,ee=Math.floor(N/65536),ot=N-ee*65536,N=xe+ee+65535,ee=Math.floor(N/65536),xe=N-ee*65536,N=Ie+ee+65535,ee=Math.floor(N/65536),Ie=N-ee*65536,N=it+ee+65535,ee=Math.floor(N/65536),it=N-ee*65536,N=q+ee+65535,ee=Math.floor(N/65536),q=N-ee*65536,se+=ee-1+37*(ee-1),ee=1,N=se+ee+65535,ee=Math.floor(N/65536),se=N-ee*65536,N=le+ee+65535,ee=Math.floor(N/65536),le=N-ee*65536,N=Ee+ee+65535,ee=Math.floor(N/65536),Ee=N-ee*65536,N=ye+ee+65535,ee=Math.floor(N/65536),ye=N-ee*65536,N=Be+ee+65535,ee=Math.floor(N/65536),Be=N-ee*65536,N=bt+ee+65535,ee=Math.floor(N/65536),bt=N-ee*65536,N=ke+ee+65535,ee=Math.floor(N/65536),ke=N-ee*65536,N=Ke+ee+65535,ee=Math.floor(N/65536),Ke=N-ee*65536,N=dt+ee+65535,ee=Math.floor(N/65536),dt=N-ee*65536,N=_e+ee+65535,ee=Math.floor(N/65536),_e=N-ee*65536,N=Ae+ee+65535,ee=Math.floor(N/65536),Ae=N-ee*65536,N=ot+ee+65535,ee=Math.floor(N/65536),ot=N-ee*65536,N=xe+ee+65535,ee=Math.floor(N/65536),xe=N-ee*65536,N=Ie+ee+65535,ee=Math.floor(N/65536),Ie=N-ee*65536,N=it+ee+65535,ee=Math.floor(N/65536),it=N-ee*65536,N=q+ee+65535,ee=Math.floor(N/65536),q=N-ee*65536,se+=ee-1+37*(ee-1),Y[0]=se,Y[1]=le,Y[2]=Ee,Y[3]=ye,Y[4]=Be,Y[5]=bt,Y[6]=ke,Y[7]=Ke,Y[8]=dt,Y[9]=_e,Y[10]=Ae,Y[11]=ot,Y[12]=xe,Y[13]=Ie,Y[14]=it,Y[15]=q}function K(Y,X){k(Y,X,X)}function te(Y,X){const J=i();let N;for(N=0;N<16;N++)J[N]=X[N];for(N=253;N>=0;N--)K(J,J),N!==2&&N!==4&&k(J,J,X);for(N=0;N<16;N++)Y[N]=J[N]}function ce(Y,X){const J=i();let N;for(N=0;N<16;N++)J[N]=X[N];for(N=250;N>=0;N--)K(J,J),N!==1&&k(J,J,X);for(N=0;N<16;N++)Y[N]=J[N]}function A(Y,X){const J=i(),N=i(),ee=i(),se=i(),le=i(),Ee=i(),ye=i(),Be=i(),bt=i();W(J,Y[1],Y[0]),W(bt,X[1],X[0]),k(J,J,bt),F(N,Y[0],Y[1]),F(bt,X[0],X[1]),k(N,N,bt),k(ee,Y[3],X[3]),k(ee,ee,l),k(se,Y[2],X[2]),F(se,se,se),W(le,N,J),W(Ee,se,ee),F(ye,se,ee),F(Be,N,J),k(Y[0],le,Ee),k(Y[1],Be,ye),k(Y[2],ye,Ee),k(Y[3],le,Be)}function f(Y,X,J){for(let N=0;N<4;N++)M(Y[N],X[N],J)}function h(Y,X){const J=i(),N=i(),ee=i();te(ee,X[2]),k(J,X[0],ee),k(N,X[1],ee),B(Y,N),Y[31]^=D(J)<<7}function d(Y,X,J){_(Y[0],o),_(Y[1],a),_(Y[2],a),_(Y[3],o);for(let N=255;N>=0;--N){const ee=J[N/8|0]>>(N&7)&1;f(Y,X,ee),A(X,Y),A(Y,Y),f(Y,X,ee)}}function p(Y,X){const J=[i(),i(),i(),i()];_(J[0],g),_(J[1],b),_(J[2],a),k(J[3],g,b),d(Y,J,X)}function v(Y){if(Y.length!==t.SEED_LENGTH)throw new Error(`ed25519: seed must be ${t.SEED_LENGTH} bytes`);const X=(0,r.hash)(Y);X[0]&=248,X[31]&=127,X[31]|=64;const J=new Uint8Array(32),N=[i(),i(),i(),i()];p(N,X),h(J,N);const ee=new Uint8Array(64);return ee.set(Y),ee.set(J,32),{publicKey:J,secretKey:ee}}t.generateKeyPairFromSeed=v;function w(Y){const X=(0,e.randomBytes)(32,Y),J=v(X);return(0,n.wipe)(X),J}t.generateKeyPair=w;function S(Y){if(Y.length!==t.SECRET_KEY_LENGTH)throw new Error(`ed25519: secret key must be ${t.SECRET_KEY_LENGTH} bytes`);return new Uint8Array(Y.subarray(32))}t.extractPublicKeyFromSecretKey=S;const y=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function u(Y,X){let J,N,ee,se;for(N=63;N>=32;--N){for(J=0,ee=N-32,se=N-12;ee<se;++ee)X[ee]+=J-16*X[N]*y[ee-(N-32)],J=Math.floor((X[ee]+128)/256),X[ee]-=J*256;X[ee]+=J,X[N]=0}for(J=0,ee=0;ee<32;ee++)X[ee]+=J-(X[31]>>4)*y[ee],J=X[ee]>>8,X[ee]&=255;for(ee=0;ee<32;ee++)X[ee]-=J*y[ee];for(N=0;N<32;N++)X[N+1]+=X[N]>>8,Y[N]=X[N]&255}function m(Y){const X=new Float64Array(64);for(let J=0;J<64;J++)X[J]=Y[J];for(let J=0;J<64;J++)Y[J]=0;u(Y,X)}function I(Y,X){const J=new Float64Array(64),N=[i(),i(),i(),i()],ee=(0,r.hash)(Y.subarray(0,32));ee[0]&=248,ee[31]&=127,ee[31]|=64;const se=new Uint8Array(64);se.set(ee.subarray(32),32);const le=new r.SHA512;le.update(se.subarray(32)),le.update(X);const Ee=le.digest();le.clean(),m(Ee),p(N,Ee),h(se,N),le.reset(),le.update(se.subarray(0,32)),le.update(Y.subarray(32)),le.update(X);const ye=le.digest();m(ye);for(let Be=0;Be<32;Be++)J[Be]=Ee[Be];for(let Be=0;Be<32;Be++)for(let bt=0;bt<32;bt++)J[Be+bt]+=ye[Be]*ee[bt];return u(se.subarray(32),J),se}t.sign=I;function $(Y,X){const J=i(),N=i(),ee=i(),se=i(),le=i(),Ee=i(),ye=i();return _(Y[2],a),U(Y[1],X),K(ee,Y[1]),k(se,ee,c),W(ee,ee,Y[2]),F(se,Y[2],se),K(le,se),K(Ee,le),k(ye,Ee,le),k(J,ye,ee),k(J,J,se),ce(J,J),k(J,J,ee),k(J,J,se),k(J,J,se),k(Y[0],J,se),K(N,Y[0]),k(N,N,se),R(N,ee)&&k(Y[0],Y[0],x),K(N,Y[0]),k(N,N,se),R(N,ee)?-1:(D(Y[0])===X[31]>>7&&W(Y[0],o,Y[0]),k(Y[3],Y[0],Y[1]),0)}function Z(Y,X,J){const N=new Uint8Array(32),ee=[i(),i(),i(),i()],se=[i(),i(),i(),i()];if(J.length!==t.SIGNATURE_LENGTH)throw new Error(`ed25519: signature must be ${t.SIGNATURE_LENGTH} bytes`);if($(se,Y))return!1;const le=new r.SHA512;le.update(J.subarray(0,32)),le.update(Y),le.update(X);const Ee=le.digest();return m(Ee),d(ee,se,Ee),p(se,J.subarray(32)),A(ee,se),h(N,ee),!P(J,N)}t.verify=Z;function O(Y){let X=[i(),i(),i(),i()];if($(X,Y))throw new Error("Ed25519: invalid public key");let J=i(),N=i(),ee=X[1];F(J,a,ee),W(N,a,ee),te(N,N),k(J,J,N);let se=new Uint8Array(32);return B(se,J),se}t.convertPublicKeyToX25519=O;function Q(Y){const X=(0,r.hash)(Y.subarray(0,32));X[0]&=248,X[31]&=127,X[31]|=64;const J=new Uint8Array(X.subarray(0,32));return(0,n.wipe)(X),J}t.convertSecretKeyToX25519=Q})(g6);const vq="EdDSA",yq="JWT",V1=".",gb="base64url",PA="utf8",kA="utf8",mq=":",wq="did",xq="key",d8="base58btc",_q="z",Sq="K36",Eq=32;function RA(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Jp(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=RA(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function Aq(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function b(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var M=0,B=0,P=0,R=E.length;P!==R&&E[P]===0;)P++,M++;for(var D=(R-P)*g+1>>>0,U=new Uint8Array(D);P!==R;){for(var F=E[P],W=0,k=D-1;(F!==0||W<B)&&k!==-1;k--,W++)F+=256*U[k]>>>0,U[k]=F%a>>>0,F=F/a>>>0;if(F!==0)throw new Error("Non-zero carry");B=W,P++}for(var K=D-B;K!==D&&U[K]===0;)K++;for(var te=c.repeat(M);K<D;++K)te+=t.charAt(U[K]);return te}function x(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var M=0;if(E[M]!==" "){for(var B=0,P=0;E[M]===c;)B++,M++;for(var R=(E.length-M)*l+1>>>0,D=new Uint8Array(R);E[M];){var U=r[E.charCodeAt(M)];if(U===255)return;for(var F=0,W=R-1;(U!==0||F<P)&&W!==-1;W--,F++)U+=a*D[W]>>>0,D[W]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");P=F,M++}if(E[M]!==" "){for(var k=R-P;k!==R&&D[k]===0;)k++;for(var K=new Uint8Array(B+(R-k)),te=B;k!==R;)K[te++]=D[k++];return K}}}function _(E){var M=x(E);if(M)return M;throw new Error(`Non-${e} character`)}return{encode:b,decodeUnsafe:x,decode:_}}var Iq=Aq,Mq=Iq;const Pq=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},kq=t=>new TextEncoder().encode(t),Rq=t=>new TextDecoder().decode(t);class Cq{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class Tq{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return CA(this,e)}}class Nq{constructor(e){this.decoders=e}or(e){return CA(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const CA=(t,e)=>new Nq({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Oq{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Cq(e,r,n),this.decoder=new Tq(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const bb=({name:t,prefix:e,encode:r,decode:n})=>new Oq(t,e,r,n),w0=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=Mq(r,e);return bb({prefix:t,name:e,encode:n,decode:s=>Pq(i(s))})},Bq=(t,e,r,n)=>{const i={};for(let g=0;g<e.length;++g)i[e[g]]=g;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let g=0;g<s;++g){const b=i[t[g]];if(b===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|b,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Dq=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},di=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>bb({prefix:e,name:t,encode(i){return Dq(i,n,r)},decode(i){return Bq(i,n,r,t)}}),Lq=bb({prefix:"\0",name:"identity",encode:t=>Rq(t),decode:t=>kq(t)}),$q=Object.freeze(Object.defineProperty({__proto__:null,identity:Lq},Symbol.toStringTag,{value:"Module"})),Uq=di({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),zq=Object.freeze(Object.defineProperty({__proto__:null,base2:Uq},Symbol.toStringTag,{value:"Module"})),Fq=di({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),qq=Object.freeze(Object.defineProperty({__proto__:null,base8:Fq},Symbol.toStringTag,{value:"Module"})),Kq=w0({prefix:"9",name:"base10",alphabet:"0123456789"}),jq=Object.freeze(Object.defineProperty({__proto__:null,base10:Kq},Symbol.toStringTag,{value:"Module"})),Wq=di({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Hq=di({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Vq=Object.freeze(Object.defineProperty({__proto__:null,base16:Wq,base16upper:Hq},Symbol.toStringTag,{value:"Module"})),Gq=di({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Yq=di({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Jq=di({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Xq=di({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Zq=di({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Qq=di({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),eK=di({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),tK=di({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rK=di({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),nK=Object.freeze(Object.defineProperty({__proto__:null,base32:Gq,base32hex:Zq,base32hexpad:eK,base32hexpadupper:tK,base32hexupper:Qq,base32pad:Jq,base32padupper:Xq,base32upper:Yq,base32z:rK},Symbol.toStringTag,{value:"Module"})),iK=w0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),sK=w0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),oK=Object.freeze(Object.defineProperty({__proto__:null,base36:iK,base36upper:sK},Symbol.toStringTag,{value:"Module"})),aK=w0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),cK=w0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),fK=Object.freeze(Object.defineProperty({__proto__:null,base58btc:aK,base58flickr:cK},Symbol.toStringTag,{value:"Module"})),uK=di({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),dK=di({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lK=di({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),hK=di({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),pK=Object.freeze(Object.defineProperty({__proto__:null,base64:uK,base64pad:dK,base64url:lK,base64urlpad:hK},Symbol.toStringTag,{value:"Module"})),TA=Array.from(""),gK=TA.reduce((t,e,r)=>(t[r]=e,t),[]),bK=TA.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function vK(t){return t.reduce((e,r)=>(e+=gK[r],e),"")}function yK(t){const e=[];for(const r of t){const n=bK[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const mK=bb({prefix:"",name:"base256emoji",encode:vK,decode:yK}),wK=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:mK},Symbol.toStringTag,{value:"Module"})),l8={...$q,...zq,...qq,...jq,...Vq,...nK,...oK,...fK,...pK,...wK};function NA(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const h8=NA("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),ty=NA("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=RA(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),OA={utf8:h8,"utf-8":h8,hex:l8.base16,latin1:ty,ascii:ty,binary:ty,...l8};function Kn(t,e="utf8"){const r=OA[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function $n(t,e="utf8"){const r=OA[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}function p8(t){return Nd(Kn($n(t,gb),PA))}function G1(t){return Kn($n(eu(t),PA),gb)}function BA(t){const e=$n(Sq,d8),r=_q+Kn(Jp([e,t]),d8);return[wq,xq,r].join(mq)}function xK(t){return Kn(t,gb)}function _K(t){return $n(t,gb)}function SK(t){return $n([G1(t.header),G1(t.payload)].join(V1),kA)}function EK(t){return[G1(t.header),G1(t.payload),xK(t.signature)].join(V1)}function c2(t){const e=t.split(V1),r=p8(e[0]),n=p8(e[1]),i=_K(e[2]),s=$n(e.slice(0,2).join(V1),kA);return{header:r,payload:n,signature:i,data:s}}function g8(t=nf.randomBytes(Eq)){return g6.generateKeyPairFromSeed(t)}async function AK(t,e,r,n,i=ht.fromMiliseconds(Date.now())){const s={alg:vq,typ:yq},o=BA(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=SK({header:s,payload:c}),g=g6.sign(n.secretKey,l);return EK({header:s,payload:c,signature:g})}var b8=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},IK=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),MK=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),PK=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),kK=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),RK=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),CK=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,TK=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,v8=3,NK=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",CK]],y8=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function OK(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new RK:typeof navigator<"u"?DK(navigator.userAgent):$K()}function BK(t){return t!==""&&NK.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function DK(t){var e=BK(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new kK;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<v8&&(i=b8(b8([],i,!0),UK(v8-i.length),!0)):i=[];var s=i.join("."),o=LK(t),a=TK.exec(t);return a&&a[1]?new PK(r,s,o,a[1]):new IK(r,s,o)}function LK(t){for(var e=0,r=y8.length;e<r;e++){var n=y8[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function $K(){var t=typeof process<"u"&&process.version;return t?new MK(process.version.slice(1)):null}function UK(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.getLocalStorage=Dr.getLocalStorageOrThrow=Dr.getCrypto=Dr.getCryptoOrThrow=DA=Dr.getLocation=Dr.getLocationOrThrow=b6=Dr.getNavigator=Dr.getNavigatorOrThrow=x0=Dr.getDocument=Dr.getDocumentOrThrow=Dr.getFromWindowOrThrow=Dr.getFromWindow=void 0;function pu(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Dr.getFromWindow=pu;function sl(t){const e=pu(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Dr.getFromWindowOrThrow=sl;function zK(){return sl("document")}Dr.getDocumentOrThrow=zK;function FK(){return pu("document")}var x0=Dr.getDocument=FK;function qK(){return sl("navigator")}Dr.getNavigatorOrThrow=qK;function KK(){return pu("navigator")}var b6=Dr.getNavigator=KK;function jK(){return sl("location")}Dr.getLocationOrThrow=jK;function WK(){return pu("location")}var DA=Dr.getLocation=WK;function HK(){return sl("crypto")}Dr.getCryptoOrThrow=HK;function VK(){return pu("crypto")}Dr.getCrypto=VK;function GK(){return sl("localStorage")}Dr.getLocalStorageOrThrow=GK;function YK(){return pu("localStorage")}Dr.getLocalStorage=YK;var v6={};Object.defineProperty(v6,"__esModule",{value:!0});var LA=v6.getWindowMetadata=void 0;const m8=Dr;function JK(){let t,e;try{t=m8.getDocumentOrThrow(),e=m8.getLocationOrThrow()}catch{return null}function r(){const b=t.getElementsByTagName("link"),x=[];for(let _=0;_<b.length;_++){const E=b[_],M=E.getAttribute("rel");if(M&&M.toLowerCase().indexOf("icon")>-1){const B=E.getAttribute("href");if(B)if(B.toLowerCase().indexOf("https:")===-1&&B.toLowerCase().indexOf("http:")===-1&&B.indexOf("//")!==0){let P=e.protocol+"//"+e.host;if(B.indexOf("/")===0)P+=B;else{const R=e.pathname.split("/");R.pop();const D=R.join("/");P+=D+"/"+B}x.push(P)}else if(B.indexOf("//")===0){const P=e.protocol+B;x.push(P)}else x.push(B)}}return x}function n(...b){const x=t.getElementsByTagName("meta");for(let _=0;_<x.length;_++){const E=x[_],M=["itemprop","property","name"].map(B=>E.getAttribute(B)).filter(B=>B?b.includes(B):!1);if(M.length&&M){const B=E.getAttribute("content");if(B)return B}}return""}function i(){let b=n("name","og:site_name","og:title","twitter:title");return b||(b=t.title),b}function s(){return n("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=r();return{description:a,url:c,icons:l,name:o}}LA=v6.getWindowMetadata=JK;var Hh={},XK=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),$A="%[a-f0-9]{2}",w8=new RegExp("("+$A+")|([^%]+?)","gi"),x8=new RegExp("("+$A+")+","gi");function f2(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;var r=t.slice(0,e),n=t.slice(e);return Array.prototype.concat.call([],f2(r),f2(n))}function ZK(t){try{return decodeURIComponent(t)}catch{for(var e=t.match(w8)||[],r=1;r<e.length;r++)t=f2(e,r).join(""),e=t.match(w8)||[];return t}}function QK(t){for(var e={"%FE%FF":"","%FF%FE":""},r=x8.exec(t);r;){try{e[r[0]]=decodeURIComponent(r[0])}catch{var n=ZK(r[0]);n!==r[0]&&(e[r[0]]=n)}r=x8.exec(t)}e["%C2"]="";for(var i=Object.keys(e),s=0;s<i.length;s++){var o=i[s];t=t.replace(new RegExp(o,"g"),e[o])}return t}var ej=function(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return t=t.replace(/\+/g," "),decodeURIComponent(t)}catch{return QK(t)}},tj=(t,e)=>{if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[t];const r=t.indexOf(e);return r===-1?[t]:[t.slice(0,r),t.slice(r+e.length)]},rj=function(t,e){for(var r={},n=Object.keys(t),i=Array.isArray(e),s=0;s<n.length;s++){var o=n[s],a=t[o];(i?e.indexOf(o)!==-1:e(o,a,t))&&(r[o]=a)}return r};(function(t){const e=XK,r=ej,n=tj,i=rj,s=R=>R==null,o=Symbol("encodeFragmentIdentifier");function a(R){switch(R.arrayFormat){case"index":return D=>(U,F)=>{const W=U.length;return F===void 0||R.skipNull&&F===null||R.skipEmptyString&&F===""?U:F===null?[...U,[g(D,R),"[",W,"]"].join("")]:[...U,[g(D,R),"[",g(W,R),"]=",g(F,R)].join("")]};case"bracket":return D=>(U,F)=>F===void 0||R.skipNull&&F===null||R.skipEmptyString&&F===""?U:F===null?[...U,[g(D,R),"[]"].join("")]:[...U,[g(D,R),"[]=",g(F,R)].join("")];case"colon-list-separator":return D=>(U,F)=>F===void 0||R.skipNull&&F===null||R.skipEmptyString&&F===""?U:F===null?[...U,[g(D,R),":list="].join("")]:[...U,[g(D,R),":list=",g(F,R)].join("")];case"comma":case"separator":case"bracket-separator":{const D=R.arrayFormat==="bracket-separator"?"[]=":"=";return U=>(F,W)=>W===void 0||R.skipNull&&W===null||R.skipEmptyString&&W===""?F:(W=W===null?"":W,F.length===0?[[g(U,R),D,g(W,R)].join("")]:[[F,g(W,R)].join(R.arrayFormatSeparator)])}default:return D=>(U,F)=>F===void 0||R.skipNull&&F===null||R.skipEmptyString&&F===""?U:F===null?[...U,g(D,R)]:[...U,[g(D,R),"=",g(F,R)].join("")]}}function c(R){let D;switch(R.arrayFormat){case"index":return(U,F,W)=>{if(D=/\[(\d*)\]$/.exec(U),U=U.replace(/\[\d*\]$/,""),!D){W[U]=F;return}W[U]===void 0&&(W[U]={}),W[U][D[1]]=F};case"bracket":return(U,F,W)=>{if(D=/(\[\])$/.exec(U),U=U.replace(/\[\]$/,""),!D){W[U]=F;return}if(W[U]===void 0){W[U]=[F];return}W[U]=[].concat(W[U],F)};case"colon-list-separator":return(U,F,W)=>{if(D=/(:list)$/.exec(U),U=U.replace(/:list$/,""),!D){W[U]=F;return}if(W[U]===void 0){W[U]=[F];return}W[U]=[].concat(W[U],F)};case"comma":case"separator":return(U,F,W)=>{const k=typeof F=="string"&&F.includes(R.arrayFormatSeparator),K=typeof F=="string"&&!k&&b(F,R).includes(R.arrayFormatSeparator);F=K?b(F,R):F;const te=k||K?F.split(R.arrayFormatSeparator).map(ce=>b(ce,R)):F===null?F:b(F,R);W[U]=te};case"bracket-separator":return(U,F,W)=>{const k=/(\[\])$/.test(U);if(U=U.replace(/\[\]$/,""),!k){W[U]=F&&b(F,R);return}const K=F===null?[]:F.split(R.arrayFormatSeparator).map(te=>b(te,R));if(W[U]===void 0){W[U]=K;return}W[U]=[].concat(W[U],K)};default:return(U,F,W)=>{if(W[U]===void 0){W[U]=F;return}W[U]=[].concat(W[U],F)}}}function l(R){if(typeof R!="string"||R.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function g(R,D){return D.encode?D.strict?e(R):encodeURIComponent(R):R}function b(R,D){return D.decode?r(R):R}function x(R){return Array.isArray(R)?R.sort():typeof R=="object"?x(Object.keys(R)).sort((D,U)=>Number(D)-Number(U)).map(D=>R[D]):R}function _(R){const D=R.indexOf("#");return D!==-1&&(R=R.slice(0,D)),R}function E(R){let D="";const U=R.indexOf("#");return U!==-1&&(D=R.slice(U)),D}function M(R){R=_(R);const D=R.indexOf("?");return D===-1?"":R.slice(D+1)}function B(R,D){return D.parseNumbers&&!Number.isNaN(Number(R))&&typeof R=="string"&&R.trim()!==""?R=Number(R):D.parseBooleans&&R!==null&&(R.toLowerCase()==="true"||R.toLowerCase()==="false")&&(R=R.toLowerCase()==="true"),R}function P(R,D){D=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},D),l(D.arrayFormatSeparator);const U=c(D),F=Object.create(null);if(typeof R!="string"||(R=R.trim().replace(/^[?#&]/,""),!R))return F;for(const W of R.split("&")){if(W==="")continue;let[k,K]=n(D.decode?W.replace(/\+/g," "):W,"=");K=K===void 0?null:["comma","separator","bracket-separator"].includes(D.arrayFormat)?K:b(K,D),U(b(k,D),K,F)}for(const W of Object.keys(F)){const k=F[W];if(typeof k=="object"&&k!==null)for(const K of Object.keys(k))k[K]=B(k[K],D);else F[W]=B(k,D)}return D.sort===!1?F:(D.sort===!0?Object.keys(F).sort():Object.keys(F).sort(D.sort)).reduce((W,k)=>{const K=F[k];return K&&typeof K=="object"&&!Array.isArray(K)?W[k]=x(K):W[k]=K,W},Object.create(null))}t.extract=M,t.parse=P,t.stringify=(R,D)=>{if(!R)return"";D=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},D),l(D.arrayFormatSeparator);const U=K=>D.skipNull&&s(R[K])||D.skipEmptyString&&R[K]==="",F=a(D),W={};for(const K of Object.keys(R))U(K)||(W[K]=R[K]);const k=Object.keys(W);return D.sort!==!1&&k.sort(D.sort),k.map(K=>{const te=R[K];return te===void 0?"":te===null?g(K,D):Array.isArray(te)?te.length===0&&D.arrayFormat==="bracket-separator"?g(K,D)+"[]":te.reduce(F(K),[]).join("&"):g(K,D)+"="+g(te,D)}).filter(K=>K.length>0).join("&")},t.parseUrl=(R,D)=>{D=Object.assign({decode:!0},D);const[U,F]=n(R,"#");return Object.assign({url:U.split("?")[0]||"",query:P(M(R),D)},D&&D.parseFragmentIdentifier&&F?{fragmentIdentifier:b(F,D)}:{})},t.stringifyUrl=(R,D)=>{D=Object.assign({encode:!0,strict:!0,[o]:!0},D);const U=_(R.url).split("?")[0]||"",F=t.extract(R.url),W=t.parse(F,{sort:!1}),k=Object.assign(W,R.query);let K=t.stringify(k,D);K&&(K=`?${K}`);let te=E(R.url);return R.fragmentIdentifier&&(te=`#${D[o]?g(R.fragmentIdentifier,D):R.fragmentIdentifier}`),`${U}${K}${te}`},t.pick=(R,D,U)=>{U=Object.assign({parseFragmentIdentifier:!0,[o]:!1},U);const{url:F,query:W,fragmentIdentifier:k}=t.parseUrl(R,U);return t.stringifyUrl({url:F,query:i(W,D),fragmentIdentifier:k},U)},t.exclude=(R,D,U)=>{const F=Array.isArray(D)?W=>!D.includes(W):(W,k)=>!D(W,k);return t.pick(R,F,U)}})(Hh);var UA={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=globalThis:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),g=[31,7936,2031616,520093696],b=[4,1024,262144,67108864],x=[1,256,65536,16777216],_=[6,1536,393216,100663296],E=[0,8,16,24],M=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],B=[224,256,384,512],P=[128,256],R=["hex","buffer","arrayBuffer","array","digest"],D={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(O){return Object.prototype.toString.call(O)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(O){return typeof O=="object"&&O.buffer&&O.buffer.constructor===ArrayBuffer});for(var U=function(O,Q,Y){return function(X){return new I(O,Q,O).update(X)[Y]()}},F=function(O,Q,Y){return function(X,J){return new I(O,Q,J).update(X)[Y]()}},W=function(O,Q,Y){return function(X,J,N,ee){return d["cshake"+O].update(X,J,N,ee)[Y]()}},k=function(O,Q,Y){return function(X,J,N,ee){return d["kmac"+O].update(X,J,N,ee)[Y]()}},K=function(O,Q,Y,X){for(var J=0;J<R.length;++J){var N=R[J];O[N]=Q(Y,X,N)}return O},te=function(O,Q){var Y=U(O,Q,"hex");return Y.create=function(){return new I(O,Q,O)},Y.update=function(X){return Y.create().update(X)},K(Y,U,O,Q)},ce=function(O,Q){var Y=F(O,Q,"hex");return Y.create=function(X){return new I(O,Q,X)},Y.update=function(X,J){return Y.create(J).update(X)},K(Y,F,O,Q)},A=function(O,Q){var Y=D[O],X=W(O,Q,"hex");return X.create=function(J,N,ee){return!N&&!ee?d["shake"+O].create(J):new I(O,Q,J).bytepad([N,ee],Y)},X.update=function(J,N,ee,se){return X.create(N,ee,se).update(J)},K(X,W,O,Q)},f=function(O,Q){var Y=D[O],X=k(O,Q,"hex");return X.create=function(J,N,ee){return new $(O,Q,N).bytepad(["KMAC",ee],Y).bytepad([J],Y)},X.update=function(J,N,ee,se){return X.create(J,ee,se).update(N)},K(X,k,O,Q)},h=[{name:"keccak",padding:x,bits:B,createMethod:te},{name:"sha3",padding:_,bits:B,createMethod:te},{name:"shake",padding:g,bits:P,createMethod:ce},{name:"cshake",padding:b,bits:P,createMethod:A},{name:"kmac",padding:b,bits:P,createMethod:f}],d={},p=[],v=0;v<h.length;++v)for(var w=h[v],S=w.bits,y=0;y<S.length;++y){var u=w.name+"_"+S[y];if(p.push(u),d[u]=w.createMethod(S[y],w.padding),w.name!=="sha3"){var m=w.name+S[y];p.push(m),d[m]=d[u]}}function I(O,Q,Y){this.blocks=[],this.s=[],this.padding=Q,this.outputBits=Y,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(O<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Y>>5,this.extraBytes=(Y&31)>>3;for(var X=0;X<50;++X)this.s[X]=0}I.prototype.update=function(O){if(this.finalized)throw new Error(r);var Q,Y=typeof O;if(Y!=="string"){if(Y==="object"){if(O===null)throw new Error(e);if(c&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!c||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);Q=!0}for(var X=this.blocks,J=this.byteCount,N=O.length,ee=this.blockCount,se=0,le=this.s,Ee,ye;se<N;){if(this.reset)for(this.reset=!1,X[0]=this.block,Ee=1;Ee<ee+1;++Ee)X[Ee]=0;if(Q)for(Ee=this.start;se<N&&Ee<J;++se)X[Ee>>2]|=O[se]<<E[Ee++&3];else for(Ee=this.start;se<N&&Ee<J;++se)ye=O.charCodeAt(se),ye<128?X[Ee>>2]|=ye<<E[Ee++&3]:ye<2048?(X[Ee>>2]|=(192|ye>>6)<<E[Ee++&3],X[Ee>>2]|=(128|ye&63)<<E[Ee++&3]):ye<55296||ye>=57344?(X[Ee>>2]|=(224|ye>>12)<<E[Ee++&3],X[Ee>>2]|=(128|ye>>6&63)<<E[Ee++&3],X[Ee>>2]|=(128|ye&63)<<E[Ee++&3]):(ye=65536+((ye&1023)<<10|O.charCodeAt(++se)&1023),X[Ee>>2]|=(240|ye>>18)<<E[Ee++&3],X[Ee>>2]|=(128|ye>>12&63)<<E[Ee++&3],X[Ee>>2]|=(128|ye>>6&63)<<E[Ee++&3],X[Ee>>2]|=(128|ye&63)<<E[Ee++&3]);if(this.lastByteIndex=Ee,Ee>=J){for(this.start=Ee-J,this.block=X[ee],Ee=0;Ee<ee;++Ee)le[Ee]^=X[Ee];Z(le),this.reset=!0}else this.start=Ee}return this},I.prototype.encode=function(O,Q){var Y=O&255,X=1,J=[Y];for(O=O>>8,Y=O&255;Y>0;)J.unshift(Y),O=O>>8,Y=O&255,++X;return Q?J.push(X):J.unshift(X),this.update(J),J.length},I.prototype.encodeString=function(O){var Q,Y=typeof O;if(Y!=="string"){if(Y==="object"){if(O===null)throw new Error(e);if(c&&O.constructor===ArrayBuffer)O=new Uint8Array(O);else if(!Array.isArray(O)&&(!c||!ArrayBuffer.isView(O)))throw new Error(e)}else throw new Error(e);Q=!0}var X=0,J=O.length;if(Q)X=J;else for(var N=0;N<O.length;++N){var ee=O.charCodeAt(N);ee<128?X+=1:ee<2048?X+=2:ee<55296||ee>=57344?X+=3:(ee=65536+((ee&1023)<<10|O.charCodeAt(++N)&1023),X+=4)}return X+=this.encode(X*8),this.update(O),X},I.prototype.bytepad=function(O,Q){for(var Y=this.encode(Q),X=0;X<O.length;++X)Y+=this.encodeString(O[X]);var J=Q-Y%Q,N=[];return N.length=J,this.update(N),this},I.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var O=this.blocks,Q=this.lastByteIndex,Y=this.blockCount,X=this.s;if(O[Q>>2]|=this.padding[Q&3],this.lastByteIndex===this.byteCount)for(O[0]=O[Y],Q=1;Q<Y+1;++Q)O[Q]=0;for(O[Y-1]|=2147483648,Q=0;Q<Y;++Q)X[Q]^=O[Q];Z(X)}},I.prototype.toString=I.prototype.hex=function(){this.finalize();for(var O=this.blockCount,Q=this.s,Y=this.outputBlocks,X=this.extraBytes,J=0,N=0,ee="",se;N<Y;){for(J=0;J<O&&N<Y;++J,++N)se=Q[J],ee+=l[se>>4&15]+l[se&15]+l[se>>12&15]+l[se>>8&15]+l[se>>20&15]+l[se>>16&15]+l[se>>28&15]+l[se>>24&15];N%O===0&&(Z(Q),J=0)}return X&&(se=Q[J],ee+=l[se>>4&15]+l[se&15],X>1&&(ee+=l[se>>12&15]+l[se>>8&15]),X>2&&(ee+=l[se>>20&15]+l[se>>16&15])),ee},I.prototype.arrayBuffer=function(){this.finalize();var O=this.blockCount,Q=this.s,Y=this.outputBlocks,X=this.extraBytes,J=0,N=0,ee=this.outputBits>>3,se;X?se=new ArrayBuffer(Y+1<<2):se=new ArrayBuffer(ee);for(var le=new Uint32Array(se);N<Y;){for(J=0;J<O&&N<Y;++J,++N)le[N]=Q[J];N%O===0&&Z(Q)}return X&&(le[J]=Q[J],se=se.slice(0,ee)),se},I.prototype.buffer=I.prototype.arrayBuffer,I.prototype.digest=I.prototype.array=function(){this.finalize();for(var O=this.blockCount,Q=this.s,Y=this.outputBlocks,X=this.extraBytes,J=0,N=0,ee=[],se,le;N<Y;){for(J=0;J<O&&N<Y;++J,++N)se=N<<2,le=Q[J],ee[se]=le&255,ee[se+1]=le>>8&255,ee[se+2]=le>>16&255,ee[se+3]=le>>24&255;N%O===0&&Z(Q)}return X&&(se=N<<2,le=Q[J],ee[se]=le&255,X>1&&(ee[se+1]=le>>8&255),X>2&&(ee[se+2]=le>>16&255)),ee};function $(O,Q,Y){I.call(this,O,Q,Y)}$.prototype=new I,$.prototype.finalize=function(){return this.encode(this.outputBits,!0),I.prototype.finalize.call(this)};var Z=function(O){var Q,Y,X,J,N,ee,se,le,Ee,ye,Be,bt,ke,Ke,dt,_e,Ae,ot,xe,Ie,it,q,T,L,G,re,fe,oe,we,Ge,Se,Le,gt,Ue,ct,Ht,Ye,Je,St,Re,Ve,Ot,Ce,Ze,Dt,Me,Qe,z,j,H,C,V,ie,de,ue,pe,$e,De,Bt,tt,xt,_t,mt;for(X=0;X<48;X+=2)J=O[0]^O[10]^O[20]^O[30]^O[40],N=O[1]^O[11]^O[21]^O[31]^O[41],ee=O[2]^O[12]^O[22]^O[32]^O[42],se=O[3]^O[13]^O[23]^O[33]^O[43],le=O[4]^O[14]^O[24]^O[34]^O[44],Ee=O[5]^O[15]^O[25]^O[35]^O[45],ye=O[6]^O[16]^O[26]^O[36]^O[46],Be=O[7]^O[17]^O[27]^O[37]^O[47],bt=O[8]^O[18]^O[28]^O[38]^O[48],ke=O[9]^O[19]^O[29]^O[39]^O[49],Q=bt^(ee<<1|se>>>31),Y=ke^(se<<1|ee>>>31),O[0]^=Q,O[1]^=Y,O[10]^=Q,O[11]^=Y,O[20]^=Q,O[21]^=Y,O[30]^=Q,O[31]^=Y,O[40]^=Q,O[41]^=Y,Q=J^(le<<1|Ee>>>31),Y=N^(Ee<<1|le>>>31),O[2]^=Q,O[3]^=Y,O[12]^=Q,O[13]^=Y,O[22]^=Q,O[23]^=Y,O[32]^=Q,O[33]^=Y,O[42]^=Q,O[43]^=Y,Q=ee^(ye<<1|Be>>>31),Y=se^(Be<<1|ye>>>31),O[4]^=Q,O[5]^=Y,O[14]^=Q,O[15]^=Y,O[24]^=Q,O[25]^=Y,O[34]^=Q,O[35]^=Y,O[44]^=Q,O[45]^=Y,Q=le^(bt<<1|ke>>>31),Y=Ee^(ke<<1|bt>>>31),O[6]^=Q,O[7]^=Y,O[16]^=Q,O[17]^=Y,O[26]^=Q,O[27]^=Y,O[36]^=Q,O[37]^=Y,O[46]^=Q,O[47]^=Y,Q=ye^(J<<1|N>>>31),Y=Be^(N<<1|J>>>31),O[8]^=Q,O[9]^=Y,O[18]^=Q,O[19]^=Y,O[28]^=Q,O[29]^=Y,O[38]^=Q,O[39]^=Y,O[48]^=Q,O[49]^=Y,Ke=O[0],dt=O[1],Me=O[11]<<4|O[10]>>>28,Qe=O[10]<<4|O[11]>>>28,oe=O[20]<<3|O[21]>>>29,we=O[21]<<3|O[20]>>>29,tt=O[31]<<9|O[30]>>>23,xt=O[30]<<9|O[31]>>>23,Ot=O[40]<<18|O[41]>>>14,Ce=O[41]<<18|O[40]>>>14,Ue=O[2]<<1|O[3]>>>31,ct=O[3]<<1|O[2]>>>31,_e=O[13]<<12|O[12]>>>20,Ae=O[12]<<12|O[13]>>>20,z=O[22]<<10|O[23]>>>22,j=O[23]<<10|O[22]>>>22,Ge=O[33]<<13|O[32]>>>19,Se=O[32]<<13|O[33]>>>19,_t=O[42]<<2|O[43]>>>30,mt=O[43]<<2|O[42]>>>30,de=O[5]<<30|O[4]>>>2,ue=O[4]<<30|O[5]>>>2,Ht=O[14]<<6|O[15]>>>26,Ye=O[15]<<6|O[14]>>>26,ot=O[25]<<11|O[24]>>>21,xe=O[24]<<11|O[25]>>>21,H=O[34]<<15|O[35]>>>17,C=O[35]<<15|O[34]>>>17,Le=O[45]<<29|O[44]>>>3,gt=O[44]<<29|O[45]>>>3,L=O[6]<<28|O[7]>>>4,G=O[7]<<28|O[6]>>>4,pe=O[17]<<23|O[16]>>>9,$e=O[16]<<23|O[17]>>>9,Je=O[26]<<25|O[27]>>>7,St=O[27]<<25|O[26]>>>7,Ie=O[36]<<21|O[37]>>>11,it=O[37]<<21|O[36]>>>11,V=O[47]<<24|O[46]>>>8,ie=O[46]<<24|O[47]>>>8,Ze=O[8]<<27|O[9]>>>5,Dt=O[9]<<27|O[8]>>>5,re=O[18]<<20|O[19]>>>12,fe=O[19]<<20|O[18]>>>12,De=O[29]<<7|O[28]>>>25,Bt=O[28]<<7|O[29]>>>25,Re=O[38]<<8|O[39]>>>24,Ve=O[39]<<8|O[38]>>>24,q=O[48]<<14|O[49]>>>18,T=O[49]<<14|O[48]>>>18,O[0]=Ke^~_e&ot,O[1]=dt^~Ae&xe,O[10]=L^~re&oe,O[11]=G^~fe&we,O[20]=Ue^~Ht&Je,O[21]=ct^~Ye&St,O[30]=Ze^~Me&z,O[31]=Dt^~Qe&j,O[40]=de^~pe&De,O[41]=ue^~$e&Bt,O[2]=_e^~ot&Ie,O[3]=Ae^~xe&it,O[12]=re^~oe&Ge,O[13]=fe^~we&Se,O[22]=Ht^~Je&Re,O[23]=Ye^~St&Ve,O[32]=Me^~z&H,O[33]=Qe^~j&C,O[42]=pe^~De&tt,O[43]=$e^~Bt&xt,O[4]=ot^~Ie&q,O[5]=xe^~it&T,O[14]=oe^~Ge&Le,O[15]=we^~Se&gt,O[24]=Je^~Re&Ot,O[25]=St^~Ve&Ce,O[34]=z^~H&V,O[35]=j^~C&ie,O[44]=De^~tt&_t,O[45]=Bt^~xt&mt,O[6]=Ie^~q&Ke,O[7]=it^~T&dt,O[16]=Ge^~Le&L,O[17]=Se^~gt&G,O[26]=Re^~Ot&Ue,O[27]=Ve^~Ce&ct,O[36]=H^~V&Ze,O[37]=C^~ie&Dt,O[46]=tt^~_t&de,O[47]=xt^~mt&ue,O[8]=q^~Ke&_e,O[9]=T^~dt&Ae,O[18]=Le^~L&re,O[19]=gt^~G&fe,O[28]=Ot^~Ue&Ht,O[29]=Ce^~ct&Ye,O[38]=V^~Ze&Me,O[39]=ie^~Dt&Qe,O[48]=_t^~de&pe,O[49]=mt^~ue&$e,O[0]^=M[X],O[1]^=M[X+1]};if(a)t.exports=d;else for(v=0;v<p.length;++v)i[p[v]]=d[p[v]]})()})(UA);var nj=UA.exports;const ij=ci(nj),sj="logger/5.7.0";let _8=!1,S8=!1;const Xp={debug:1,default:2,info:2,warning:3,error:4,off:5};let E8=Xp.default,ry=null;function oj(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const A8=oj();var u2;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(u2||(u2={}));var yo;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(yo||(yo={}));const I8="0123456789abcdef";class jr{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();Xp[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(E8>Xp[n])&&console.log.apply(console,r)}debug(...e){this._log(jr.levels.DEBUG,e)}info(...e){this._log(jr.levels.INFO,e)}warn(...e){this._log(jr.levels.WARNING,e)}makeError(e,r,n){if(S8)return this.makeError("censored error",r,{});r||(r=jr.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let g="";for(let b=0;b<l.length;b++)g+=I8[l[b]>>4],g+=I8[l[b]&15];i.push(c+"=Uint8Array(0x"+g+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case yo.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case yo.CALL_EXCEPTION:case yo.INSUFFICIENT_FUNDS:case yo.MISSING_NEW:case yo.NONCE_EXPIRED:case yo.REPLACEMENT_UNDERPRICED:case yo.TRANSACTION_REPLACED:case yo.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,jr.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){A8&&this.throwError("platform missing String.prototype.normalize",jr.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:A8})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,jr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,jr.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,jr.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,jr.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",jr.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",jr.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",jr.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return ry||(ry=new jr(sj)),ry}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",jr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),_8){if(!e)return;this.globalLogger().throwError("error censorship permanent",jr.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}S8=!!e,_8=!!r}static setLogLevel(e){const r=Xp[e.toLowerCase()];if(r==null){jr.globalLogger().warn("invalid log level - "+e);return}E8=r}static from(e){return new jr(e)}}jr.errors=yo;jr.levels=u2;const aj="bytes/5.7.0",gn=new jr(aj);function zA(t){return!!t.toHexString}function dd(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return dd(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function cj(t){return na(t)&&!(t.length%2)||y6(t)}function M8(t){return typeof t=="number"&&t==t&&t%1===0}function y6(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!M8(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!M8(r)||r<0||r>=256)return!1}return!0}function wn(t,e){if(e||(e={}),typeof t=="number"){gn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),dd(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),zA(t)&&(t=t.toHexString()),na(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":gn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return dd(new Uint8Array(n))}return y6(t)?dd(new Uint8Array(t)):gn.throwArgumentError("invalid arrayify value","value",t)}function fj(t){const e=t.map(i=>wn(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),dd(n)}function uj(t,e){t=wn(t),t.length>e&&gn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),dd(r)}function na(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const ny="0123456789abcdef";function ds(t,e){if(e||(e={}),typeof t=="number"){gn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=ny[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),zA(t))return t.toHexString();if(na(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":gn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(y6(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=ny[(i&240)>>4]+ny[i&15]}return r}return gn.throwArgumentError("invalid hexlify value","value",t)}function dj(t){if(typeof t!="string")t=ds(t);else if(!na(t)||t.length%2)return null;return(t.length-2)/2}function P8(t,e,r){return typeof t!="string"?t=ds(t):(!na(t)||t.length%2)&&gn.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}function ld(t,e){for(typeof t!="string"?t=ds(t):na(t)||gn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&gn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function FA(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(cj(t)){let r=wn(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ds(r.slice(0,32)),e.s=ds(r.slice(32,64))):r.length===65?(e.r=ds(r.slice(0,32)),e.s=ds(r.slice(32,64)),e.v=r[64]):gn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:gn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ds(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=uj(wn(e._vs),32);e._vs=ds(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&gn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ds(i);e.s==null?e.s=o:e.s!==o&&gn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?gn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&gn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!na(e.r)?gn.throwArgumentError("signature missing or invalid r","signature",t):e.r=ld(e.r,32),e.s==null||!na(e.s)?gn.throwArgumentError("signature missing or invalid s","signature",t):e.s=ld(e.s,32);const r=wn(e.s);r[0]>=128&&gn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ds(r);e._vs&&(na(e._vs)||gn.throwArgumentError("signature invalid _vs","signature",t),e._vs=ld(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&gn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function m6(t){return"0x"+ij.keccak_256(wn(t))}var lj=Kt.BN;function hj(t){return new lj(t,36).toString(16)}const pj="strings/5.7.0",gj=new jr(pj);var Y1;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Y1||(Y1={}));var k8;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(k8||(k8={}));function iy(t,e=Y1.current){e!=Y1.current&&(gj.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return wn(r)}const bj=`Ethereum Signed Message:
`;function qA(t){return typeof t=="string"&&(t=iy(t)),m6(fj([iy(bj),iy(String(t.length)),t]))}const vj="address/5.7.0",rh=new jr(vj);function R8(t){na(t,20)||rh.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=wn(m6(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const yj=9007199254740991;function mj(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const w6={};for(let t=0;t<10;t++)w6[String(t)]=String(t);for(let t=0;t<26;t++)w6[String.fromCharCode(65+t)]=String(10+t);const C8=Math.floor(mj(yj));function wj(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>w6[n]).join("");for(;e.length>=C8;){let n=e.substring(0,C8);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function xj(t){let e=null;if(typeof t!="string"&&rh.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=R8(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&rh.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==wj(t)&&rh.throwArgumentError("bad icap checksum","address",t),e=hj(t.substring(4));e.length<40;)e="0"+e;e=R8("0x"+e)}else rh.throwArgumentError("invalid address","address",t);return e}function $l(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function ol(t,e,r){return r={path:e,exports:{},require:function(n,i){return _j(n,i??r.path)}},t(r,r.exports),r.exports}function _j(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var x6=KA;function KA(t,e){if(!t)throw new Error(e||"Assertion failed")}KA.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var _o=ol(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var g=o.charCodeAt(l),b=g>>8,x=g&255;b?c.push(b,x):c.push(x)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Is=ol(function(t,e){var r=e;r.assert=x6,r.toArray=_o.toArray,r.zero2=_o.zero2,r.toHex=_o.toHex,r.encode=_o.encode;function n(c,l,g){var b=new Array(Math.max(c.bitLength(),g)+1);b.fill(0);for(var x=1<<l+1,_=c.clone(),E=0;E<b.length;E++){var M,B=_.andln(x-1);_.isOdd()?(B>(x>>1)-1?M=(x>>1)-B:M=B,_.isubn(M)):M=0,b[E]=M,_.iushrn(1)}return b}r.getNAF=n;function i(c,l){var g=[[],[]];c=c.clone(),l=l.clone();for(var b=0,x=0,_;c.cmpn(-b)>0||l.cmpn(-x)>0;){var E=c.andln(3)+b&3,M=l.andln(3)+x&3;E===3&&(E=-1),M===3&&(M=-1);var B;E&1?(_=c.andln(7)+b&7,(_===3||_===5)&&M===2?B=-E:B=E):B=0,g[0].push(B);var P;M&1?(_=l.andln(7)+x&7,(_===3||_===5)&&E===2?P=-M:P=M):P=0,g[1].push(P),2*b===B+1&&(b=1-b),2*x===P+1&&(x=1-x),c.iushrn(1),l.iushrn(1)}return g}r.getJSF=i;function s(c,l,g){var b="_"+l;c.prototype[l]=function(){return this[b]!==void 0?this[b]:this[b]=g.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new Kt(c,"hex","le")}r.intFromLE=a}),J1=Is.getNAF,Sj=Is.getJSF,X1=Is.assert;function sf(t,e){this.type=t,this.p=new Kt(e.p,16),this.red=e.prime?Kt.red(e.prime):Kt.mont(this.p),this.zero=new Kt(0).toRed(this.red),this.one=new Kt(1).toRed(this.red),this.two=new Kt(2).toRed(this.red),this.n=e.n&&new Kt(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var gu=sf;sf.prototype.point=function(){throw new Error("Not implemented")};sf.prototype.validate=function(){throw new Error("Not implemented")};sf.prototype._fixedNafMul=function(e,r){X1(e.precomputed);var n=e._getDoubles(),i=J1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var g=this.jpoint(null,null,null),b=this.jpoint(null,null,null),x=s;x>0;x--){for(a=0;a<o.length;a++)c=o[a],c===x?b=b.mixedAdd(n.points[a]):c===-x&&(b=b.mixedAdd(n.points[a].neg()));g=g.add(b)}return g.toP()};sf.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=J1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var g=o[c];X1(g!==0),e.type==="affine"?g>0?a=a.mixedAdd(s[g-1>>1]):a=a.mixedAdd(s[-g-1>>1].neg()):g>0?a=a.add(s[g-1>>1]):a=a.add(s[-g-1>>1].neg())}return e.type==="affine"?a.toP():a};sf.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,g,b,x;for(g=0;g<i;g++){x=r[g];var _=x._getNAFPoints(e);o[g]=_.wnd,a[g]=_.points}for(g=i-1;g>=1;g-=2){var E=g-1,M=g;if(o[E]!==1||o[M]!==1){c[E]=J1(n[E],o[E],this._bitLength),c[M]=J1(n[M],o[M],this._bitLength),l=Math.max(c[E].length,l),l=Math.max(c[M].length,l);continue}var B=[r[E],null,null,r[M]];r[E].y.cmp(r[M].y)===0?(B[1]=r[E].add(r[M]),B[2]=r[E].toJ().mixedAdd(r[M].neg())):r[E].y.cmp(r[M].y.redNeg())===0?(B[1]=r[E].toJ().mixedAdd(r[M]),B[2]=r[E].add(r[M].neg())):(B[1]=r[E].toJ().mixedAdd(r[M]),B[2]=r[E].toJ().mixedAdd(r[M].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],R=Sj(n[E],n[M]);for(l=Math.max(R[0].length,l),c[E]=new Array(l),c[M]=new Array(l),b=0;b<l;b++){var D=R[0][b]|0,U=R[1][b]|0;c[E][b]=P[(D+1)*3+(U+1)],c[M][b]=0,a[E]=B}}var F=this.jpoint(null,null,null),W=this._wnafT4;for(g=l;g>=0;g--){for(var k=0;g>=0;){var K=!0;for(b=0;b<i;b++)W[b]=c[b][g]|0,W[b]!==0&&(K=!1);if(!K)break;k++,g--}if(g>=0&&k++,F=F.dblp(k),g<0)break;for(b=0;b<i;b++){var te=W[b];te!==0&&(te>0?x=a[b][te-1>>1]:te<0&&(x=a[b][-te-1>>1].neg()),x.type==="affine"?F=F.mixedAdd(x):F=F.add(x))}}for(g=0;g<i;g++)a[g]=null;return s?F:F.toP()};function no(t,e){this.curve=t,this.type=e,this.precomputed=null}sf.BasePoint=no;no.prototype.eq=function(){throw new Error("Not implemented")};no.prototype.validate=function(){return this.curve.validate(this)};sf.prototype.decodePoint=function(e,r){e=Is.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?X1(e[e.length-1]%2===0):e[0]===7&&X1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};no.prototype.encodeCompressed=function(e){return this.encode(e,!0)};no.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};no.prototype.encode=function(e,r){return Is.encode(this._encode(r),e)};no.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};no.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};no.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};no.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};no.prototype._getBeta=function(){return null};no.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var _6=ol(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),Ej=Is.assert;function io(t){gu.call(this,"short",t),this.a=new Kt(t.a,16).toRed(this.red),this.b=new Kt(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}_6(io,gu);var Aj=io;io.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Kt(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Kt(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],Ej(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new Kt(a.a,16),b:new Kt(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};io.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Kt.mont(e),n=new Kt(2).toRed(r).redInvm(),i=n.redNeg(),s=new Kt(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};io.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Kt(1),o=new Kt(0),a=new Kt(0),c=new Kt(1),l,g,b,x,_,E,M,B=0,P,R;n.cmpn(0)!==0;){var D=i.div(n);P=i.sub(D.mul(n)),R=a.sub(D.mul(s));var U=c.sub(D.mul(o));if(!b&&P.cmp(r)<0)l=M.neg(),g=s,b=P.neg(),x=R;else if(b&&++B===2)break;M=P,i=n,n=P,a=s,s=R,c=o,o=U}_=P.neg(),E=R;var F=b.sqr().add(x.sqr()),W=_.sqr().add(E.sqr());return W.cmp(F)>=0&&(_=l,E=g),b.negative&&(b=b.neg(),x=x.neg()),_.negative&&(_=_.neg(),E=E.neg()),[{a:b,b:x},{a:_,b:E}]};io.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),g=o.mul(i.b),b=e.sub(a).sub(c),x=l.add(g).neg();return{k1:b,k2:x}};io.prototype.pointFromX=function(e,r){e=new Kt(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};io.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};io.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var g=this._wnafMulAdd(1,i,s,o*2,n),b=0;b<o*2;b++)i[b]=null,s[b]=null;return g};function Jn(t,e,r,n){gu.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Kt(e,16),this.y=new Kt(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}_6(Jn,gu.BasePoint);io.prototype.point=function(e,r,n){return new Jn(this,e,r,n)};io.prototype.pointFromJSON=function(e,r){return Jn.fromJSON(this,e,r)};Jn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Jn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Jn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Jn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Jn.prototype.isInfinity=function(){return this.inf};Jn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Jn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Jn.prototype.getX=function(){return this.x.fromRed()};Jn.prototype.getY=function(){return this.y.fromRed()};Jn.prototype.mul=function(e){return e=new Kt(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Jn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Jn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Jn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Jn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Jn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function li(t,e,r,n){gu.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Kt(0)):(this.x=new Kt(e,16),this.y=new Kt(r,16),this.z=new Kt(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}_6(li,gu.BasePoint);io.prototype.jpoint=function(e,r,n){return new li(this,e,r,n)};li.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};li.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};li.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=c.redSqr(),b=g.redMul(c),x=i.redMul(g),_=l.redSqr().redIAdd(b).redISub(x).redISub(x),E=l.redMul(x.redISub(_)).redISub(o.redMul(b)),M=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(_,E,M)};li.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),g=l.redMul(a),b=n.redMul(l),x=c.redSqr().redIAdd(g).redISub(b).redISub(b),_=c.redMul(b.redISub(x)).redISub(s.redMul(g)),E=this.z.redMul(a);return this.curve.jpoint(x,_,E)};li.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),g=a.redAdd(a);for(r=0;r<e;r++){var b=o.redSqr(),x=g.redSqr(),_=x.redSqr(),E=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(l)),M=o.redMul(x),B=E.redSqr().redISub(M.redAdd(M)),P=M.redISub(B),R=E.redMul(P);R=R.redIAdd(R).redISub(_);var D=g.redMul(c);r+1<e&&(l=l.redMul(_)),o=B,c=D,g=R}return this.curve.jpoint(o,g.redMul(s),c)};li.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};li.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),g=o.redIAdd(o);g=g.redIAdd(g),g=g.redIAdd(g),e=l,r=c.redMul(a.redISub(l)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),x=this.y.redSqr(),_=x.redSqr(),E=this.x.redAdd(x).redSqr().redISub(b).redISub(_);E=E.redIAdd(E);var M=b.redAdd(b).redIAdd(b),B=M.redSqr(),P=_.redIAdd(_);P=P.redIAdd(P),P=P.redIAdd(P),e=B.redISub(E).redISub(E),r=M.redMul(E.redISub(e)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};li.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var g=o.redIAdd(o);g=g.redIAdd(g),g=g.redIAdd(g),r=c.redMul(a.redISub(l)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),x=this.y.redSqr(),_=this.x.redMul(x),E=this.x.redSub(b).redMul(this.x.redAdd(b));E=E.redAdd(E).redIAdd(E);var M=_.redIAdd(_);M=M.redIAdd(M);var B=M.redAdd(M);e=E.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(x).redISub(b);var P=x.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),r=E.redMul(M.redISub(e)).redISub(P)}return this.curve.jpoint(e,r,n)};li.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var g=l.redMul(a),b=c.redSqr().redISub(g.redAdd(g)),x=g.redISub(b),_=a.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=c.redMul(x).redISub(_),M=n.redAdd(n).redMul(i);return this.curve.jpoint(b,E,M)};li.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var g=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),b=r.redMul(g);b=b.redIAdd(b),b=b.redIAdd(b);var x=this.x.redMul(c).redISub(b);x=x.redIAdd(x),x=x.redIAdd(x);var _=this.y.redMul(g.redMul(l.redISub(g)).redISub(a.redMul(c)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(x,_,E)};li.prototype.mul=function(e,r){return e=new Kt(e,r),this.curve._wnafMul(this,e)};li.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};li.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};li.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};li.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Zp=ol(function(t,e){var r=e;r.base=gu,r.short=Aj,r.mont=null,r.edwards=null}),Qp=ol(function(t,e){var r=e,n=Is.assert;function i(a){a.type==="short"?this.curve=new Zp.short(a):a.type==="edwards"?this.curve=new Zp.edwards(a):this.curve=new Zp.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Ea.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Ea.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Ea.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Ea.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Ea.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ea.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Ea.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Ea.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function Jc(t){if(!(this instanceof Jc))return new Jc(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=_o.toArray(t.entropy,t.entropyEnc||"hex"),r=_o.toArray(t.nonce,t.nonceEnc||"hex"),n=_o.toArray(t.pers,t.persEnc||"hex");x6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var jA=Jc;Jc.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Jc.prototype._hmac=function(){return new Ea.hmac(this.hash,this.K)};Jc.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Jc.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=_o.toArray(e,r),n=_o.toArray(n,i),x6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Jc.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=_o.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,_o.encode(o,r)};var d2=Is.assert;function Ci(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var S6=Ci;Ci.fromPublic=function(e,r,n){return r instanceof Ci?r:new Ci(e,{pub:r,pubEnc:n})};Ci.fromPrivate=function(e,r,n){return r instanceof Ci?r:new Ci(e,{priv:r,privEnc:n})};Ci.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ci.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ci.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ci.prototype._importPrivate=function(e,r){this.priv=new Kt(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ci.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?d2(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&d2(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ci.prototype.derive=function(e){return e.validate()||d2(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ci.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ci.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ci.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Ij=Is.assert;function vb(t,e){if(t instanceof vb)return t;this._importDER(t,e)||(Ij(t.r&&t.s,"Signature without r or s"),this.r=new Kt(t.r,16),this.s=new Kt(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var yb=vb;function Mj(){this.place=0}function sy(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function T8(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}vb.prototype._importDER=function(e,r){e=Is.toArray(e,r);var n=new Mj;if(e[n.place++]!==48)return!1;var i=sy(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=sy(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=sy(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new Kt(o),this.s=new Kt(c),this.recoveryParam=null,!0};function oy(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}vb.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=T8(r),n=T8(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];oy(i,r.length),i=i.concat(r),i.push(2),oy(i,n.length);var s=i.concat(n),o=[48];return oy(o,s.length),o=o.concat(s),Is.encode(o,e)};var Pj=function(){throw new Error("unsupported")},WA=Is.assert;function Xs(t){if(!(this instanceof Xs))return new Xs(t);typeof t=="string"&&(WA(Object.prototype.hasOwnProperty.call(Qp,t),"Unknown curve "+t),t=Qp[t]),t instanceof Qp.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var kj=Xs;Xs.prototype.keyPair=function(e){return new S6(this,e)};Xs.prototype.keyFromPrivate=function(e,r){return S6.fromPrivate(this,e,r)};Xs.prototype.keyFromPublic=function(e,r){return S6.fromPublic(this,e,r)};Xs.prototype.genKeyPair=function(e){e||(e={});for(var r=new jA({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Pj(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Kt(2));;){var s=new Kt(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Xs.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Xs.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new Kt(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new jA({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new Kt(1)),g=0;;g++){var b=i.k?i.k(g):new Kt(c.generate(this.n.byteLength()));if(b=this._truncateToN(b,!0),!(b.cmpn(1)<=0||b.cmp(l)>=0)){var x=this.g.mul(b);if(!x.isInfinity()){var _=x.getX(),E=_.umod(this.n);if(E.cmpn(0)!==0){var M=b.invm(this.n).mul(E.mul(r.getPrivate()).iadd(e));if(M=M.umod(this.n),M.cmpn(0)!==0){var B=(x.getY().isOdd()?1:0)|(_.cmp(E)!==0?2:0);return i.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),B^=1),new yb({r:E,s:M,recoveryParam:B})}}}}}};Xs.prototype.verify=function(e,r,n,i){e=this._truncateToN(new Kt(e,16)),n=this.keyFromPublic(n,i),r=new yb(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(c,n.getPublic(),l),g.isInfinity()?!1:g.eqXToP(s)):(g=this.g.mulAdd(c,n.getPublic(),l),g.isInfinity()?!1:g.getX().umod(this.n).cmp(s)===0)};Xs.prototype.recoverPubKey=function(t,e,r,n){WA((3&r)===r,"The recovery param is more than two bits"),e=new yb(e,n);var i=this.n,s=new Kt(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var g=e.r.invm(i),b=i.sub(s).mul(g).umod(i),x=a.mul(g).umod(i);return this.g.mulAdd(b,o,x)};Xs.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new yb(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var Rj=ol(function(t,e){var r=e;r.version="6.5.4",r.utils=Is,r.rand=function(){throw new Error("unsupported")},r.curve=Zp,r.curves=Qp,r.ec=kj,r.eddsa=null}),Cj=Rj.ec;const Tj="signing-key/5.7.0",l2=new jr(Tj);let ay=null;function vc(){return ay||(ay=new Cj("secp256k1")),ay}class Nj{constructor(e){$l(this,"curve","secp256k1"),$l(this,"privateKey",ds(e)),dj(this.privateKey)!==32&&l2.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=vc().keyFromPrivate(wn(this.privateKey));$l(this,"publicKey","0x"+r.getPublic(!1,"hex")),$l(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),$l(this,"_isSigningKey",!0)}_addPoint(e){const r=vc().keyFromPublic(wn(this.publicKey)),n=vc().keyFromPublic(wn(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=vc().keyFromPrivate(wn(this.privateKey)),n=wn(e);n.length!==32&&l2.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return FA({recoveryParam:i.recoveryParam,r:ld("0x"+i.r.toString(16),32),s:ld("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=vc().keyFromPrivate(wn(this.privateKey)),n=vc().keyFromPublic(wn(HA(e)));return ld("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function Oj(t,e){const r=FA(e),n={r:wn(r.r),s:wn(r.s)};return"0x"+vc().recoverPubKey(wn(t),n,r.recoveryParam).encode("hex",!1)}function HA(t,e){const r=wn(t);return r.length===32?new Nj(r).publicKey:r.length===33?"0x"+vc().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ds(r):l2.throwArgumentError("invalid public or private key","key","[REDACTED]")}var N8;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(N8||(N8={}));function Bj(t){const e=HA(t);return xj(P8(m6(P8(e,1)),12))}function Dj(t,e){return Bj(Oj(wn(t),e))}var E6={},mb={};Object.defineProperty(mb,"__esModule",{value:!0});var mi=Yt,h2=As,Lj=20;function $j(t,e,r){for(var n=1634760805,i=857760878,s=2036477234,o=1797285236,a=r[3]<<24|r[2]<<16|r[1]<<8|r[0],c=r[7]<<24|r[6]<<16|r[5]<<8|r[4],l=r[11]<<24|r[10]<<16|r[9]<<8|r[8],g=r[15]<<24|r[14]<<16|r[13]<<8|r[12],b=r[19]<<24|r[18]<<16|r[17]<<8|r[16],x=r[23]<<24|r[22]<<16|r[21]<<8|r[20],_=r[27]<<24|r[26]<<16|r[25]<<8|r[24],E=r[31]<<24|r[30]<<16|r[29]<<8|r[28],M=e[3]<<24|e[2]<<16|e[1]<<8|e[0],B=e[7]<<24|e[6]<<16|e[5]<<8|e[4],P=e[11]<<24|e[10]<<16|e[9]<<8|e[8],R=e[15]<<24|e[14]<<16|e[13]<<8|e[12],D=n,U=i,F=s,W=o,k=a,K=c,te=l,ce=g,A=b,f=x,h=_,d=E,p=M,v=B,w=P,S=R,y=0;y<Lj;y+=2)D=D+k|0,p^=D,p=p>>>16|p<<16,A=A+p|0,k^=A,k=k>>>20|k<<12,U=U+K|0,v^=U,v=v>>>16|v<<16,f=f+v|0,K^=f,K=K>>>20|K<<12,F=F+te|0,w^=F,w=w>>>16|w<<16,h=h+w|0,te^=h,te=te>>>20|te<<12,W=W+ce|0,S^=W,S=S>>>16|S<<16,d=d+S|0,ce^=d,ce=ce>>>20|ce<<12,F=F+te|0,w^=F,w=w>>>24|w<<8,h=h+w|0,te^=h,te=te>>>25|te<<7,W=W+ce|0,S^=W,S=S>>>24|S<<8,d=d+S|0,ce^=d,ce=ce>>>25|ce<<7,U=U+K|0,v^=U,v=v>>>24|v<<8,f=f+v|0,K^=f,K=K>>>25|K<<7,D=D+k|0,p^=D,p=p>>>24|p<<8,A=A+p|0,k^=A,k=k>>>25|k<<7,D=D+K|0,S^=D,S=S>>>16|S<<16,h=h+S|0,K^=h,K=K>>>20|K<<12,U=U+te|0,p^=U,p=p>>>16|p<<16,d=d+p|0,te^=d,te=te>>>20|te<<12,F=F+ce|0,v^=F,v=v>>>16|v<<16,A=A+v|0,ce^=A,ce=ce>>>20|ce<<12,W=W+k|0,w^=W,w=w>>>16|w<<16,f=f+w|0,k^=f,k=k>>>20|k<<12,F=F+ce|0,v^=F,v=v>>>24|v<<8,A=A+v|0,ce^=A,ce=ce>>>25|ce<<7,W=W+k|0,w^=W,w=w>>>24|w<<8,f=f+w|0,k^=f,k=k>>>25|k<<7,U=U+te|0,p^=U,p=p>>>24|p<<8,d=d+p|0,te^=d,te=te>>>25|te<<7,D=D+K|0,S^=D,S=S>>>24|S<<8,h=h+S|0,K^=h,K=K>>>25|K<<7;mi.writeUint32LE(D+n|0,t,0),mi.writeUint32LE(U+i|0,t,4),mi.writeUint32LE(F+s|0,t,8),mi.writeUint32LE(W+o|0,t,12),mi.writeUint32LE(k+a|0,t,16),mi.writeUint32LE(K+c|0,t,20),mi.writeUint32LE(te+l|0,t,24),mi.writeUint32LE(ce+g|0,t,28),mi.writeUint32LE(A+b|0,t,32),mi.writeUint32LE(f+x|0,t,36),mi.writeUint32LE(h+_|0,t,40),mi.writeUint32LE(d+E|0,t,44),mi.writeUint32LE(p+M|0,t,48),mi.writeUint32LE(v+B|0,t,52),mi.writeUint32LE(w+P|0,t,56),mi.writeUint32LE(S+R|0,t,60)}function VA(t,e,r,n,i){if(i===void 0&&(i=0),t.length!==32)throw new Error("ChaCha: key size must be 32 bytes");if(n.length<r.length)throw new Error("ChaCha: destination is shorter than source");var s,o;if(i===0){if(e.length!==8&&e.length!==12)throw new Error("ChaCha nonce must be 8 or 12 bytes");s=new Uint8Array(16),o=s.length-e.length,s.set(e,o)}else{if(e.length!==16)throw new Error("ChaCha nonce with counter must be 16 bytes");s=e,o=i}for(var a=new Uint8Array(64),c=0;c<r.length;c+=64){$j(a,s,t);for(var l=c;l<c+64&&l<r.length;l++)n[l]=r[l]^a[l-c];zj(s,0,o)}return h2.wipe(a),i===0&&h2.wipe(s),n}mb.streamXOR=VA;function Uj(t,e,r,n){return n===void 0&&(n=0),h2.wipe(r),VA(t,e,r,r,n)}mb.stream=Uj;function zj(t,e,r){for(var n=1;r--;)n=n+(t[e]&255)|0,t[e]=n&255,n>>>=8,e++;if(n>0)throw new Error("ChaCha: counter overflow")}var GA={},of={};Object.defineProperty(of,"__esModule",{value:!0});function Fj(t,e,r){return~(t-1)&e|t-1&r}of.select=Fj;function qj(t,e){return(t|0)-(e|0)-1>>>31&1}of.lessOrEqual=qj;function YA(t,e){if(t.length!==e.length)return 0;for(var r=0,n=0;n<t.length;n++)r|=t[n]^e[n];return 1&r-1>>>8}of.compare=YA;function Kj(t,e){return t.length===0||e.length===0?!1:YA(t,e)!==0}of.equal=Kj;(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=of,r=As;t.DIGEST_LENGTH=16;var n=function(){function o(a){this.digestLength=t.DIGEST_LENGTH,this._buffer=new Uint8Array(16),this._r=new Uint16Array(10),this._h=new Uint16Array(10),this._pad=new Uint16Array(8),this._leftover=0,this._fin=0,this._finished=!1;var c=a[0]|a[1]<<8;this._r[0]=c&8191;var l=a[2]|a[3]<<8;this._r[1]=(c>>>13|l<<3)&8191;var g=a[4]|a[5]<<8;this._r[2]=(l>>>10|g<<6)&7939;var b=a[6]|a[7]<<8;this._r[3]=(g>>>7|b<<9)&8191;var x=a[8]|a[9]<<8;this._r[4]=(b>>>4|x<<12)&255,this._r[5]=x>>>1&8190;var _=a[10]|a[11]<<8;this._r[6]=(x>>>14|_<<2)&8191;var E=a[12]|a[13]<<8;this._r[7]=(_>>>11|E<<5)&8065;var M=a[14]|a[15]<<8;this._r[8]=(E>>>8|M<<8)&8191,this._r[9]=M>>>5&127,this._pad[0]=a[16]|a[17]<<8,this._pad[1]=a[18]|a[19]<<8,this._pad[2]=a[20]|a[21]<<8,this._pad[3]=a[22]|a[23]<<8,this._pad[4]=a[24]|a[25]<<8,this._pad[5]=a[26]|a[27]<<8,this._pad[6]=a[28]|a[29]<<8,this._pad[7]=a[30]|a[31]<<8}return o.prototype._blocks=function(a,c,l){for(var g=this._fin?0:2048,b=this._h[0],x=this._h[1],_=this._h[2],E=this._h[3],M=this._h[4],B=this._h[5],P=this._h[6],R=this._h[7],D=this._h[8],U=this._h[9],F=this._r[0],W=this._r[1],k=this._r[2],K=this._r[3],te=this._r[4],ce=this._r[5],A=this._r[6],f=this._r[7],h=this._r[8],d=this._r[9];l>=16;){var p=a[c+0]|a[c+1]<<8;b+=p&8191;var v=a[c+2]|a[c+3]<<8;x+=(p>>>13|v<<3)&8191;var w=a[c+4]|a[c+5]<<8;_+=(v>>>10|w<<6)&8191;var S=a[c+6]|a[c+7]<<8;E+=(w>>>7|S<<9)&8191;var y=a[c+8]|a[c+9]<<8;M+=(S>>>4|y<<12)&8191,B+=y>>>1&8191;var u=a[c+10]|a[c+11]<<8;P+=(y>>>14|u<<2)&8191;var m=a[c+12]|a[c+13]<<8;R+=(u>>>11|m<<5)&8191;var I=a[c+14]|a[c+15]<<8;D+=(m>>>8|I<<8)&8191,U+=I>>>5|g;var $=0,Z=$;Z+=b*F,Z+=x*(5*d),Z+=_*(5*h),Z+=E*(5*f),Z+=M*(5*A),$=Z>>>13,Z&=8191,Z+=B*(5*ce),Z+=P*(5*te),Z+=R*(5*K),Z+=D*(5*k),Z+=U*(5*W),$+=Z>>>13,Z&=8191;var O=$;O+=b*W,O+=x*F,O+=_*(5*d),O+=E*(5*h),O+=M*(5*f),$=O>>>13,O&=8191,O+=B*(5*A),O+=P*(5*ce),O+=R*(5*te),O+=D*(5*K),O+=U*(5*k),$+=O>>>13,O&=8191;var Q=$;Q+=b*k,Q+=x*W,Q+=_*F,Q+=E*(5*d),Q+=M*(5*h),$=Q>>>13,Q&=8191,Q+=B*(5*f),Q+=P*(5*A),Q+=R*(5*ce),Q+=D*(5*te),Q+=U*(5*K),$+=Q>>>13,Q&=8191;var Y=$;Y+=b*K,Y+=x*k,Y+=_*W,Y+=E*F,Y+=M*(5*d),$=Y>>>13,Y&=8191,Y+=B*(5*h),Y+=P*(5*f),Y+=R*(5*A),Y+=D*(5*ce),Y+=U*(5*te),$+=Y>>>13,Y&=8191;var X=$;X+=b*te,X+=x*K,X+=_*k,X+=E*W,X+=M*F,$=X>>>13,X&=8191,X+=B*(5*d),X+=P*(5*h),X+=R*(5*f),X+=D*(5*A),X+=U*(5*ce),$+=X>>>13,X&=8191;var J=$;J+=b*ce,J+=x*te,J+=_*K,J+=E*k,J+=M*W,$=J>>>13,J&=8191,J+=B*F,J+=P*(5*d),J+=R*(5*h),J+=D*(5*f),J+=U*(5*A),$+=J>>>13,J&=8191;var N=$;N+=b*A,N+=x*ce,N+=_*te,N+=E*K,N+=M*k,$=N>>>13,N&=8191,N+=B*W,N+=P*F,N+=R*(5*d),N+=D*(5*h),N+=U*(5*f),$+=N>>>13,N&=8191;var ee=$;ee+=b*f,ee+=x*A,ee+=_*ce,ee+=E*te,ee+=M*K,$=ee>>>13,ee&=8191,ee+=B*k,ee+=P*W,ee+=R*F,ee+=D*(5*d),ee+=U*(5*h),$+=ee>>>13,ee&=8191;var se=$;se+=b*h,se+=x*f,se+=_*A,se+=E*ce,se+=M*te,$=se>>>13,se&=8191,se+=B*K,se+=P*k,se+=R*W,se+=D*F,se+=U*(5*d),$+=se>>>13,se&=8191;var le=$;le+=b*d,le+=x*h,le+=_*f,le+=E*A,le+=M*ce,$=le>>>13,le&=8191,le+=B*te,le+=P*K,le+=R*k,le+=D*W,le+=U*F,$+=le>>>13,le&=8191,$=($<<2)+$|0,$=$+Z|0,Z=$&8191,$=$>>>13,O+=$,b=Z,x=O,_=Q,E=Y,M=X,B=J,P=N,R=ee,D=se,U=le,c+=16,l-=16}this._h[0]=b,this._h[1]=x,this._h[2]=_,this._h[3]=E,this._h[4]=M,this._h[5]=B,this._h[6]=P,this._h[7]=R,this._h[8]=D,this._h[9]=U},o.prototype.finish=function(a,c){c===void 0&&(c=0);var l=new Uint16Array(10),g,b,x,_;if(this._leftover){for(_=this._leftover,this._buffer[_++]=1;_<16;_++)this._buffer[_]=0;this._fin=1,this._blocks(this._buffer,0,16)}for(g=this._h[1]>>>13,this._h[1]&=8191,_=2;_<10;_++)this._h[_]+=g,g=this._h[_]>>>13,this._h[_]&=8191;for(this._h[0]+=g*5,g=this._h[0]>>>13,this._h[0]&=8191,this._h[1]+=g,g=this._h[1]>>>13,this._h[1]&=8191,this._h[2]+=g,l[0]=this._h[0]+5,g=l[0]>>>13,l[0]&=8191,_=1;_<10;_++)l[_]=this._h[_]+g,g=l[_]>>>13,l[_]&=8191;for(l[9]-=8192,b=(g^1)-1,_=0;_<10;_++)l[_]&=b;for(b=~b,_=0;_<10;_++)this._h[_]=this._h[_]&b|l[_];for(this._h[0]=(this._h[0]|this._h[1]<<13)&65535,this._h[1]=(this._h[1]>>>3|this._h[2]<<10)&65535,this._h[2]=(this._h[2]>>>6|this._h[3]<<7)&65535,this._h[3]=(this._h[3]>>>9|this._h[4]<<4)&65535,this._h[4]=(this._h[4]>>>12|this._h[5]<<1|this._h[6]<<14)&65535,this._h[5]=(this._h[6]>>>2|this._h[7]<<11)&65535,this._h[6]=(this._h[7]>>>5|this._h[8]<<8)&65535,this._h[7]=(this._h[8]>>>8|this._h[9]<<5)&65535,x=this._h[0]+this._pad[0],this._h[0]=x&65535,_=1;_<8;_++)x=(this._h[_]+this._pad[_]|0)+(x>>>16)|0,this._h[_]=x&65535;return a[c+0]=this._h[0]>>>0,a[c+1]=this._h[0]>>>8,a[c+2]=this._h[1]>>>0,a[c+3]=this._h[1]>>>8,a[c+4]=this._h[2]>>>0,a[c+5]=this._h[2]>>>8,a[c+6]=this._h[3]>>>0,a[c+7]=this._h[3]>>>8,a[c+8]=this._h[4]>>>0,a[c+9]=this._h[4]>>>8,a[c+10]=this._h[5]>>>0,a[c+11]=this._h[5]>>>8,a[c+12]=this._h[6]>>>0,a[c+13]=this._h[6]>>>8,a[c+14]=this._h[7]>>>0,a[c+15]=this._h[7]>>>8,this._finished=!0,this},o.prototype.update=function(a){var c=0,l=a.length,g;if(this._leftover){g=16-this._leftover,g>l&&(g=l);for(var b=0;b<g;b++)this._buffer[this._leftover+b]=a[c+b];if(l-=g,c+=g,this._leftover+=g,this._leftover<16)return this;this._blocks(this._buffer,0,16),this._leftover=0}if(l>=16&&(g=l-l%16,this._blocks(a,c,g),c+=g,l-=g),l){for(var b=0;b<l;b++)this._buffer[this._leftover+b]=a[c+b];this._leftover+=l}return this},o.prototype.digest=function(){if(this._finished)throw new Error("Poly1305 was finished");var a=new Uint8Array(16);return this.finish(a),a},o.prototype.clean=function(){return r.wipe(this._buffer),r.wipe(this._r),r.wipe(this._h),r.wipe(this._pad),this._leftover=0,this._fin=0,this._finished=!0,this},o}();t.Poly1305=n;function i(o,a){var c=new n(o);c.update(a);var l=c.digest();return c.clean(),l}t.oneTimeAuth=i;function s(o,a){return o.length!==t.DIGEST_LENGTH||a.length!==t.DIGEST_LENGTH?!1:e.equal(o,a)}t.equal=s})(GA);(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=mb,r=GA,n=As,i=Yt,s=of;t.KEY_LENGTH=32,t.NONCE_LENGTH=12,t.TAG_LENGTH=16;var o=new Uint8Array(16),a=function(){function c(l){if(this.nonceLength=t.NONCE_LENGTH,this.tagLength=t.TAG_LENGTH,l.length!==t.KEY_LENGTH)throw new Error("ChaCha20Poly1305 needs 32-byte key");this._key=new Uint8Array(l)}return c.prototype.seal=function(l,g,b,x){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");var _=new Uint8Array(16);_.set(l,_.length-l.length);var E=new Uint8Array(32);e.stream(this._key,_,E,4);var M=g.length+this.tagLength,B;if(x){if(x.length!==M)throw new Error("ChaCha20Poly1305: incorrect destination length");B=x}else B=new Uint8Array(M);return e.streamXOR(this._key,_,g,B,4),this._authenticate(B.subarray(B.length-this.tagLength,B.length),E,B.subarray(0,B.length-this.tagLength),b),n.wipe(_),B},c.prototype.open=function(l,g,b,x){if(l.length>16)throw new Error("ChaCha20Poly1305: incorrect nonce length");if(g.length<this.tagLength)return null;var _=new Uint8Array(16);_.set(l,_.length-l.length);var E=new Uint8Array(32);e.stream(this._key,_,E,4);var M=new Uint8Array(this.tagLength);if(this._authenticate(M,E,g.subarray(0,g.length-this.tagLength),b),!s.equal(M,g.subarray(g.length-this.tagLength,g.length)))return null;var B=g.length-this.tagLength,P;if(x){if(x.length!==B)throw new Error("ChaCha20Poly1305: incorrect destination length");P=x}else P=new Uint8Array(B);return e.streamXOR(this._key,_,g.subarray(0,g.length-this.tagLength),P,4),n.wipe(_),P},c.prototype.clean=function(){return n.wipe(this._key),this},c.prototype._authenticate=function(l,g,b,x){var _=new r.Poly1305(g);x&&(_.update(x),x.length%16>0&&_.update(o.subarray(x.length%16))),_.update(b),b.length%16>0&&_.update(o.subarray(b.length%16));var E=new Uint8Array(8);x&&i.writeUint64LE(x.length,E),_.update(E),i.writeUint64LE(b.length,E),_.update(E);for(var M=_.digest(),B=0;B<M.length;B++)l[B]=M[B];_.clean(),n.wipe(M),n.wipe(E)},c}();t.ChaCha20Poly1305=a})(E6);var JA={},_0={},A6={};Object.defineProperty(A6,"__esModule",{value:!0});function jj(t){return typeof t.saveState<"u"&&typeof t.restoreState<"u"&&typeof t.cleanSavedState<"u"}A6.isSerializableHash=jj;Object.defineProperty(_0,"__esModule",{value:!0});var Oo=A6,Wj=of,Hj=As,XA=function(){function t(e,r){this._finished=!1,this._inner=new e,this._outer=new e,this.blockSize=this._outer.blockSize,this.digestLength=this._outer.digestLength;var n=new Uint8Array(this.blockSize);r.length>this.blockSize?this._inner.update(r).finish(n).clean():n.set(r);for(var i=0;i<n.length;i++)n[i]^=54;this._inner.update(n);for(var i=0;i<n.length;i++)n[i]^=106;this._outer.update(n),Oo.isSerializableHash(this._inner)&&Oo.isSerializableHash(this._outer)&&(this._innerKeyedState=this._inner.saveState(),this._outerKeyedState=this._outer.saveState()),Hj.wipe(n)}return t.prototype.reset=function(){if(!Oo.isSerializableHash(this._inner)||!Oo.isSerializableHash(this._outer))throw new Error("hmac: can't reset() because hash doesn't implement restoreState()");return this._inner.restoreState(this._innerKeyedState),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.clean=function(){Oo.isSerializableHash(this._inner)&&this._inner.cleanSavedState(this._innerKeyedState),Oo.isSerializableHash(this._outer)&&this._outer.cleanSavedState(this._outerKeyedState),this._inner.clean(),this._outer.clean()},t.prototype.update=function(e){return this._inner.update(e),this},t.prototype.finish=function(e){return this._finished?(this._outer.finish(e),this):(this._inner.finish(e),this._outer.update(e.subarray(0,this.digestLength)).finish(e),this._finished=!0,this)},t.prototype.digest=function(){var e=new Uint8Array(this.digestLength);return this.finish(e),e},t.prototype.saveState=function(){if(!Oo.isSerializableHash(this._inner))throw new Error("hmac: can't saveState() because hash doesn't implement it");return this._inner.saveState()},t.prototype.restoreState=function(e){if(!Oo.isSerializableHash(this._inner)||!Oo.isSerializableHash(this._outer))throw new Error("hmac: can't restoreState() because hash doesn't implement it");return this._inner.restoreState(e),this._outer.restoreState(this._outerKeyedState),this._finished=!1,this},t.prototype.cleanSavedState=function(e){if(!Oo.isSerializableHash(this._inner))throw new Error("hmac: can't cleanSavedState() because hash doesn't implement it");this._inner.cleanSavedState(e)},t}();_0.HMAC=XA;function Vj(t,e,r){var n=new XA(t,e);n.update(r);var i=n.digest();return n.clean(),i}_0.hmac=Vj;_0.equal=Wj.equal;Object.defineProperty(JA,"__esModule",{value:!0});var O8=_0,B8=As,Gj=function(){function t(e,r,n,i){n===void 0&&(n=new Uint8Array(0)),this._counter=new Uint8Array(1),this._hash=e,this._info=i;var s=O8.hmac(this._hash,n,r);this._hmac=new O8.HMAC(e,s),this._buffer=new Uint8Array(this._hmac.digestLength),this._bufpos=this._buffer.length}return t.prototype._fillBuffer=function(){this._counter[0]++;var e=this._counter[0];if(e===0)throw new Error("hkdf: cannot expand more");this._hmac.reset(),e>1&&this._hmac.update(this._buffer),this._info&&this._hmac.update(this._info),this._hmac.update(this._counter),this._hmac.finish(this._buffer),this._bufpos=0},t.prototype.expand=function(e){for(var r=new Uint8Array(e),n=0;n<r.length;n++)this._bufpos===this._buffer.length&&this._fillBuffer(),r[n]=this._buffer[this._bufpos++];return r},t.prototype.clean=function(){this._hmac.clean(),B8.wipe(this._buffer),B8.wipe(this._counter),this._bufpos=0},t}(),Yj=JA.HKDF=Gj,S0={};(function(t){Object.defineProperty(t,"__esModule",{value:!0});var e=Yt,r=As;t.DIGEST_LENGTH=32,t.BLOCK_SIZE=64;var n=function(){function a(){this.digestLength=t.DIGEST_LENGTH,this.blockSize=t.BLOCK_SIZE,this._state=new Int32Array(8),this._temp=new Int32Array(64),this._buffer=new Uint8Array(128),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this.reset()}return a.prototype._initState=function(){this._state[0]=1779033703,this._state[1]=3144134277,this._state[2]=1013904242,this._state[3]=2773480762,this._state[4]=1359893119,this._state[5]=2600822924,this._state[6]=528734635,this._state[7]=1541459225},a.prototype.reset=function(){return this._initState(),this._bufferLength=0,this._bytesHashed=0,this._finished=!1,this},a.prototype.clean=function(){r.wipe(this._buffer),r.wipe(this._temp),this.reset()},a.prototype.update=function(c,l){if(l===void 0&&(l=c.length),this._finished)throw new Error("SHA256: can't update because hash was finished.");var g=0;if(this._bytesHashed+=l,this._bufferLength>0){for(;this._bufferLength<this.blockSize&&l>0;)this._buffer[this._bufferLength++]=c[g++],l--;this._bufferLength===this.blockSize&&(s(this._temp,this._state,this._buffer,0,this.blockSize),this._bufferLength=0)}for(l>=this.blockSize&&(g=s(this._temp,this._state,c,g,l),l%=this.blockSize);l>0;)this._buffer[this._bufferLength++]=c[g++],l--;return this},a.prototype.finish=function(c){if(!this._finished){var l=this._bytesHashed,g=this._bufferLength,b=l/536870912|0,x=l<<3,_=l%64<56?64:128;this._buffer[g]=128;for(var E=g+1;E<_-8;E++)this._buffer[E]=0;e.writeUint32BE(b,this._buffer,_-8),e.writeUint32BE(x,this._buffer,_-4),s(this._temp,this._state,this._buffer,0,_),this._finished=!0}for(var E=0;E<this.digestLength/4;E++)e.writeUint32BE(this._state[E],c,E*4);return this},a.prototype.digest=function(){var c=new Uint8Array(this.digestLength);return this.finish(c),c},a.prototype.saveState=function(){if(this._finished)throw new Error("SHA256: cannot save finished state");return{state:new Int32Array(this._state),buffer:this._bufferLength>0?new Uint8Array(this._buffer):void 0,bufferLength:this._bufferLength,bytesHashed:this._bytesHashed}},a.prototype.restoreState=function(c){return this._state.set(c.state),this._bufferLength=c.bufferLength,c.buffer&&this._buffer.set(c.buffer),this._bytesHashed=c.bytesHashed,this._finished=!1,this},a.prototype.cleanSavedState=function(c){r.wipe(c.state),c.buffer&&r.wipe(c.buffer),c.bufferLength=0,c.bytesHashed=0},a}();t.SHA256=n;var i=new Int32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);function s(a,c,l,g,b){for(;b>=64;){for(var x=c[0],_=c[1],E=c[2],M=c[3],B=c[4],P=c[5],R=c[6],D=c[7],U=0;U<16;U++){var F=g+U*4;a[U]=e.readUint32BE(l,F)}for(var U=16;U<64;U++){var W=a[U-2],k=(W>>>17|W<<15)^(W>>>19|W<<13)^W>>>10;W=a[U-15];var K=(W>>>7|W<<25)^(W>>>18|W<<14)^W>>>3;a[U]=(k+a[U-7]|0)+(K+a[U-16]|0)}for(var U=0;U<64;U++){var k=(((B>>>6|B<<26)^(B>>>11|B<<21)^(B>>>25|B<<7))+(B&P^~B&R)|0)+(D+(i[U]+a[U]|0)|0)|0,K=((x>>>2|x<<30)^(x>>>13|x<<19)^(x>>>22|x<<10))+(x&_^x&E^_&E)|0;D=R,R=P,P=B,B=M+k|0,M=E,E=_,_=x,x=k+K|0}c[0]+=x,c[1]+=_,c[2]+=E,c[3]+=M,c[4]+=B,c[5]+=P,c[6]+=R,c[7]+=D,g+=64,b-=64}return g}function o(a){var c=new n;c.update(a);var l=c.digest();return c.clean(),l}t.hash=o})(S0);var I6={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.sharedKey=t.generateKeyPair=t.generateKeyPairFromSeed=t.scalarMultBase=t.scalarMult=t.SHARED_KEY_LENGTH=t.SECRET_KEY_LENGTH=t.PUBLIC_KEY_LENGTH=void 0;const e=nf,r=As;t.PUBLIC_KEY_LENGTH=32,t.SECRET_KEY_LENGTH=32,t.SHARED_KEY_LENGTH=32;function n(U){const F=new Float64Array(16);if(U)for(let W=0;W<U.length;W++)F[W]=U[W];return F}const i=new Uint8Array(32);i[0]=9;const s=n([56129,1]);function o(U){let F=1;for(let W=0;W<16;W++){let k=U[W]+F+65535;F=Math.floor(k/65536),U[W]=k-F*65536}U[0]+=F-1+37*(F-1)}function a(U,F,W){const k=~(W-1);for(let K=0;K<16;K++){const te=k&(U[K]^F[K]);U[K]^=te,F[K]^=te}}function c(U,F){const W=n(),k=n();for(let K=0;K<16;K++)k[K]=F[K];o(k),o(k),o(k);for(let K=0;K<2;K++){W[0]=k[0]-65517;for(let ce=1;ce<15;ce++)W[ce]=k[ce]-65535-(W[ce-1]>>16&1),W[ce-1]&=65535;W[15]=k[15]-32767-(W[14]>>16&1);const te=W[15]>>16&1;W[14]&=65535,a(k,W,1-te)}for(let K=0;K<16;K++)U[2*K]=k[K]&255,U[2*K+1]=k[K]>>8}function l(U,F){for(let W=0;W<16;W++)U[W]=F[2*W]+(F[2*W+1]<<8);U[15]&=32767}function g(U,F,W){for(let k=0;k<16;k++)U[k]=F[k]+W[k]}function b(U,F,W){for(let k=0;k<16;k++)U[k]=F[k]-W[k]}function x(U,F,W){let k,K,te=0,ce=0,A=0,f=0,h=0,d=0,p=0,v=0,w=0,S=0,y=0,u=0,m=0,I=0,$=0,Z=0,O=0,Q=0,Y=0,X=0,J=0,N=0,ee=0,se=0,le=0,Ee=0,ye=0,Be=0,bt=0,ke=0,Ke=0,dt=W[0],_e=W[1],Ae=W[2],ot=W[3],xe=W[4],Ie=W[5],it=W[6],q=W[7],T=W[8],L=W[9],G=W[10],re=W[11],fe=W[12],oe=W[13],we=W[14],Ge=W[15];k=F[0],te+=k*dt,ce+=k*_e,A+=k*Ae,f+=k*ot,h+=k*xe,d+=k*Ie,p+=k*it,v+=k*q,w+=k*T,S+=k*L,y+=k*G,u+=k*re,m+=k*fe,I+=k*oe,$+=k*we,Z+=k*Ge,k=F[1],ce+=k*dt,A+=k*_e,f+=k*Ae,h+=k*ot,d+=k*xe,p+=k*Ie,v+=k*it,w+=k*q,S+=k*T,y+=k*L,u+=k*G,m+=k*re,I+=k*fe,$+=k*oe,Z+=k*we,O+=k*Ge,k=F[2],A+=k*dt,f+=k*_e,h+=k*Ae,d+=k*ot,p+=k*xe,v+=k*Ie,w+=k*it,S+=k*q,y+=k*T,u+=k*L,m+=k*G,I+=k*re,$+=k*fe,Z+=k*oe,O+=k*we,Q+=k*Ge,k=F[3],f+=k*dt,h+=k*_e,d+=k*Ae,p+=k*ot,v+=k*xe,w+=k*Ie,S+=k*it,y+=k*q,u+=k*T,m+=k*L,I+=k*G,$+=k*re,Z+=k*fe,O+=k*oe,Q+=k*we,Y+=k*Ge,k=F[4],h+=k*dt,d+=k*_e,p+=k*Ae,v+=k*ot,w+=k*xe,S+=k*Ie,y+=k*it,u+=k*q,m+=k*T,I+=k*L,$+=k*G,Z+=k*re,O+=k*fe,Q+=k*oe,Y+=k*we,X+=k*Ge,k=F[5],d+=k*dt,p+=k*_e,v+=k*Ae,w+=k*ot,S+=k*xe,y+=k*Ie,u+=k*it,m+=k*q,I+=k*T,$+=k*L,Z+=k*G,O+=k*re,Q+=k*fe,Y+=k*oe,X+=k*we,J+=k*Ge,k=F[6],p+=k*dt,v+=k*_e,w+=k*Ae,S+=k*ot,y+=k*xe,u+=k*Ie,m+=k*it,I+=k*q,$+=k*T,Z+=k*L,O+=k*G,Q+=k*re,Y+=k*fe,X+=k*oe,J+=k*we,N+=k*Ge,k=F[7],v+=k*dt,w+=k*_e,S+=k*Ae,y+=k*ot,u+=k*xe,m+=k*Ie,I+=k*it,$+=k*q,Z+=k*T,O+=k*L,Q+=k*G,Y+=k*re,X+=k*fe,J+=k*oe,N+=k*we,ee+=k*Ge,k=F[8],w+=k*dt,S+=k*_e,y+=k*Ae,u+=k*ot,m+=k*xe,I+=k*Ie,$+=k*it,Z+=k*q,O+=k*T,Q+=k*L,Y+=k*G,X+=k*re,J+=k*fe,N+=k*oe,ee+=k*we,se+=k*Ge,k=F[9],S+=k*dt,y+=k*_e,u+=k*Ae,m+=k*ot,I+=k*xe,$+=k*Ie,Z+=k*it,O+=k*q,Q+=k*T,Y+=k*L,X+=k*G,J+=k*re,N+=k*fe,ee+=k*oe,se+=k*we,le+=k*Ge,k=F[10],y+=k*dt,u+=k*_e,m+=k*Ae,I+=k*ot,$+=k*xe,Z+=k*Ie,O+=k*it,Q+=k*q,Y+=k*T,X+=k*L,J+=k*G,N+=k*re,ee+=k*fe,se+=k*oe,le+=k*we,Ee+=k*Ge,k=F[11],u+=k*dt,m+=k*_e,I+=k*Ae,$+=k*ot,Z+=k*xe,O+=k*Ie,Q+=k*it,Y+=k*q,X+=k*T,J+=k*L,N+=k*G,ee+=k*re,se+=k*fe,le+=k*oe,Ee+=k*we,ye+=k*Ge,k=F[12],m+=k*dt,I+=k*_e,$+=k*Ae,Z+=k*ot,O+=k*xe,Q+=k*Ie,Y+=k*it,X+=k*q,J+=k*T,N+=k*L,ee+=k*G,se+=k*re,le+=k*fe,Ee+=k*oe,ye+=k*we,Be+=k*Ge,k=F[13],I+=k*dt,$+=k*_e,Z+=k*Ae,O+=k*ot,Q+=k*xe,Y+=k*Ie,X+=k*it,J+=k*q,N+=k*T,ee+=k*L,se+=k*G,le+=k*re,Ee+=k*fe,ye+=k*oe,Be+=k*we,bt+=k*Ge,k=F[14],$+=k*dt,Z+=k*_e,O+=k*Ae,Q+=k*ot,Y+=k*xe,X+=k*Ie,J+=k*it,N+=k*q,ee+=k*T,se+=k*L,le+=k*G,Ee+=k*re,ye+=k*fe,Be+=k*oe,bt+=k*we,ke+=k*Ge,k=F[15],Z+=k*dt,O+=k*_e,Q+=k*Ae,Y+=k*ot,X+=k*xe,J+=k*Ie,N+=k*it,ee+=k*q,se+=k*T,le+=k*L,Ee+=k*G,ye+=k*re,Be+=k*fe,bt+=k*oe,ke+=k*we,Ke+=k*Ge,te+=38*O,ce+=38*Q,A+=38*Y,f+=38*X,h+=38*J,d+=38*N,p+=38*ee,v+=38*se,w+=38*le,S+=38*Ee,y+=38*ye,u+=38*Be,m+=38*bt,I+=38*ke,$+=38*Ke,K=1,k=te+K+65535,K=Math.floor(k/65536),te=k-K*65536,k=ce+K+65535,K=Math.floor(k/65536),ce=k-K*65536,k=A+K+65535,K=Math.floor(k/65536),A=k-K*65536,k=f+K+65535,K=Math.floor(k/65536),f=k-K*65536,k=h+K+65535,K=Math.floor(k/65536),h=k-K*65536,k=d+K+65535,K=Math.floor(k/65536),d=k-K*65536,k=p+K+65535,K=Math.floor(k/65536),p=k-K*65536,k=v+K+65535,K=Math.floor(k/65536),v=k-K*65536,k=w+K+65535,K=Math.floor(k/65536),w=k-K*65536,k=S+K+65535,K=Math.floor(k/65536),S=k-K*65536,k=y+K+65535,K=Math.floor(k/65536),y=k-K*65536,k=u+K+65535,K=Math.floor(k/65536),u=k-K*65536,k=m+K+65535,K=Math.floor(k/65536),m=k-K*65536,k=I+K+65535,K=Math.floor(k/65536),I=k-K*65536,k=$+K+65535,K=Math.floor(k/65536),$=k-K*65536,k=Z+K+65535,K=Math.floor(k/65536),Z=k-K*65536,te+=K-1+37*(K-1),K=1,k=te+K+65535,K=Math.floor(k/65536),te=k-K*65536,k=ce+K+65535,K=Math.floor(k/65536),ce=k-K*65536,k=A+K+65535,K=Math.floor(k/65536),A=k-K*65536,k=f+K+65535,K=Math.floor(k/65536),f=k-K*65536,k=h+K+65535,K=Math.floor(k/65536),h=k-K*65536,k=d+K+65535,K=Math.floor(k/65536),d=k-K*65536,k=p+K+65535,K=Math.floor(k/65536),p=k-K*65536,k=v+K+65535,K=Math.floor(k/65536),v=k-K*65536,k=w+K+65535,K=Math.floor(k/65536),w=k-K*65536,k=S+K+65535,K=Math.floor(k/65536),S=k-K*65536,k=y+K+65535,K=Math.floor(k/65536),y=k-K*65536,k=u+K+65535,K=Math.floor(k/65536),u=k-K*65536,k=m+K+65535,K=Math.floor(k/65536),m=k-K*65536,k=I+K+65535,K=Math.floor(k/65536),I=k-K*65536,k=$+K+65535,K=Math.floor(k/65536),$=k-K*65536,k=Z+K+65535,K=Math.floor(k/65536),Z=k-K*65536,te+=K-1+37*(K-1),U[0]=te,U[1]=ce,U[2]=A,U[3]=f,U[4]=h,U[5]=d,U[6]=p,U[7]=v,U[8]=w,U[9]=S,U[10]=y,U[11]=u,U[12]=m,U[13]=I,U[14]=$,U[15]=Z}function _(U,F){x(U,F,F)}function E(U,F){const W=n();for(let k=0;k<16;k++)W[k]=F[k];for(let k=253;k>=0;k--)_(W,W),k!==2&&k!==4&&x(W,W,F);for(let k=0;k<16;k++)U[k]=W[k]}function M(U,F){const W=new Uint8Array(32),k=new Float64Array(80),K=n(),te=n(),ce=n(),A=n(),f=n(),h=n();for(let w=0;w<31;w++)W[w]=U[w];W[31]=U[31]&127|64,W[0]&=248,l(k,F);for(let w=0;w<16;w++)te[w]=k[w];K[0]=A[0]=1;for(let w=254;w>=0;--w){const S=W[w>>>3]>>>(w&7)&1;a(K,te,S),a(ce,A,S),g(f,K,ce),b(K,K,ce),g(ce,te,A),b(te,te,A),_(A,f),_(h,K),x(K,ce,K),x(ce,te,f),g(f,K,ce),b(K,K,ce),_(te,K),b(ce,A,h),x(K,ce,s),g(K,K,A),x(ce,ce,K),x(K,A,h),x(A,te,k),_(te,f),a(K,te,S),a(ce,A,S)}for(let w=0;w<16;w++)k[w+16]=K[w],k[w+32]=ce[w],k[w+48]=te[w],k[w+64]=A[w];const d=k.subarray(32),p=k.subarray(16);E(d,d),x(p,p,d);const v=new Uint8Array(32);return c(v,p),v}t.scalarMult=M;function B(U){return M(U,i)}t.scalarMultBase=B;function P(U){if(U.length!==t.SECRET_KEY_LENGTH)throw new Error(`x25519: seed must be ${t.SECRET_KEY_LENGTH} bytes`);const F=new Uint8Array(U);return{publicKey:B(F),secretKey:F}}t.generateKeyPairFromSeed=P;function R(U){const F=(0,e.randomBytes)(32,U),W=P(F);return(0,r.wipe)(F),W}t.generateKeyPair=R;function D(U,F,W=!1){if(U.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect secret key length");if(F.length!==t.PUBLIC_KEY_LENGTH)throw new Error("X25519: incorrect public key length");const k=M(U,F);if(W){let K=0;for(let te=0;te<k.length;te++)K|=k[te];if(K===0)throw new Error("X25519: invalid shared key")}return k}t.sharedKey=D})(I6);var ZA={};const Jj="elliptic",Xj="6.5.7",Zj="EC cryptography",Qj="lib/elliptic.js",eW=["lib"],tW={lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},rW={type:"git",url:"git@github.com:indutny/elliptic"},nW=["EC","Elliptic","curve","Cryptography"],iW="Fedor Indutny <fedor@indutny.com>",sW="MIT",oW={url:"https://github.com/indutny/elliptic/issues"},aW="https://github.com/indutny/elliptic",cW={brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},fW={"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"},uW={name:Jj,version:Xj,description:Zj,main:Qj,files:eW,scripts:tW,repository:rW,keywords:nW,author:iW,license:sW,bugs:oW,homepage:aW,devDependencies:cW,dependencies:fW};var Ms={},M6={exports:{}};M6.exports;(function(t){(function(e,r){function n(A,f){if(!A)throw new Error(f||"Assertion failed")}function i(A,f){A.super_=f;var h=function(){};h.prototype=f.prototype,A.prototype=new h,A.prototype.constructor=A}function s(A,f,h){if(s.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&((f==="le"||f==="be")&&(h=f,f=10),this._init(A||0,f||10,h||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Og.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,h){return f.cmp(h)>0?f:h},s.min=function(f,h){return f.cmp(h)<0?f:h},s.prototype._init=function(f,h,d){if(typeof f=="number")return this._initNumber(f,h,d);if(typeof f=="object")return this._initArray(f,h,d);h==="hex"&&(h=16),n(h===(h|0)&&h>=2&&h<=36),f=f.toString().replace(/\s+/g,"");var p=0;f[0]==="-"&&(p++,this.negative=1),p<f.length&&(h===16?this._parseHex(f,p,d):(this._parseBase(f,h,p),d==="le"&&this._initArray(this.toArray(),h,d)))},s.prototype._initNumber=function(f,h,d){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(n(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),d==="le"&&this._initArray(this.toArray(),h,d)},s.prototype._initArray=function(f,h,d){if(n(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v,w,S=0;if(d==="be")for(p=f.length-1,v=0;p>=0;p-=3)w=f[p]|f[p-1]<<8|f[p-2]<<16,this.words[v]|=w<<S&67108863,this.words[v+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,v++);else if(d==="le")for(p=0,v=0;p<f.length;p+=3)w=f[p]|f[p+1]<<8|f[p+2]<<16,this.words[v]|=w<<S&67108863,this.words[v+1]=w>>>26-S&67108863,S+=24,S>=26&&(S-=26,v++);return this.strip()};function a(A,f){var h=A.charCodeAt(f);return h>=65&&h<=70?h-55:h>=97&&h<=102?h-87:h-48&15}function c(A,f,h){var d=a(A,h);return h-1>=f&&(d|=a(A,h-1)<<4),d}s.prototype._parseHex=function(f,h,d){this.length=Math.ceil((f.length-h)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var v=0,w=0,S;if(d==="be")for(p=f.length-1;p>=h;p-=2)S=c(f,h,p)<<v,this.words[w]|=S&67108863,v>=18?(v-=18,w+=1,this.words[w]|=S>>>26):v+=8;else{var y=f.length-h;for(p=y%2===0?h+1:h;p<f.length;p+=2)S=c(f,h,p)<<v,this.words[w]|=S&67108863,v>=18?(v-=18,w+=1,this.words[w]|=S>>>26):v+=8}this.strip()};function l(A,f,h,d){for(var p=0,v=Math.min(A.length,h),w=f;w<v;w++){var S=A.charCodeAt(w)-48;p*=d,S>=49?p+=S-49+10:S>=17?p+=S-17+10:p+=S}return p}s.prototype._parseBase=function(f,h,d){this.words=[0],this.length=1;for(var p=0,v=1;v<=67108863;v*=h)p++;p--,v=v/h|0;for(var w=f.length-d,S=w%p,y=Math.min(w,w-S)+d,u=0,m=d;m<y;m+=p)u=l(f,m,m+p,h),this.imuln(v),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(S!==0){var I=1;for(u=l(f,m,f.length,h),m=0;m<S;m++)I*=h;this.imuln(I),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var h=0;h<this.length;h++)f.words[h]=this.words[h];f.length=this.length,f.negative=this.negative,f.red=this.red},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},s.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],x=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,h){f=f||10,h=h|0||1;var d;if(f===16||f==="hex"){d="";for(var p=0,v=0,w=0;w<this.length;w++){var S=this.words[w],y=((S<<p|v)&16777215).toString(16);v=S>>>24-p&16777215,v!==0||w!==this.length-1?d=g[6-y.length]+y+d:d=y+d,p+=2,p>=26&&(p-=26,w--)}for(v!==0&&(d=v.toString(16)+d);d.length%h!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}if(f===(f|0)&&f>=2&&f<=36){var u=b[f],m=x[f];d="";var I=this.clone();for(I.negative=0;!I.isZero();){var $=I.modn(m).toString(f);I=I.idivn(m),I.isZero()?d=$+d:d=g[u-$.length]+$+d}for(this.isZero()&&(d="0"+d);d.length%h!==0;)d="0"+d;return this.negative!==0&&(d="-"+d),d}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16)},s.prototype.toBuffer=function(f,h){return n(typeof o<"u"),this.toArrayLike(o,f,h)},s.prototype.toArray=function(f,h){return this.toArrayLike(Array,f,h)},s.prototype.toArrayLike=function(f,h,d){var p=this.byteLength(),v=d||Math.max(1,p);n(p<=v,"byte array longer than desired length"),n(v>0,"Requested array length <= 0"),this.strip();var w=h==="le",S=new f(v),y,u,m=this.clone();if(w){for(u=0;!m.isZero();u++)y=m.andln(255),m.iushrn(8),S[u]=y;for(;u<v;u++)S[u]=0}else{for(u=0;u<v-p;u++)S[u]=0;for(u=0;!m.isZero();u++)y=m.andln(255),m.iushrn(8),S[v-u-1]=y}return S},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var h=f,d=0;return h>=4096&&(d+=13,h>>>=13),h>=64&&(d+=7,h>>>=7),h>=8&&(d+=4,h>>>=4),h>=2&&(d+=2,h>>>=2),d+h},s.prototype._zeroBits=function(f){if(f===0)return 26;var h=f,d=0;return h&8191||(d+=13,h>>>=13),h&127||(d+=7,h>>>=7),h&15||(d+=4,h>>>=4),h&3||(d+=2,h>>>=2),h&1||d++,d},s.prototype.bitLength=function(){var f=this.words[this.length-1],h=this._countBits(f);return(this.length-1)*26+h};function _(A){for(var f=new Array(A.bitLength()),h=0;h<f.length;h++){var d=h/26|0,p=h%26;f[h]=(A.words[d]&1<<p)>>>p}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,h=0;h<this.length;h++){var d=this._zeroBits(this.words[h]);if(f+=d,d!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var h=0;h<f.length;h++)this.words[h]=this.words[h]|f.words[h];return this.strip()},s.prototype.ior=function(f){return n((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var h;this.length>f.length?h=f:h=this;for(var d=0;d<h.length;d++)this.words[d]=this.words[d]&f.words[d];return this.length=h.length,this.strip()},s.prototype.iand=function(f){return n((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var h,d;this.length>f.length?(h=this,d=f):(h=f,d=this);for(var p=0;p<d.length;p++)this.words[p]=h.words[p]^d.words[p];if(this!==h)for(;p<h.length;p++)this.words[p]=h.words[p];return this.length=h.length,this.strip()},s.prototype.ixor=function(f){return n((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){n(typeof f=="number"&&f>=0);var h=Math.ceil(f/26)|0,d=f%26;this._expand(h),d>0&&h--;for(var p=0;p<h;p++)this.words[p]=~this.words[p]&67108863;return d>0&&(this.words[p]=~this.words[p]&67108863>>26-d),this.strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,h){n(typeof f=="number"&&f>=0);var d=f/26|0,p=f%26;return this._expand(d+1),h?this.words[d]=this.words[d]|1<<p:this.words[d]=this.words[d]&~(1<<p),this.strip()},s.prototype.iadd=function(f){var h;if(this.negative!==0&&f.negative===0)return this.negative=0,h=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,h=this.isub(f),f.negative=1,h._normSign();var d,p;this.length>f.length?(d=this,p=f):(d=f,p=this);for(var v=0,w=0;w<p.length;w++)h=(d.words[w]|0)+(p.words[w]|0)+v,this.words[w]=h&67108863,v=h>>>26;for(;v!==0&&w<d.length;w++)h=(d.words[w]|0)+v,this.words[w]=h&67108863,v=h>>>26;if(this.length=d.length,v!==0)this.words[this.length]=v,this.length++;else if(d!==this)for(;w<d.length;w++)this.words[w]=d.words[w];return this},s.prototype.add=function(f){var h;return f.negative!==0&&this.negative===0?(f.negative=0,h=this.sub(f),f.negative^=1,h):f.negative===0&&this.negative!==0?(this.negative=0,h=f.sub(this),this.negative=1,h):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var h=this.iadd(f);return f.negative=1,h._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var d=this.cmp(f);if(d===0)return this.negative=0,this.length=1,this.words[0]=0,this;var p,v;d>0?(p=this,v=f):(p=f,v=this);for(var w=0,S=0;S<v.length;S++)h=(p.words[S]|0)-(v.words[S]|0)+w,w=h>>26,this.words[S]=h&67108863;for(;w!==0&&S<p.length;S++)h=(p.words[S]|0)+w,w=h>>26,this.words[S]=h&67108863;if(w===0&&S<p.length&&p!==this)for(;S<p.length;S++)this.words[S]=p.words[S];return this.length=Math.max(this.length,S),p!==this&&(this.negative=1),this.strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function E(A,f,h){h.negative=f.negative^A.negative;var d=A.length+f.length|0;h.length=d,d=d-1|0;var p=A.words[0]|0,v=f.words[0]|0,w=p*v,S=w&67108863,y=w/67108864|0;h.words[0]=S;for(var u=1;u<d;u++){for(var m=y>>>26,I=y&67108863,$=Math.min(u,f.length-1),Z=Math.max(0,u-A.length+1);Z<=$;Z++){var O=u-Z|0;p=A.words[O]|0,v=f.words[Z]|0,w=p*v+I,m+=w/67108864|0,I=w&67108863}h.words[u]=I|0,y=m|0}return y!==0?h.words[u]=y|0:h.length--,h.strip()}var M=function(f,h,d){var p=f.words,v=h.words,w=d.words,S=0,y,u,m,I=p[0]|0,$=I&8191,Z=I>>>13,O=p[1]|0,Q=O&8191,Y=O>>>13,X=p[2]|0,J=X&8191,N=X>>>13,ee=p[3]|0,se=ee&8191,le=ee>>>13,Ee=p[4]|0,ye=Ee&8191,Be=Ee>>>13,bt=p[5]|0,ke=bt&8191,Ke=bt>>>13,dt=p[6]|0,_e=dt&8191,Ae=dt>>>13,ot=p[7]|0,xe=ot&8191,Ie=ot>>>13,it=p[8]|0,q=it&8191,T=it>>>13,L=p[9]|0,G=L&8191,re=L>>>13,fe=v[0]|0,oe=fe&8191,we=fe>>>13,Ge=v[1]|0,Se=Ge&8191,Le=Ge>>>13,gt=v[2]|0,Ue=gt&8191,ct=gt>>>13,Ht=v[3]|0,Ye=Ht&8191,Je=Ht>>>13,St=v[4]|0,Re=St&8191,Ve=St>>>13,Ot=v[5]|0,Ce=Ot&8191,Ze=Ot>>>13,Dt=v[6]|0,Me=Dt&8191,Qe=Dt>>>13,z=v[7]|0,j=z&8191,H=z>>>13,C=v[8]|0,V=C&8191,ie=C>>>13,de=v[9]|0,ue=de&8191,pe=de>>>13;d.negative=f.negative^h.negative,d.length=19,y=Math.imul($,oe),u=Math.imul($,we),u=u+Math.imul(Z,oe)|0,m=Math.imul(Z,we);var $e=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+($e>>>26)|0,$e&=67108863,y=Math.imul(Q,oe),u=Math.imul(Q,we),u=u+Math.imul(Y,oe)|0,m=Math.imul(Y,we),y=y+Math.imul($,Se)|0,u=u+Math.imul($,Le)|0,u=u+Math.imul(Z,Se)|0,m=m+Math.imul(Z,Le)|0;var De=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(De>>>26)|0,De&=67108863,y=Math.imul(J,oe),u=Math.imul(J,we),u=u+Math.imul(N,oe)|0,m=Math.imul(N,we),y=y+Math.imul(Q,Se)|0,u=u+Math.imul(Q,Le)|0,u=u+Math.imul(Y,Se)|0,m=m+Math.imul(Y,Le)|0,y=y+Math.imul($,Ue)|0,u=u+Math.imul($,ct)|0,u=u+Math.imul(Z,Ue)|0,m=m+Math.imul(Z,ct)|0;var Bt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,y=Math.imul(se,oe),u=Math.imul(se,we),u=u+Math.imul(le,oe)|0,m=Math.imul(le,we),y=y+Math.imul(J,Se)|0,u=u+Math.imul(J,Le)|0,u=u+Math.imul(N,Se)|0,m=m+Math.imul(N,Le)|0,y=y+Math.imul(Q,Ue)|0,u=u+Math.imul(Q,ct)|0,u=u+Math.imul(Y,Ue)|0,m=m+Math.imul(Y,ct)|0,y=y+Math.imul($,Ye)|0,u=u+Math.imul($,Je)|0,u=u+Math.imul(Z,Ye)|0,m=m+Math.imul(Z,Je)|0;var tt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(tt>>>26)|0,tt&=67108863,y=Math.imul(ye,oe),u=Math.imul(ye,we),u=u+Math.imul(Be,oe)|0,m=Math.imul(Be,we),y=y+Math.imul(se,Se)|0,u=u+Math.imul(se,Le)|0,u=u+Math.imul(le,Se)|0,m=m+Math.imul(le,Le)|0,y=y+Math.imul(J,Ue)|0,u=u+Math.imul(J,ct)|0,u=u+Math.imul(N,Ue)|0,m=m+Math.imul(N,ct)|0,y=y+Math.imul(Q,Ye)|0,u=u+Math.imul(Q,Je)|0,u=u+Math.imul(Y,Ye)|0,m=m+Math.imul(Y,Je)|0,y=y+Math.imul($,Re)|0,u=u+Math.imul($,Ve)|0,u=u+Math.imul(Z,Re)|0,m=m+Math.imul(Z,Ve)|0;var xt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(xt>>>26)|0,xt&=67108863,y=Math.imul(ke,oe),u=Math.imul(ke,we),u=u+Math.imul(Ke,oe)|0,m=Math.imul(Ke,we),y=y+Math.imul(ye,Se)|0,u=u+Math.imul(ye,Le)|0,u=u+Math.imul(Be,Se)|0,m=m+Math.imul(Be,Le)|0,y=y+Math.imul(se,Ue)|0,u=u+Math.imul(se,ct)|0,u=u+Math.imul(le,Ue)|0,m=m+Math.imul(le,ct)|0,y=y+Math.imul(J,Ye)|0,u=u+Math.imul(J,Je)|0,u=u+Math.imul(N,Ye)|0,m=m+Math.imul(N,Je)|0,y=y+Math.imul(Q,Re)|0,u=u+Math.imul(Q,Ve)|0,u=u+Math.imul(Y,Re)|0,m=m+Math.imul(Y,Ve)|0,y=y+Math.imul($,Ce)|0,u=u+Math.imul($,Ze)|0,u=u+Math.imul(Z,Ce)|0,m=m+Math.imul(Z,Ze)|0;var _t=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(_t>>>26)|0,_t&=67108863,y=Math.imul(_e,oe),u=Math.imul(_e,we),u=u+Math.imul(Ae,oe)|0,m=Math.imul(Ae,we),y=y+Math.imul(ke,Se)|0,u=u+Math.imul(ke,Le)|0,u=u+Math.imul(Ke,Se)|0,m=m+Math.imul(Ke,Le)|0,y=y+Math.imul(ye,Ue)|0,u=u+Math.imul(ye,ct)|0,u=u+Math.imul(Be,Ue)|0,m=m+Math.imul(Be,ct)|0,y=y+Math.imul(se,Ye)|0,u=u+Math.imul(se,Je)|0,u=u+Math.imul(le,Ye)|0,m=m+Math.imul(le,Je)|0,y=y+Math.imul(J,Re)|0,u=u+Math.imul(J,Ve)|0,u=u+Math.imul(N,Re)|0,m=m+Math.imul(N,Ve)|0,y=y+Math.imul(Q,Ce)|0,u=u+Math.imul(Q,Ze)|0,u=u+Math.imul(Y,Ce)|0,m=m+Math.imul(Y,Ze)|0,y=y+Math.imul($,Me)|0,u=u+Math.imul($,Qe)|0,u=u+Math.imul(Z,Me)|0,m=m+Math.imul(Z,Qe)|0;var mt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(mt>>>26)|0,mt&=67108863,y=Math.imul(xe,oe),u=Math.imul(xe,we),u=u+Math.imul(Ie,oe)|0,m=Math.imul(Ie,we),y=y+Math.imul(_e,Se)|0,u=u+Math.imul(_e,Le)|0,u=u+Math.imul(Ae,Se)|0,m=m+Math.imul(Ae,Le)|0,y=y+Math.imul(ke,Ue)|0,u=u+Math.imul(ke,ct)|0,u=u+Math.imul(Ke,Ue)|0,m=m+Math.imul(Ke,ct)|0,y=y+Math.imul(ye,Ye)|0,u=u+Math.imul(ye,Je)|0,u=u+Math.imul(Be,Ye)|0,m=m+Math.imul(Be,Je)|0,y=y+Math.imul(se,Re)|0,u=u+Math.imul(se,Ve)|0,u=u+Math.imul(le,Re)|0,m=m+Math.imul(le,Ve)|0,y=y+Math.imul(J,Ce)|0,u=u+Math.imul(J,Ze)|0,u=u+Math.imul(N,Ce)|0,m=m+Math.imul(N,Ze)|0,y=y+Math.imul(Q,Me)|0,u=u+Math.imul(Q,Qe)|0,u=u+Math.imul(Y,Me)|0,m=m+Math.imul(Y,Qe)|0,y=y+Math.imul($,j)|0,u=u+Math.imul($,H)|0,u=u+Math.imul(Z,j)|0,m=m+Math.imul(Z,H)|0;var Tt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,y=Math.imul(q,oe),u=Math.imul(q,we),u=u+Math.imul(T,oe)|0,m=Math.imul(T,we),y=y+Math.imul(xe,Se)|0,u=u+Math.imul(xe,Le)|0,u=u+Math.imul(Ie,Se)|0,m=m+Math.imul(Ie,Le)|0,y=y+Math.imul(_e,Ue)|0,u=u+Math.imul(_e,ct)|0,u=u+Math.imul(Ae,Ue)|0,m=m+Math.imul(Ae,ct)|0,y=y+Math.imul(ke,Ye)|0,u=u+Math.imul(ke,Je)|0,u=u+Math.imul(Ke,Ye)|0,m=m+Math.imul(Ke,Je)|0,y=y+Math.imul(ye,Re)|0,u=u+Math.imul(ye,Ve)|0,u=u+Math.imul(Be,Re)|0,m=m+Math.imul(Be,Ve)|0,y=y+Math.imul(se,Ce)|0,u=u+Math.imul(se,Ze)|0,u=u+Math.imul(le,Ce)|0,m=m+Math.imul(le,Ze)|0,y=y+Math.imul(J,Me)|0,u=u+Math.imul(J,Qe)|0,u=u+Math.imul(N,Me)|0,m=m+Math.imul(N,Qe)|0,y=y+Math.imul(Q,j)|0,u=u+Math.imul(Q,H)|0,u=u+Math.imul(Y,j)|0,m=m+Math.imul(Y,H)|0,y=y+Math.imul($,V)|0,u=u+Math.imul($,ie)|0,u=u+Math.imul(Z,V)|0,m=m+Math.imul(Z,ie)|0;var Mt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,y=Math.imul(G,oe),u=Math.imul(G,we),u=u+Math.imul(re,oe)|0,m=Math.imul(re,we),y=y+Math.imul(q,Se)|0,u=u+Math.imul(q,Le)|0,u=u+Math.imul(T,Se)|0,m=m+Math.imul(T,Le)|0,y=y+Math.imul(xe,Ue)|0,u=u+Math.imul(xe,ct)|0,u=u+Math.imul(Ie,Ue)|0,m=m+Math.imul(Ie,ct)|0,y=y+Math.imul(_e,Ye)|0,u=u+Math.imul(_e,Je)|0,u=u+Math.imul(Ae,Ye)|0,m=m+Math.imul(Ae,Je)|0,y=y+Math.imul(ke,Re)|0,u=u+Math.imul(ke,Ve)|0,u=u+Math.imul(Ke,Re)|0,m=m+Math.imul(Ke,Ve)|0,y=y+Math.imul(ye,Ce)|0,u=u+Math.imul(ye,Ze)|0,u=u+Math.imul(Be,Ce)|0,m=m+Math.imul(Be,Ze)|0,y=y+Math.imul(se,Me)|0,u=u+Math.imul(se,Qe)|0,u=u+Math.imul(le,Me)|0,m=m+Math.imul(le,Qe)|0,y=y+Math.imul(J,j)|0,u=u+Math.imul(J,H)|0,u=u+Math.imul(N,j)|0,m=m+Math.imul(N,H)|0,y=y+Math.imul(Q,V)|0,u=u+Math.imul(Q,ie)|0,u=u+Math.imul(Y,V)|0,m=m+Math.imul(Y,ie)|0,y=y+Math.imul($,ue)|0,u=u+Math.imul($,pe)|0,u=u+Math.imul(Z,ue)|0,m=m+Math.imul(Z,pe)|0;var kt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(kt>>>26)|0,kt&=67108863,y=Math.imul(G,Se),u=Math.imul(G,Le),u=u+Math.imul(re,Se)|0,m=Math.imul(re,Le),y=y+Math.imul(q,Ue)|0,u=u+Math.imul(q,ct)|0,u=u+Math.imul(T,Ue)|0,m=m+Math.imul(T,ct)|0,y=y+Math.imul(xe,Ye)|0,u=u+Math.imul(xe,Je)|0,u=u+Math.imul(Ie,Ye)|0,m=m+Math.imul(Ie,Je)|0,y=y+Math.imul(_e,Re)|0,u=u+Math.imul(_e,Ve)|0,u=u+Math.imul(Ae,Re)|0,m=m+Math.imul(Ae,Ve)|0,y=y+Math.imul(ke,Ce)|0,u=u+Math.imul(ke,Ze)|0,u=u+Math.imul(Ke,Ce)|0,m=m+Math.imul(Ke,Ze)|0,y=y+Math.imul(ye,Me)|0,u=u+Math.imul(ye,Qe)|0,u=u+Math.imul(Be,Me)|0,m=m+Math.imul(Be,Qe)|0,y=y+Math.imul(se,j)|0,u=u+Math.imul(se,H)|0,u=u+Math.imul(le,j)|0,m=m+Math.imul(le,H)|0,y=y+Math.imul(J,V)|0,u=u+Math.imul(J,ie)|0,u=u+Math.imul(N,V)|0,m=m+Math.imul(N,ie)|0,y=y+Math.imul(Q,ue)|0,u=u+Math.imul(Q,pe)|0,u=u+Math.imul(Y,ue)|0,m=m+Math.imul(Y,pe)|0;var Pt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,y=Math.imul(G,Ue),u=Math.imul(G,ct),u=u+Math.imul(re,Ue)|0,m=Math.imul(re,ct),y=y+Math.imul(q,Ye)|0,u=u+Math.imul(q,Je)|0,u=u+Math.imul(T,Ye)|0,m=m+Math.imul(T,Je)|0,y=y+Math.imul(xe,Re)|0,u=u+Math.imul(xe,Ve)|0,u=u+Math.imul(Ie,Re)|0,m=m+Math.imul(Ie,Ve)|0,y=y+Math.imul(_e,Ce)|0,u=u+Math.imul(_e,Ze)|0,u=u+Math.imul(Ae,Ce)|0,m=m+Math.imul(Ae,Ze)|0,y=y+Math.imul(ke,Me)|0,u=u+Math.imul(ke,Qe)|0,u=u+Math.imul(Ke,Me)|0,m=m+Math.imul(Ke,Qe)|0,y=y+Math.imul(ye,j)|0,u=u+Math.imul(ye,H)|0,u=u+Math.imul(Be,j)|0,m=m+Math.imul(Be,H)|0,y=y+Math.imul(se,V)|0,u=u+Math.imul(se,ie)|0,u=u+Math.imul(le,V)|0,m=m+Math.imul(le,ie)|0,y=y+Math.imul(J,ue)|0,u=u+Math.imul(J,pe)|0,u=u+Math.imul(N,ue)|0,m=m+Math.imul(N,pe)|0;var at=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(at>>>26)|0,at&=67108863,y=Math.imul(G,Ye),u=Math.imul(G,Je),u=u+Math.imul(re,Ye)|0,m=Math.imul(re,Je),y=y+Math.imul(q,Re)|0,u=u+Math.imul(q,Ve)|0,u=u+Math.imul(T,Re)|0,m=m+Math.imul(T,Ve)|0,y=y+Math.imul(xe,Ce)|0,u=u+Math.imul(xe,Ze)|0,u=u+Math.imul(Ie,Ce)|0,m=m+Math.imul(Ie,Ze)|0,y=y+Math.imul(_e,Me)|0,u=u+Math.imul(_e,Qe)|0,u=u+Math.imul(Ae,Me)|0,m=m+Math.imul(Ae,Qe)|0,y=y+Math.imul(ke,j)|0,u=u+Math.imul(ke,H)|0,u=u+Math.imul(Ke,j)|0,m=m+Math.imul(Ke,H)|0,y=y+Math.imul(ye,V)|0,u=u+Math.imul(ye,ie)|0,u=u+Math.imul(Be,V)|0,m=m+Math.imul(Be,ie)|0,y=y+Math.imul(se,ue)|0,u=u+Math.imul(se,pe)|0,u=u+Math.imul(le,ue)|0,m=m+Math.imul(le,pe)|0;var pt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(pt>>>26)|0,pt&=67108863,y=Math.imul(G,Re),u=Math.imul(G,Ve),u=u+Math.imul(re,Re)|0,m=Math.imul(re,Ve),y=y+Math.imul(q,Ce)|0,u=u+Math.imul(q,Ze)|0,u=u+Math.imul(T,Ce)|0,m=m+Math.imul(T,Ze)|0,y=y+Math.imul(xe,Me)|0,u=u+Math.imul(xe,Qe)|0,u=u+Math.imul(Ie,Me)|0,m=m+Math.imul(Ie,Qe)|0,y=y+Math.imul(_e,j)|0,u=u+Math.imul(_e,H)|0,u=u+Math.imul(Ae,j)|0,m=m+Math.imul(Ae,H)|0,y=y+Math.imul(ke,V)|0,u=u+Math.imul(ke,ie)|0,u=u+Math.imul(Ke,V)|0,m=m+Math.imul(Ke,ie)|0,y=y+Math.imul(ye,ue)|0,u=u+Math.imul(ye,pe)|0,u=u+Math.imul(Be,ue)|0,m=m+Math.imul(Be,pe)|0;var rt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(rt>>>26)|0,rt&=67108863,y=Math.imul(G,Ce),u=Math.imul(G,Ze),u=u+Math.imul(re,Ce)|0,m=Math.imul(re,Ze),y=y+Math.imul(q,Me)|0,u=u+Math.imul(q,Qe)|0,u=u+Math.imul(T,Me)|0,m=m+Math.imul(T,Qe)|0,y=y+Math.imul(xe,j)|0,u=u+Math.imul(xe,H)|0,u=u+Math.imul(Ie,j)|0,m=m+Math.imul(Ie,H)|0,y=y+Math.imul(_e,V)|0,u=u+Math.imul(_e,ie)|0,u=u+Math.imul(Ae,V)|0,m=m+Math.imul(Ae,ie)|0,y=y+Math.imul(ke,ue)|0,u=u+Math.imul(ke,pe)|0,u=u+Math.imul(Ke,ue)|0,m=m+Math.imul(Ke,pe)|0;var ft=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(ft>>>26)|0,ft&=67108863,y=Math.imul(G,Me),u=Math.imul(G,Qe),u=u+Math.imul(re,Me)|0,m=Math.imul(re,Qe),y=y+Math.imul(q,j)|0,u=u+Math.imul(q,H)|0,u=u+Math.imul(T,j)|0,m=m+Math.imul(T,H)|0,y=y+Math.imul(xe,V)|0,u=u+Math.imul(xe,ie)|0,u=u+Math.imul(Ie,V)|0,m=m+Math.imul(Ie,ie)|0,y=y+Math.imul(_e,ue)|0,u=u+Math.imul(_e,pe)|0,u=u+Math.imul(Ae,ue)|0,m=m+Math.imul(Ae,pe)|0;var nt=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(nt>>>26)|0,nt&=67108863,y=Math.imul(G,j),u=Math.imul(G,H),u=u+Math.imul(re,j)|0,m=Math.imul(re,H),y=y+Math.imul(q,V)|0,u=u+Math.imul(q,ie)|0,u=u+Math.imul(T,V)|0,m=m+Math.imul(T,ie)|0,y=y+Math.imul(xe,ue)|0,u=u+Math.imul(xe,pe)|0,u=u+Math.imul(Ie,ue)|0,m=m+Math.imul(Ie,pe)|0;var et=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(et>>>26)|0,et&=67108863,y=Math.imul(G,V),u=Math.imul(G,ie),u=u+Math.imul(re,V)|0,m=Math.imul(re,ie),y=y+Math.imul(q,ue)|0,u=u+Math.imul(q,pe)|0,u=u+Math.imul(T,ue)|0,m=m+Math.imul(T,pe)|0;var be=(S+y|0)+((u&8191)<<13)|0;S=(m+(u>>>13)|0)+(be>>>26)|0,be&=67108863,y=Math.imul(G,ue),u=Math.imul(G,pe),u=u+Math.imul(re,ue)|0,m=Math.imul(re,pe);var ve=(S+y|0)+((u&8191)<<13)|0;return S=(m+(u>>>13)|0)+(ve>>>26)|0,ve&=67108863,w[0]=$e,w[1]=De,w[2]=Bt,w[3]=tt,w[4]=xt,w[5]=_t,w[6]=mt,w[7]=Tt,w[8]=Mt,w[9]=kt,w[10]=Pt,w[11]=at,w[12]=pt,w[13]=rt,w[14]=ft,w[15]=nt,w[16]=et,w[17]=be,w[18]=ve,S!==0&&(w[19]=S,d.length++),d};Math.imul||(M=E);function B(A,f,h){h.negative=f.negative^A.negative,h.length=A.length+f.length;for(var d=0,p=0,v=0;v<h.length-1;v++){var w=p;p=0;for(var S=d&67108863,y=Math.min(v,f.length-1),u=Math.max(0,v-A.length+1);u<=y;u++){var m=v-u,I=A.words[m]|0,$=f.words[u]|0,Z=I*$,O=Z&67108863;w=w+(Z/67108864|0)|0,O=O+S|0,S=O&67108863,w=w+(O>>>26)|0,p+=w>>>26,w&=67108863}h.words[v]=S,d=w,w=p}return d!==0?h.words[v]=d:h.length--,h.strip()}function P(A,f,h){var d=new R;return d.mulp(A,f,h)}s.prototype.mulTo=function(f,h){var d,p=this.length+f.length;return this.length===10&&f.length===10?d=M(this,f,h):p<63?d=E(this,f,h):p<1024?d=B(this,f,h):d=P(this,f,h),d};function R(A,f){this.x=A,this.y=f}R.prototype.makeRBT=function(f){for(var h=new Array(f),d=s.prototype._countBits(f)-1,p=0;p<f;p++)h[p]=this.revBin(p,d,f);return h},R.prototype.revBin=function(f,h,d){if(f===0||f===d-1)return f;for(var p=0,v=0;v<h;v++)p|=(f&1)<<h-v-1,f>>=1;return p},R.prototype.permute=function(f,h,d,p,v,w){for(var S=0;S<w;S++)p[S]=h[f[S]],v[S]=d[f[S]]},R.prototype.transform=function(f,h,d,p,v,w){this.permute(w,f,h,d,p,v);for(var S=1;S<v;S<<=1)for(var y=S<<1,u=Math.cos(2*Math.PI/y),m=Math.sin(2*Math.PI/y),I=0;I<v;I+=y)for(var $=u,Z=m,O=0;O<S;O++){var Q=d[I+O],Y=p[I+O],X=d[I+O+S],J=p[I+O+S],N=$*X-Z*J;J=$*J+Z*X,X=N,d[I+O]=Q+X,p[I+O]=Y+J,d[I+O+S]=Q-X,p[I+O+S]=Y-J,O!==y&&(N=u*$-m*Z,Z=u*Z+m*$,$=N)}},R.prototype.guessLen13b=function(f,h){var d=Math.max(h,f)|1,p=d&1,v=0;for(d=d/2|0;d;d=d>>>1)v++;return 1<<v+1+p},R.prototype.conjugate=function(f,h,d){if(!(d<=1))for(var p=0;p<d/2;p++){var v=f[p];f[p]=f[d-p-1],f[d-p-1]=v,v=h[p],h[p]=-h[d-p-1],h[d-p-1]=-v}},R.prototype.normalize13b=function(f,h){for(var d=0,p=0;p<h/2;p++){var v=Math.round(f[2*p+1]/h)*8192+Math.round(f[2*p]/h)+d;f[p]=v&67108863,v<67108864?d=0:d=v/67108864|0}return f},R.prototype.convert13b=function(f,h,d,p){for(var v=0,w=0;w<h;w++)v=v+(f[w]|0),d[2*w]=v&8191,v=v>>>13,d[2*w+1]=v&8191,v=v>>>13;for(w=2*h;w<p;++w)d[w]=0;n(v===0),n((v&-8192)===0)},R.prototype.stub=function(f){for(var h=new Array(f),d=0;d<f;d++)h[d]=0;return h},R.prototype.mulp=function(f,h,d){var p=2*this.guessLen13b(f.length,h.length),v=this.makeRBT(p),w=this.stub(p),S=new Array(p),y=new Array(p),u=new Array(p),m=new Array(p),I=new Array(p),$=new Array(p),Z=d.words;Z.length=p,this.convert13b(f.words,f.length,S,p),this.convert13b(h.words,h.length,m,p),this.transform(S,w,y,u,p,v),this.transform(m,w,I,$,p,v);for(var O=0;O<p;O++){var Q=y[O]*I[O]-u[O]*$[O];u[O]=y[O]*$[O]+u[O]*I[O],y[O]=Q}return this.conjugate(y,u,p),this.transform(y,u,Z,w,p,v),this.conjugate(Z,w,p),this.normalize13b(Z,p),d.negative=f.negative^h.negative,d.length=f.length+h.length,d.strip()},s.prototype.mul=function(f){var h=new s(null);return h.words=new Array(this.length+f.length),this.mulTo(f,h)},s.prototype.mulf=function(f){var h=new s(null);return h.words=new Array(this.length+f.length),P(this,f,h)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){n(typeof f=="number"),n(f<67108864);for(var h=0,d=0;d<this.length;d++){var p=(this.words[d]|0)*f,v=(p&67108863)+(h&67108863);h>>=26,h+=p/67108864|0,h+=v>>>26,this.words[d]=v&67108863}return h!==0&&(this.words[d]=h,this.length++),this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var h=_(f);if(h.length===0)return new s(1);for(var d=this,p=0;p<h.length&&h[p]===0;p++,d=d.sqr());if(++p<h.length)for(var v=d.sqr();p<h.length;p++,v=v.sqr())h[p]!==0&&(d=d.mul(v));return d},s.prototype.iushln=function(f){n(typeof f=="number"&&f>=0);var h=f%26,d=(f-h)/26,p=67108863>>>26-h<<26-h,v;if(h!==0){var w=0;for(v=0;v<this.length;v++){var S=this.words[v]&p,y=(this.words[v]|0)-S<<h;this.words[v]=y|w,w=S>>>26-h}w&&(this.words[v]=w,this.length++)}if(d!==0){for(v=this.length-1;v>=0;v--)this.words[v+d]=this.words[v];for(v=0;v<d;v++)this.words[v]=0;this.length+=d}return this.strip()},s.prototype.ishln=function(f){return n(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,h,d){n(typeof f=="number"&&f>=0);var p;h?p=(h-h%26)/26:p=0;var v=f%26,w=Math.min((f-v)/26,this.length),S=67108863^67108863>>>v<<v,y=d;if(p-=w,p=Math.max(0,p),y){for(var u=0;u<w;u++)y.words[u]=this.words[u];y.length=w}if(w!==0)if(this.length>w)for(this.length-=w,u=0;u<this.length;u++)this.words[u]=this.words[u+w];else this.words[0]=0,this.length=1;var m=0;for(u=this.length-1;u>=0&&(m!==0||u>=p);u--){var I=this.words[u]|0;this.words[u]=m<<26-v|I>>>v,m=I&S}return y&&m!==0&&(y.words[y.length++]=m),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},s.prototype.ishrn=function(f,h,d){return n(this.negative===0),this.iushrn(f,h,d)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,d=(f-h)/26,p=1<<h;if(this.length<=d)return!1;var v=this.words[d];return!!(v&p)},s.prototype.imaskn=function(f){n(typeof f=="number"&&f>=0);var h=f%26,d=(f-h)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=d)return this;if(h!==0&&d++,this.length=Math.min(d,this.length),h!==0){var p=67108863^67108863>>>h<<h;this.words[this.length-1]&=p}return this.strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return n(typeof f=="number"),n(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var h=0;h<this.length&&this.words[h]>=67108864;h++)this.words[h]-=67108864,h===this.length-1?this.words[h+1]=1:this.words[h+1]++;return this.length=Math.max(this.length,h+1),this},s.prototype.isubn=function(f){if(n(typeof f=="number"),n(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var h=0;h<this.length&&this.words[h]<0;h++)this.words[h]+=67108864,this.words[h+1]-=1;return this.strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,h,d){var p=f.length+d,v;this._expand(p);var w,S=0;for(v=0;v<f.length;v++){w=(this.words[v+d]|0)+S;var y=(f.words[v]|0)*h;w-=y&67108863,S=(w>>26)-(y/67108864|0),this.words[v+d]=w&67108863}for(;v<this.length-d;v++)w=(this.words[v+d]|0)+S,S=w>>26,this.words[v+d]=w&67108863;if(S===0)return this.strip();for(n(S===-1),S=0,v=0;v<this.length;v++)w=-(this.words[v]|0)+S,S=w>>26,this.words[v]=w&67108863;return this.negative=1,this.strip()},s.prototype._wordDiv=function(f,h){var d=this.length-f.length,p=this.clone(),v=f,w=v.words[v.length-1]|0,S=this._countBits(w);d=26-S,d!==0&&(v=v.ushln(d),p.iushln(d),w=v.words[v.length-1]|0);var y=p.length-v.length,u;if(h!=="mod"){u=new s(null),u.length=y+1,u.words=new Array(u.length);for(var m=0;m<u.length;m++)u.words[m]=0}var I=p.clone()._ishlnsubmul(v,1,y);I.negative===0&&(p=I,u&&(u.words[y]=1));for(var $=y-1;$>=0;$--){var Z=(p.words[v.length+$]|0)*67108864+(p.words[v.length+$-1]|0);for(Z=Math.min(Z/w|0,67108863),p._ishlnsubmul(v,Z,$);p.negative!==0;)Z--,p.negative=0,p._ishlnsubmul(v,1,$),p.isZero()||(p.negative^=1);u&&(u.words[$]=Z)}return u&&u.strip(),p.strip(),h!=="div"&&d!==0&&p.iushrn(d),{div:u||null,mod:p}},s.prototype.divmod=function(f,h,d){if(n(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var p,v,w;return this.negative!==0&&f.negative===0?(w=this.neg().divmod(f,h),h!=="mod"&&(p=w.div.neg()),h!=="div"&&(v=w.mod.neg(),d&&v.negative!==0&&v.iadd(f)),{div:p,mod:v}):this.negative===0&&f.negative!==0?(w=this.divmod(f.neg(),h),h!=="mod"&&(p=w.div.neg()),{div:p,mod:w.mod}):this.negative&f.negative?(w=this.neg().divmod(f.neg(),h),h!=="div"&&(v=w.mod.neg(),d&&v.negative!==0&&v.isub(f)),{div:w.div,mod:v}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?h==="div"?{div:this.divn(f.words[0]),mod:null}:h==="mod"?{div:null,mod:new s(this.modn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modn(f.words[0]))}:this._wordDiv(f,h)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var h=this.divmod(f);if(h.mod.isZero())return h.div;var d=h.div.negative!==0?h.mod.isub(f):h.mod,p=f.ushrn(1),v=f.andln(1),w=d.cmp(p);return w<0||v===1&&w===0?h.div:h.div.negative!==0?h.div.isubn(1):h.div.iaddn(1)},s.prototype.modn=function(f){n(f<=67108863);for(var h=(1<<26)%f,d=0,p=this.length-1;p>=0;p--)d=(h*d+(this.words[p]|0))%f;return d},s.prototype.idivn=function(f){n(f<=67108863);for(var h=0,d=this.length-1;d>=0;d--){var p=(this.words[d]|0)+h*67108864;this.words[d]=p/f|0,h=p%f}return this.strip()},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){n(f.negative===0),n(!f.isZero());var h=this,d=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var p=new s(1),v=new s(0),w=new s(0),S=new s(1),y=0;h.isEven()&&d.isEven();)h.iushrn(1),d.iushrn(1),++y;for(var u=d.clone(),m=h.clone();!h.isZero();){for(var I=0,$=1;!(h.words[0]&$)&&I<26;++I,$<<=1);if(I>0)for(h.iushrn(I);I-- >0;)(p.isOdd()||v.isOdd())&&(p.iadd(u),v.isub(m)),p.iushrn(1),v.iushrn(1);for(var Z=0,O=1;!(d.words[0]&O)&&Z<26;++Z,O<<=1);if(Z>0)for(d.iushrn(Z);Z-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(u),S.isub(m)),w.iushrn(1),S.iushrn(1);h.cmp(d)>=0?(h.isub(d),p.isub(w),v.isub(S)):(d.isub(h),w.isub(p),S.isub(v))}return{a:w,b:S,gcd:d.iushln(y)}},s.prototype._invmp=function(f){n(f.negative===0),n(!f.isZero());var h=this,d=f.clone();h.negative!==0?h=h.umod(f):h=h.clone();for(var p=new s(1),v=new s(0),w=d.clone();h.cmpn(1)>0&&d.cmpn(1)>0;){for(var S=0,y=1;!(h.words[0]&y)&&S<26;++S,y<<=1);if(S>0)for(h.iushrn(S);S-- >0;)p.isOdd()&&p.iadd(w),p.iushrn(1);for(var u=0,m=1;!(d.words[0]&m)&&u<26;++u,m<<=1);if(u>0)for(d.iushrn(u);u-- >0;)v.isOdd()&&v.iadd(w),v.iushrn(1);h.cmp(d)>=0?(h.isub(d),p.isub(v)):(d.isub(h),v.isub(p))}var I;return h.cmpn(1)===0?I=p:I=v,I.cmpn(0)<0&&I.iadd(f),I},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var h=this.clone(),d=f.clone();h.negative=0,d.negative=0;for(var p=0;h.isEven()&&d.isEven();p++)h.iushrn(1),d.iushrn(1);do{for(;h.isEven();)h.iushrn(1);for(;d.isEven();)d.iushrn(1);var v=h.cmp(d);if(v<0){var w=h;h=d,d=w}else if(v===0||d.cmpn(1)===0)break;h.isub(d)}while(!0);return d.iushln(p)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){n(typeof f=="number");var h=f%26,d=(f-h)/26,p=1<<h;if(this.length<=d)return this._expand(d+1),this.words[d]|=p,this;for(var v=p,w=d;v!==0&&w<this.length;w++){var S=this.words[w]|0;S+=v,v=S>>>26,S&=67108863,this.words[w]=S}return v!==0&&(this.words[w]=v,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var h=f<0;if(this.negative!==0&&!h)return-1;if(this.negative===0&&h)return 1;this.strip();var d;if(this.length>1)d=1;else{h&&(f=-f),n(f<=67108863,"Number is too big");var p=this.words[0]|0;d=p===f?0:p<f?-1:1}return this.negative!==0?-d|0:d},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var h=this.ucmp(f);return this.negative!==0?-h|0:h},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var h=0,d=this.length-1;d>=0;d--){var p=this.words[d]|0,v=f.words[d]|0;if(p!==v){p<v?h=-1:p>v&&(h=1);break}}return h},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new te(f)},s.prototype.toRed=function(f){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return n(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return n(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var D={k256:null,p224:null,p192:null,p25519:null};function U(A,f){this.name=A,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},U.prototype.ireduce=function(f){var h=f,d;do this.split(h,this.tmp),h=this.imulK(h),h=h.iadd(this.tmp),d=h.bitLength();while(d>this.n);var p=d<this.n?-1:h.ucmp(this.p);return p===0?(h.words[0]=0,h.length=1):p>0?h.isub(this.p):h.strip!==void 0?h.strip():h._strip(),h},U.prototype.split=function(f,h){f.iushrn(this.n,0,h)},U.prototype.imulK=function(f){return f.imul(this.k)};function F(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,U),F.prototype.split=function(f,h){for(var d=4194303,p=Math.min(f.length,9),v=0;v<p;v++)h.words[v]=f.words[v];if(h.length=p,f.length<=9){f.words[0]=0,f.length=1;return}var w=f.words[9];for(h.words[h.length++]=w&d,v=10;v<f.length;v++){var S=f.words[v]|0;f.words[v-10]=(S&d)<<4|w>>>22,w=S}w>>>=22,f.words[v-10]=w,w===0&&f.length>10?f.length-=10:f.length-=9},F.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var h=0,d=0;d<f.length;d++){var p=f.words[d]|0;h+=p*977,f.words[d]=h&67108863,h=p*64+(h/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function W(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(W,U);function k(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(k,U);function K(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(K,U),K.prototype.imulK=function(f){for(var h=0,d=0;d<f.length;d++){var p=(f.words[d]|0)*19+h,v=p&67108863;p>>>=26,f.words[d]=v,h=p}return h!==0&&(f.words[f.length++]=h),f},s._prime=function(f){if(D[f])return D[f];var h;if(f==="k256")h=new F;else if(f==="p224")h=new W;else if(f==="p192")h=new k;else if(f==="p25519")h=new K;else throw new Error("Unknown prime "+f);return D[f]=h,h};function te(A){if(typeof A=="string"){var f=s._prime(A);this.m=f.p,this.prime=f}else n(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}te.prototype._verify1=function(f){n(f.negative===0,"red works only with positives"),n(f.red,"red works only with red numbers")},te.prototype._verify2=function(f,h){n((f.negative|h.negative)===0,"red works only with positives"),n(f.red&&f.red===h.red,"red works only with red numbers")},te.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):f.umod(this.m)._forceRed(this)},te.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},te.prototype.add=function(f,h){this._verify2(f,h);var d=f.add(h);return d.cmp(this.m)>=0&&d.isub(this.m),d._forceRed(this)},te.prototype.iadd=function(f,h){this._verify2(f,h);var d=f.iadd(h);return d.cmp(this.m)>=0&&d.isub(this.m),d},te.prototype.sub=function(f,h){this._verify2(f,h);var d=f.sub(h);return d.cmpn(0)<0&&d.iadd(this.m),d._forceRed(this)},te.prototype.isub=function(f,h){this._verify2(f,h);var d=f.isub(h);return d.cmpn(0)<0&&d.iadd(this.m),d},te.prototype.shl=function(f,h){return this._verify1(f),this.imod(f.ushln(h))},te.prototype.imul=function(f,h){return this._verify2(f,h),this.imod(f.imul(h))},te.prototype.mul=function(f,h){return this._verify2(f,h),this.imod(f.mul(h))},te.prototype.isqr=function(f){return this.imul(f,f.clone())},te.prototype.sqr=function(f){return this.mul(f,f)},te.prototype.sqrt=function(f){if(f.isZero())return f.clone();var h=this.m.andln(3);if(n(h%2===1),h===3){var d=this.m.add(new s(1)).iushrn(2);return this.pow(f,d)}for(var p=this.m.subn(1),v=0;!p.isZero()&&p.andln(1)===0;)v++,p.iushrn(1);n(!p.isZero());var w=new s(1).toRed(this),S=w.redNeg(),y=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new s(2*u*u).toRed(this);this.pow(u,y).cmp(S)!==0;)u.redIAdd(S);for(var m=this.pow(u,p),I=this.pow(f,p.addn(1).iushrn(1)),$=this.pow(f,p),Z=v;$.cmp(w)!==0;){for(var O=$,Q=0;O.cmp(w)!==0;Q++)O=O.redSqr();n(Q<Z);var Y=this.pow(m,new s(1).iushln(Z-Q-1));I=I.redMul(Y),m=Y.redSqr(),$=$.redMul(m),Z=Q}return I},te.prototype.invm=function(f){var h=f._invmp(this.m);return h.negative!==0?(h.negative=0,this.imod(h).redNeg()):this.imod(h)},te.prototype.pow=function(f,h){if(h.isZero())return new s(1).toRed(this);if(h.cmpn(1)===0)return f.clone();var d=4,p=new Array(1<<d);p[0]=new s(1).toRed(this),p[1]=f;for(var v=2;v<p.length;v++)p[v]=this.mul(p[v-1],f);var w=p[0],S=0,y=0,u=h.bitLength()%26;for(u===0&&(u=26),v=h.length-1;v>=0;v--){for(var m=h.words[v],I=u-1;I>=0;I--){var $=m>>I&1;if(w!==p[0]&&(w=this.sqr(w)),$===0&&S===0){y=0;continue}S<<=1,S|=$,y++,!(y!==d&&(v!==0||I!==0))&&(w=this.mul(w,p[S]),y=0,S=0)}u=26}return w},te.prototype.convertTo=function(f){var h=f.umod(this.m);return h===f?h.clone():h},te.prototype.convertFrom=function(f){var h=f.clone();return h.red=null,h},s.mont=function(f){return new ce(f)};function ce(A){te.call(this,A),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ce,te),ce.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},ce.prototype.convertFrom=function(f){var h=this.imod(f.mul(this.rinv));return h.red=null,h},ce.prototype.imul=function(f,h){if(f.isZero()||h.isZero())return f.words[0]=0,f.length=1,f;var d=f.imul(h),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=d.isub(p).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},ce.prototype.mul=function(f,h){if(f.isZero()||h.isZero())return new s(0)._forceRed(this);var d=f.mul(h),p=d.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=d.isub(p).iushrn(this.shift),w=v;return v.cmp(this.m)>=0?w=v.isub(this.m):v.cmpn(0)<0&&(w=v.iadd(this.m)),w._forceRed(this)},ce.prototype.invm=function(f){var h=this.imod(f._invmp(this.m).mul(this.r2));return h._forceRed(this)}})(t,zi)})(M6);var sc=M6.exports;(function(t){var e=t,r=sc,n=rc,i=u0;e.assert=n,e.toArray=i.toArray,e.zero2=i.zero2,e.toHex=i.toHex,e.encode=i.encode;function s(g,b,x){var _=new Array(Math.max(g.bitLength(),x)+1),E;for(E=0;E<_.length;E+=1)_[E]=0;var M=1<<b+1,B=g.clone();for(E=0;E<_.length;E++){var P,R=B.andln(M-1);B.isOdd()?(R>(M>>1)-1?P=(M>>1)-R:P=R,B.isubn(P)):P=0,_[E]=P,B.iushrn(1)}return _}e.getNAF=s;function o(g,b){var x=[[],[]];g=g.clone(),b=b.clone();for(var _=0,E=0,M;g.cmpn(-_)>0||b.cmpn(-E)>0;){var B=g.andln(3)+_&3,P=b.andln(3)+E&3;B===3&&(B=-1),P===3&&(P=-1);var R;B&1?(M=g.andln(7)+_&7,(M===3||M===5)&&P===2?R=-B:R=B):R=0,x[0].push(R);var D;P&1?(M=b.andln(7)+E&7,(M===3||M===5)&&B===2?D=-P:D=P):D=0,x[1].push(D),2*_===R+1&&(_=1-_),2*E===D+1&&(E=1-E),g.iushrn(1),b.iushrn(1)}return x}e.getJSF=o;function a(g,b,x){var _="_"+b;g.prototype[b]=function(){return this[_]!==void 0?this[_]:this[_]=x.call(this)}}e.cachedProperty=a;function c(g){return typeof g=="string"?e.toArray(g,"hex"):g}e.parseBytes=c;function l(g){return new r(g,"hex","le")}e.intFromLE=l})(Ms);var P6={},bf=sc,E0=Ms,Z1=E0.getNAF,dW=E0.getJSF,Q1=E0.assert;function af(t,e){this.type=t,this.p=new bf(e.p,16),this.red=e.prime?bf.red(e.prime):bf.mont(this.p),this.zero=new bf(0).toRed(this.red),this.one=new bf(1).toRed(this.red),this.two=new bf(2).toRed(this.red),this.n=e.n&&new bf(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var wb=af;af.prototype.point=function(){throw new Error("Not implemented")};af.prototype.validate=function(){throw new Error("Not implemented")};af.prototype._fixedNafMul=function(e,r){Q1(e.precomputed);var n=e._getDoubles(),i=Z1(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var g=this.jpoint(null,null,null),b=this.jpoint(null,null,null),x=s;x>0;x--){for(a=0;a<o.length;a++)c=o[a],c===x?b=b.mixedAdd(n.points[a]):c===-x&&(b=b.mixedAdd(n.points[a].neg()));g=g.add(b)}return g.toP()};af.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=Z1(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var g=o[c];Q1(g!==0),e.type==="affine"?g>0?a=a.mixedAdd(s[g-1>>1]):a=a.mixedAdd(s[-g-1>>1].neg()):g>0?a=a.add(s[g-1>>1]):a=a.add(s[-g-1>>1].neg())}return e.type==="affine"?a.toP():a};af.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,g,b,x;for(g=0;g<i;g++){x=r[g];var _=x._getNAFPoints(e);o[g]=_.wnd,a[g]=_.points}for(g=i-1;g>=1;g-=2){var E=g-1,M=g;if(o[E]!==1||o[M]!==1){c[E]=Z1(n[E],o[E],this._bitLength),c[M]=Z1(n[M],o[M],this._bitLength),l=Math.max(c[E].length,l),l=Math.max(c[M].length,l);continue}var B=[r[E],null,null,r[M]];r[E].y.cmp(r[M].y)===0?(B[1]=r[E].add(r[M]),B[2]=r[E].toJ().mixedAdd(r[M].neg())):r[E].y.cmp(r[M].y.redNeg())===0?(B[1]=r[E].toJ().mixedAdd(r[M]),B[2]=r[E].add(r[M].neg())):(B[1]=r[E].toJ().mixedAdd(r[M]),B[2]=r[E].toJ().mixedAdd(r[M].neg()));var P=[-3,-1,-5,-7,0,7,5,1,3],R=dW(n[E],n[M]);for(l=Math.max(R[0].length,l),c[E]=new Array(l),c[M]=new Array(l),b=0;b<l;b++){var D=R[0][b]|0,U=R[1][b]|0;c[E][b]=P[(D+1)*3+(U+1)],c[M][b]=0,a[E]=B}}var F=this.jpoint(null,null,null),W=this._wnafT4;for(g=l;g>=0;g--){for(var k=0;g>=0;){var K=!0;for(b=0;b<i;b++)W[b]=c[b][g]|0,W[b]!==0&&(K=!1);if(!K)break;k++,g--}if(g>=0&&k++,F=F.dblp(k),g<0)break;for(b=0;b<i;b++){var te=W[b];te!==0&&(te>0?x=a[b][te-1>>1]:te<0&&(x=a[b][-te-1>>1].neg()),x.type==="affine"?F=F.mixedAdd(x):F=F.add(x))}}for(g=0;g<i;g++)a[g]=null;return s?F:F.toP()};function so(t,e){this.curve=t,this.type=e,this.precomputed=null}af.BasePoint=so;so.prototype.eq=function(){throw new Error("Not implemented")};so.prototype.validate=function(){return this.curve.validate(this)};af.prototype.decodePoint=function(e,r){e=E0.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?Q1(e[e.length-1]%2===0):e[0]===7&&Q1(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};so.prototype.encodeCompressed=function(e){return this.encode(e,!0)};so.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};so.prototype.encode=function(e,r){return E0.encode(this._encode(r),e)};so.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};so.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};so.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};so.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};so.prototype._getBeta=function(){return null};so.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var lW=Ms,hn=sc,k6=da,al=wb,hW=lW.assert;function oo(t){al.call(this,"short",t),this.a=new hn(t.a,16).toRed(this.red),this.b=new hn(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}k6(oo,al);var pW=oo;oo.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new hn(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new hn(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],hW(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new hn(a.a,16),b:new hn(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};oo.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:hn.mont(e),n=new hn(2).toRed(r).redInvm(),i=n.redNeg(),s=new hn(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};oo.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new hn(1),o=new hn(0),a=new hn(0),c=new hn(1),l,g,b,x,_,E,M,B=0,P,R;n.cmpn(0)!==0;){var D=i.div(n);P=i.sub(D.mul(n)),R=a.sub(D.mul(s));var U=c.sub(D.mul(o));if(!b&&P.cmp(r)<0)l=M.neg(),g=s,b=P.neg(),x=R;else if(b&&++B===2)break;M=P,i=n,n=P,a=s,s=R,c=o,o=U}_=P.neg(),E=R;var F=b.sqr().add(x.sqr()),W=_.sqr().add(E.sqr());return W.cmp(F)>=0&&(_=l,E=g),b.negative&&(b=b.neg(),x=x.neg()),_.negative&&(_=_.neg(),E=E.neg()),[{a:b,b:x},{a:_,b:E}]};oo.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),g=o.mul(i.b),b=e.sub(a).sub(c),x=l.add(g).neg();return{k1:b,k2:x}};oo.prototype.pointFromX=function(e,r){e=new hn(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};oo.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};oo.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var g=this._wnafMulAdd(1,i,s,o*2,n),b=0;b<o*2;b++)i[b]=null,s[b]=null;return g};function Xn(t,e,r,n){al.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new hn(e,16),this.y=new hn(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}k6(Xn,al.BasePoint);oo.prototype.point=function(e,r,n){return new Xn(this,e,r,n)};oo.prototype.pointFromJSON=function(e,r){return Xn.fromJSON(this,e,r)};Xn.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Xn.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Xn.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Xn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Xn.prototype.isInfinity=function(){return this.inf};Xn.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Xn.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Xn.prototype.getX=function(){return this.x.fromRed()};Xn.prototype.getY=function(){return this.y.fromRed()};Xn.prototype.mul=function(e){return e=new hn(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Xn.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Xn.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Xn.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Xn.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Xn.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function hi(t,e,r,n){al.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new hn(0)):(this.x=new hn(e,16),this.y=new hn(r,16),this.z=new hn(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}k6(hi,al.BasePoint);oo.prototype.jpoint=function(e,r,n){return new hi(this,e,r,n)};hi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};hi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};hi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var g=c.redSqr(),b=g.redMul(c),x=i.redMul(g),_=l.redSqr().redIAdd(b).redISub(x).redISub(x),E=l.redMul(x.redISub(_)).redISub(o.redMul(b)),M=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(_,E,M)};hi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),g=l.redMul(a),b=n.redMul(l),x=c.redSqr().redIAdd(g).redISub(b).redISub(b),_=c.redMul(b.redISub(x)).redISub(s.redMul(g)),E=this.z.redMul(a);return this.curve.jpoint(x,_,E)};hi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),g=a.redAdd(a);for(r=0;r<e;r++){var b=o.redSqr(),x=g.redSqr(),_=x.redSqr(),E=b.redAdd(b).redIAdd(b).redIAdd(i.redMul(l)),M=o.redMul(x),B=E.redSqr().redISub(M.redAdd(M)),P=M.redISub(B),R=E.redMul(P);R=R.redIAdd(R).redISub(_);var D=g.redMul(c);r+1<e&&(l=l.redMul(_)),o=B,c=D,g=R}return this.curve.jpoint(o,g.redMul(s),c)};hi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};hi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),g=o.redIAdd(o);g=g.redIAdd(g),g=g.redIAdd(g),e=l,r=c.redMul(a.redISub(l)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.x.redSqr(),x=this.y.redSqr(),_=x.redSqr(),E=this.x.redAdd(x).redSqr().redISub(b).redISub(_);E=E.redIAdd(E);var M=b.redAdd(b).redIAdd(b),B=M.redSqr(),P=_.redIAdd(_);P=P.redIAdd(P),P=P.redIAdd(P),e=B.redISub(E).redISub(E),r=M.redMul(E.redISub(e)).redISub(P),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};hi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var g=o.redIAdd(o);g=g.redIAdd(g),g=g.redIAdd(g),r=c.redMul(a.redISub(l)).redISub(g),n=this.y.redAdd(this.y)}else{var b=this.z.redSqr(),x=this.y.redSqr(),_=this.x.redMul(x),E=this.x.redSub(b).redMul(this.x.redAdd(b));E=E.redAdd(E).redIAdd(E);var M=_.redIAdd(_);M=M.redIAdd(M);var B=M.redAdd(M);e=E.redSqr().redISub(B),n=this.y.redAdd(this.z).redSqr().redISub(x).redISub(b);var P=x.redSqr();P=P.redIAdd(P),P=P.redIAdd(P),P=P.redIAdd(P),r=E.redMul(M.redISub(e)).redISub(P)}return this.curve.jpoint(e,r,n)};hi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var g=l.redMul(a),b=c.redSqr().redISub(g.redAdd(g)),x=g.redISub(b),_=a.redSqr();_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=c.redMul(x).redISub(_),M=n.redAdd(n).redMul(i);return this.curve.jpoint(b,E,M)};hi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var g=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),b=r.redMul(g);b=b.redIAdd(b),b=b.redIAdd(b);var x=this.x.redMul(c).redISub(b);x=x.redIAdd(x),x=x.redIAdd(x);var _=this.y.redMul(g.redMul(l.redISub(g)).redISub(a.redMul(c)));_=_.redIAdd(_),_=_.redIAdd(_),_=_.redIAdd(_);var E=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(x,_,E)};hi.prototype.mul=function(e,r){return e=new hn(e,r),this.curve._wnafMul(this,e)};hi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};hi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};hi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};hi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var Ju=sc,QA=da,xb=wb,gW=Ms;function cl(t){xb.call(this,"mont",t),this.a=new Ju(t.a,16).toRed(this.red),this.b=new Ju(t.b,16).toRed(this.red),this.i4=new Ju(4).toRed(this.red).redInvm(),this.two=new Ju(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}QA(cl,xb);var bW=cl;cl.prototype.validate=function(e){var r=e.normalize().x,n=r.redSqr(),i=n.redMul(r).redAdd(n.redMul(this.a)).redAdd(r),s=i.redSqrt();return s.redSqr().cmp(i)===0};function Vn(t,e,r){xb.BasePoint.call(this,t,"projective"),e===null&&r===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Ju(e,16),this.z=new Ju(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}QA(Vn,xb.BasePoint);cl.prototype.decodePoint=function(e,r){return this.point(gW.toArray(e,r),1)};cl.prototype.point=function(e,r){return new Vn(this,e,r)};cl.prototype.pointFromJSON=function(e){return Vn.fromJSON(this,e)};Vn.prototype.precompute=function(){};Vn.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())};Vn.fromJSON=function(e,r){return new Vn(e,r[0],r[1]||e.one)};Vn.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Vn.prototype.isInfinity=function(){return this.z.cmpn(0)===0};Vn.prototype.dbl=function(){var e=this.x.redAdd(this.z),r=e.redSqr(),n=this.x.redSub(this.z),i=n.redSqr(),s=r.redSub(i),o=r.redMul(i),a=s.redMul(i.redAdd(this.curve.a24.redMul(s)));return this.curve.point(o,a)};Vn.prototype.add=function(){throw new Error("Not supported on Montgomery curve")};Vn.prototype.diffAdd=function(e,r){var n=this.x.redAdd(this.z),i=this.x.redSub(this.z),s=e.x.redAdd(e.z),o=e.x.redSub(e.z),a=o.redMul(n),c=s.redMul(i),l=r.z.redMul(a.redAdd(c).redSqr()),g=r.x.redMul(a.redISub(c).redSqr());return this.curve.point(l,g)};Vn.prototype.mul=function(e){for(var r=e.clone(),n=this,i=this.curve.point(null,null),s=this,o=[];r.cmpn(0)!==0;r.iushrn(1))o.push(r.andln(1));for(var a=o.length-1;a>=0;a--)o[a]===0?(n=n.diffAdd(i,s),i=i.dbl()):(i=n.diffAdd(i,s),n=n.dbl());return i};Vn.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")};Vn.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")};Vn.prototype.eq=function(e){return this.getX().cmp(e.getX())===0};Vn.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this};Vn.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var vW=Ms,qa=sc,eI=da,_b=wb,yW=vW.assert;function ga(t){this.twisted=(t.a|0)!==1,this.mOneA=this.twisted&&(t.a|0)===-1,this.extended=this.mOneA,_b.call(this,"edwards",t),this.a=new qa(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new qa(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new qa(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),yW(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(t.c|0)===1}eI(ga,_b);var mW=ga;ga.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)};ga.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)};ga.prototype.jpoint=function(e,r,n,i){return this.point(e,r,n,i)};ga.prototype.pointFromX=function(e,r){e=new qa(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=this.c2.redSub(this.a.redMul(n)),s=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=i.redMul(s.redInvm()),a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");var c=a.fromRed().isOdd();return(r&&!c||!r&&c)&&(a=a.redNeg()),this.point(e,a)};ga.prototype.pointFromY=function(e,r){e=new qa(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr(),i=n.redSub(this.c2),s=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=i.redMul(s.redInvm());if(o.cmp(this.zero)===0){if(r)throw new Error("invalid point");return this.point(this.zero,e)}var a=o.redSqrt();if(a.redSqr().redSub(o).cmp(this.zero)!==0)throw new Error("invalid point");return a.fromRed().isOdd()!==r&&(a=a.redNeg()),this.point(a,e)};ga.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var r=e.x.redSqr(),n=e.y.redSqr(),i=r.redMul(this.a).redAdd(n),s=this.c2.redMul(this.one.redAdd(this.d.redMul(r).redMul(n)));return i.cmp(s)===0};function Fr(t,e,r,n,i){_b.BasePoint.call(this,t,"projective"),e===null&&r===null&&n===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new qa(e,16),this.y=new qa(r,16),this.z=n?new qa(n,16):this.curve.one,this.t=i&&new qa(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}eI(Fr,_b.BasePoint);ga.prototype.pointFromJSON=function(e){return Fr.fromJSON(this,e)};ga.prototype.point=function(e,r,n,i){return new Fr(this,e,r,n,i)};Fr.fromJSON=function(e,r){return new Fr(e,r[0],r[1],r[2])};Fr.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"};Fr.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)};Fr.prototype._extDbl=function(){var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var i=this.curve._mulA(e),s=this.x.redAdd(this.y).redSqr().redISub(e).redISub(r),o=i.redAdd(r),a=o.redSub(n),c=i.redSub(r),l=s.redMul(a),g=o.redMul(c),b=s.redMul(c),x=a.redMul(o);return this.curve.point(l,g,x,b)};Fr.prototype._projDbl=function(){var e=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),n=this.y.redSqr(),i,s,o,a,c,l;if(this.curve.twisted){a=this.curve._mulA(r);var g=a.redAdd(n);this.zOne?(i=e.redSub(r).redSub(n).redMul(g.redSub(this.curve.two)),s=g.redMul(a.redSub(n)),o=g.redSqr().redSub(g).redSub(g)):(c=this.z.redSqr(),l=g.redSub(c).redISub(c),i=e.redSub(r).redISub(n).redMul(l),s=g.redMul(a.redSub(n)),o=g.redMul(l))}else a=r.redAdd(n),c=this.curve._mulC(this.z).redSqr(),l=a.redSub(c).redSub(c),i=this.curve._mulC(e.redISub(a)).redMul(l),s=this.curve._mulC(a).redMul(r.redISub(n)),o=a.redMul(l);return this.curve.point(i,s,o)};Fr.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()};Fr.prototype._extAdd=function(e){var r=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),n=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),i=this.t.redMul(this.curve.dd).redMul(e.t),s=this.z.redMul(e.z.redAdd(e.z)),o=n.redSub(r),a=s.redSub(i),c=s.redAdd(i),l=n.redAdd(r),g=o.redMul(a),b=c.redMul(l),x=o.redMul(l),_=a.redMul(c);return this.curve.point(g,b,_,x)};Fr.prototype._projAdd=function(e){var r=this.z.redMul(e.z),n=r.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(i).redMul(s),a=n.redSub(o),c=n.redAdd(o),l=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),g=r.redMul(a).redMul(l),b,x;return this.curve.twisted?(b=r.redMul(c).redMul(s.redSub(this.curve._mulA(i))),x=a.redMul(c)):(b=r.redMul(c).redMul(s.redSub(i)),x=this.curve._mulC(a).redMul(c)),this.curve.point(g,b,x)};Fr.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)};Fr.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)};Fr.prototype.mulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!1)};Fr.prototype.jmulAdd=function(e,r,n){return this.curve._wnafMulAdd(1,[this,r],[e,n],2,!0)};Fr.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this};Fr.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())};Fr.prototype.getX=function(){return this.normalize(),this.x.fromRed()};Fr.prototype.getY=function(){return this.normalize(),this.y.fromRed()};Fr.prototype.eq=function(e){return this===e||this.getX().cmp(e.getX())===0&&this.getY().cmp(e.getY())===0};Fr.prototype.eqXToP=function(e){var r=e.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(r)===0)return!0;for(var n=e.clone(),i=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),this.x.cmp(r)===0)return!0}};Fr.prototype.toP=Fr.prototype.normalize;Fr.prototype.mixedAdd=Fr.prototype.add;(function(t){var e=t;e.base=wb,e.short=pW,e.mont=bW,e.edwards=mW})(P6);var Sb={},cy,D8;function wW(){return D8||(D8=1,cy={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),cy}(function(t){var e=t,r=tc,n=P6,i=Ms,s=i.assert;function o(l){l.type==="short"?this.curve=new n.short(l):l.type==="edwards"?this.curve=new n.edwards(l):this.curve=new n.mont(l),this.g=this.curve.g,this.n=this.curve.n,this.hash=l.hash,s(this.g.validate(),"Invalid curve"),s(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=o;function a(l,g){Object.defineProperty(e,l,{configurable:!0,enumerable:!0,get:function(){var b=new o(g);return Object.defineProperty(e,l,{configurable:!0,enumerable:!0,value:b}),b}})}a("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:r.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),a("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:r.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),a("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:r.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),a("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:r.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),a("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:r.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),a("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["9"]}),a("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:r.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=wW()}catch{c=void 0}a("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:r.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})})(Sb);var xW=sc,_W=Ms,p2=_W.assert;function Ti(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var SW=Ti;Ti.fromPublic=function(e,r,n){return r instanceof Ti?r:new Ti(e,{pub:r,pubEnc:n})};Ti.fromPrivate=function(e,r,n){return r instanceof Ti?r:new Ti(e,{priv:r,privEnc:n})};Ti.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ti.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ti.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ti.prototype._importPrivate=function(e,r){this.priv=new xW(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ti.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?p2(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&p2(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ti.prototype.derive=function(e){return e.validate()||p2(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ti.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ti.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Ti.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var eg=sc,R6=Ms,EW=R6.assert;function Eb(t,e){if(t instanceof Eb)return t;this._importDER(t,e)||(EW(t.r&&t.s,"Signature without r or s"),this.r=new eg(t.r,16),this.s=new eg(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var AW=Eb;function IW(){this.place=0}function fy(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function L8(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}Eb.prototype._importDER=function(e,r){e=R6.toArray(e,r);var n=new IW;if(e[n.place++]!==48)return!1;var i=fy(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=fy(e,n);if(s===!1||e[n.place]&128)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=fy(e,n);if(a===!1||e.length!==a+n.place||e[n.place]&128)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new eg(o),this.s=new eg(c),this.recoveryParam=null,!0};function uy(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}Eb.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=L8(r),n=L8(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];uy(i,r.length),i=i.concat(r),i.push(2),uy(i,n.length);var s=i.concat(n),o=[48];return uy(o,s.length),o=o.concat(s),R6.encode(o,e)};var jf=sc,tI=U3,MW=Ms,dy=Sb,PW=Vd,rI=MW.assert,C6=SW,Ab=AW;function Zs(t){if(!(this instanceof Zs))return new Zs(t);typeof t=="string"&&(rI(Object.prototype.hasOwnProperty.call(dy,t),"Unknown curve "+t),t=dy[t]),t instanceof dy.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var kW=Zs;Zs.prototype.keyPair=function(e){return new C6(this,e)};Zs.prototype.keyFromPrivate=function(e,r){return C6.fromPrivate(this,e,r)};Zs.prototype.keyFromPublic=function(e,r){return C6.fromPublic(this,e,r)};Zs.prototype.genKeyPair=function(e){e||(e={});for(var r=new tI({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||PW(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new jf(2));;){var s=new jf(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};Zs.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};Zs.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new jf(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new tI({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new jf(1)),g=0;;g++){var b=i.k?i.k(g):new jf(c.generate(this.n.byteLength()));if(b=this._truncateToN(b,!0),!(b.cmpn(1)<=0||b.cmp(l)>=0)){var x=this.g.mul(b);if(!x.isInfinity()){var _=x.getX(),E=_.umod(this.n);if(E.cmpn(0)!==0){var M=b.invm(this.n).mul(E.mul(r.getPrivate()).iadd(e));if(M=M.umod(this.n),M.cmpn(0)!==0){var B=(x.getY().isOdd()?1:0)|(_.cmp(E)!==0?2:0);return i.canonical&&M.cmp(this.nh)>0&&(M=this.n.sub(M),B^=1),new Ab({r:E,s:M,recoveryParam:B})}}}}}};Zs.prototype.verify=function(e,r,n,i){e=this._truncateToN(new jf(e,16)),n=this.keyFromPublic(n,i),r=new Ab(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),g;return this.curve._maxwellTrick?(g=this.g.jmulAdd(c,n.getPublic(),l),g.isInfinity()?!1:g.eqXToP(s)):(g=this.g.mulAdd(c,n.getPublic(),l),g.isInfinity()?!1:g.getX().umod(this.n).cmp(s)===0)};Zs.prototype.recoverPubKey=function(t,e,r,n){rI((3&r)===r,"The recovery param is more than two bits"),e=new Ab(e,n);var i=this.n,s=new jf(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var g=e.r.invm(i),b=i.sub(s).mul(g).umod(i),x=a.mul(g).umod(i);return this.g.mulAdd(b,o,x)};Zs.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new Ab(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var A0=Ms,nI=A0.assert,$8=A0.parseBytes,fl=A0.cachedProperty;function jn(t,e){this.eddsa=t,this._secret=$8(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=$8(e.pub)}jn.fromPublic=function(e,r){return r instanceof jn?r:new jn(e,{pub:r})};jn.fromSecret=function(e,r){return r instanceof jn?r:new jn(e,{secret:r})};jn.prototype.secret=function(){return this._secret};fl(jn,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())});fl(jn,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())});fl(jn,"privBytes",function(){var e=this.eddsa,r=this.hash(),n=e.encodingLength-1,i=r.slice(0,e.encodingLength);return i[0]&=248,i[n]&=127,i[n]|=64,i});fl(jn,"priv",function(){return this.eddsa.decodeInt(this.privBytes())});fl(jn,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()});fl(jn,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)});jn.prototype.sign=function(e){return nI(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)};jn.prototype.verify=function(e,r){return this.eddsa.verify(e,r,this)};jn.prototype.getSecret=function(e){return nI(this._secret,"KeyPair is public only"),A0.encode(this.secret(),e)};jn.prototype.getPublic=function(e){return A0.encode(this.pubBytes(),e)};var RW=jn,CW=sc,Ib=Ms,U8=Ib.assert,Mb=Ib.cachedProperty,TW=Ib.parseBytes;function bu(t,e){this.eddsa=t,typeof e!="object"&&(e=TW(e)),Array.isArray(e)&&(U8(e.length===t.encodingLength*2,"Signature has invalid size"),e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),U8(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof CW&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}Mb(bu,"S",function(){return this.eddsa.decodeInt(this.Sencoded())});Mb(bu,"R",function(){return this.eddsa.decodePoint(this.Rencoded())});Mb(bu,"Rencoded",function(){return this.eddsa.encodePoint(this.R())});Mb(bu,"Sencoded",function(){return this.eddsa.encodeInt(this.S())});bu.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())};bu.prototype.toHex=function(){return Ib.encode(this.toBytes(),"hex").toUpperCase()};var NW=bu,OW=tc,BW=Sb,Od=Ms,DW=Od.assert,iI=Od.parseBytes,sI=RW,z8=NW;function as(t){if(DW(t==="ed25519","only tested with ed25519 so far"),!(this instanceof as))return new as(t);t=BW[t].curve,this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=OW.sha512}var LW=as;as.prototype.sign=function(e,r){e=iI(e);var n=this.keyFromSecret(r),i=this.hashInt(n.messagePrefix(),e),s=this.g.mul(i),o=this.encodePoint(s),a=this.hashInt(o,n.pubBytes(),e).mul(n.priv()),c=i.add(a).umod(this.curve.n);return this.makeSignature({R:s,S:c,Rencoded:o})};as.prototype.verify=function(e,r,n){if(e=iI(e),r=this.makeSignature(r),r.S().gte(r.eddsa.curve.n)||r.S().isNeg())return!1;var i=this.keyFromPublic(n),s=this.hashInt(r.Rencoded(),i.pubBytes(),e),o=this.g.mul(r.S()),a=r.R().add(i.pub().mul(s));return a.eq(o)};as.prototype.hashInt=function(){for(var e=this.hash(),r=0;r<arguments.length;r++)e.update(arguments[r]);return Od.intFromLE(e.digest()).umod(this.curve.n)};as.prototype.keyFromPublic=function(e){return sI.fromPublic(this,e)};as.prototype.keyFromSecret=function(e){return sI.fromSecret(this,e)};as.prototype.makeSignature=function(e){return e instanceof z8?e:new z8(this,e)};as.prototype.encodePoint=function(e){var r=e.getY().toArray("le",this.encodingLength);return r[this.encodingLength-1]|=e.getX().isOdd()?128:0,r};as.prototype.decodePoint=function(e){e=Od.parseBytes(e);var r=e.length-1,n=e.slice(0,r).concat(e[r]&-129),i=(e[r]&128)!==0,s=Od.intFromLE(n);return this.curve.pointFromY(s,i)};as.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)};as.prototype.decodeInt=function(e){return Od.intFromLE(e)};as.prototype.isPoint=function(e){return e instanceof this.pointClass};(function(t){var e=t;e.version=uW.version,e.utils=Ms,e.rand=Vd,e.curve=P6,e.curves=Sb,e.ec=kW,e.eddsa=LW})(ZA);const $W={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var UW={};const oI=":";function e1(t){const[e,r]=t.split(oI);return{namespace:e,reference:r}}function aI(t){const[e,r,n]=t.split(oI);return{namespace:e,reference:r,address:n}}function cI(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function fI(t,e){return t.includes(":")?[t]:e.chains||[]}var zW=Object.defineProperty,F8=Object.getOwnPropertySymbols,FW=Object.prototype.hasOwnProperty,qW=Object.prototype.propertyIsEnumerable,q8=(t,e,r)=>e in t?zW(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,K8=(t,e)=>{for(var r in e||(e={}))FW.call(e,r)&&q8(t,r,e[r]);if(F8)for(var r of F8(e))qW.call(e,r)&&q8(t,r,e[r]);return t};const KW="ReactNative",vs={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},jW="js";function tg(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ul(){return!x0()&&!!b6()&&navigator.product===KW}function I0(){return!tg()&&!!b6()&&!!x0()}function M0(){return ul()?vs.reactNative:tg()?vs.node:I0()?vs.browser:vs.unknown}function WW(){var t;try{return ul()&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Application)<"u"?(t=globalThis.Application)==null?void 0:t.applicationId:void 0}catch{return}}function HW(t,e){let r=Hh.parse(t);return r=K8(K8({},r),e),t=Hh.stringify(r),t}function uI(){return LA()||{name:"",description:"",url:"",icons:[""]}}function VW(){if(M0()===vs.reactNative&&typeof globalThis<"u"&&typeof(globalThis==null?void 0:globalThis.Platform)<"u"){const{OS:r,Version:n}=globalThis.Platform;return[r,n].join("-")}const t=OK();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function GW(){var t;const e=M0();return e===vs.browser?[e,((t=DA())==null?void 0:t.host)||"unknown"].join(":"):e}function dI(t,e,r){const n=VW(),i=GW();return[[t,e].join("-"),[jW,r].join("-"),n,i].join("/")}function YW({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a}){const c=r.split("?"),l=dI(t,e,n),g={auth:i,ua:l,projectId:s,useOnCloseEvent:o||void 0,origin:a||void 0},b=HW(c[1]||"",g);return c[0]+"?"+b}function Nf(t,e){return t.filter(r=>e.includes(r)).length===t.length}function lI(t){return Object.fromEntries(t.entries())}function hI(t){return new Map(Object.entries(t))}function Sf(t=ht.FIVE_MINUTES,e){const r=ht.toMiliseconds(t||ht.FIVE_MINUTES);let n,i,s;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,a)=>{s=setTimeout(()=>{a(new Error(e))},r),n=o,i=a})}}function hd(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function pI(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function JW(t){return pI("topic",t)}function XW(t){return pI("id",t)}function gI(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Sn(t,e){return ht.fromMiliseconds(Date.now()+ht.toMiliseconds(t))}function yc(t){return Date.now()>=ht.toMiliseconds(t)}function tr(t,e){return`${t}${e?`:${e}`:""}`}function ZW(t=[],e=[]){return[...new Set([...t,...e])]}async function QW({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=eH(s,t,e),a=M0();if(a===vs.browser){if(!((n=x0())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}o.startsWith("https://")||o.startsWith("http://")?window.open(o,"_blank","noreferrer noopener"):window.open(o,rH()?"_blank":"_self","noreferrer noopener")}else a===vs.reactNative&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"&&await globalThis.Linking.openURL(o)}catch(i){console.error(i)}}function eH(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${nH(n,!0)}`}else i=`${i}/wc?${n}`;return i}async function tH(t,e){let r="";try{if(I0()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function j8(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function W8(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function T6(){return typeof process<"u"&&UW.IS_VITEST==="true"}function rH(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function nH(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function bI(t){return Buffer.from(t,"base64").toString("utf-8")}const iH="https://rpc.walletconnect.org/v1";async function sH(t,e,r,n,i,s){switch(r.t){case"eip191":return oH(t,e,r.s);case"eip1271":return await aH(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}function oH(t,e,r){return Dj(qA(e),r).toLowerCase()===t.toLowerCase()}async function aH(t,e,r,n,i,s){const o=e1(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",g=r.substring(2),b=qA(e).substring(2),x=a+b+c+l+g,_=await fetch(`${s||iH}/?chainId=${n}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:cH(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:x},"latest"]})}),{result:E}=await _.json();return E?E.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function cH(){return Date.now()+Math.floor(Math.random()*1e3)}var fH=Object.defineProperty,uH=Object.defineProperties,dH=Object.getOwnPropertyDescriptors,H8=Object.getOwnPropertySymbols,lH=Object.prototype.hasOwnProperty,hH=Object.prototype.propertyIsEnumerable,V8=(t,e,r)=>e in t?fH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pH=(t,e)=>{for(var r in e||(e={}))lH.call(e,r)&&V8(t,r,e[r]);if(H8)for(var r of H8(e))hH.call(e,r)&&V8(t,r,e[r]);return t},gH=(t,e)=>uH(t,dH(e));const bH="did:pkh:",N6=t=>t==null?void 0:t.split(":"),vH=t=>{const e=t&&N6(t);if(e)return t.includes(bH)?e[3]:e[1]},g2=t=>{const e=t&&N6(t);if(e)return e[2]+":"+e[3]},rg=t=>{const e=t&&N6(t);if(e)return e.pop()};async function G8(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=vI(i,i.iss),o=rg(i.iss);return await sH(o,s,n,g2(i.iss),r)}const vI=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=rg(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${vH(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,g=t.exp?`Expiration Time: ${t.exp}`:void 0,b=t.nbf?`Not Before: ${t.nbf}`:void 0,x=t.requestId?`Request ID: ${t.requestId}`:void 0,_=t.resources?`Resources:${t.resources.map(M=>`
- ${M}`).join("")}`:void 0,E=t1(t.resources);if(E){const M=Vh(E);i=IH(i,M)}return[r,n,"",i,"",s,o,a,c,l,g,b,x,_].filter(M=>M!=null).join(`
`)};function yH(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function mH(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function tu(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function wH(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:xH(e,r,n)}}}function xH(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function yI(t){return tu(t),`urn:recap:${yH(t).replace(/=/g,"")}`}function Vh(t){const e=mH(t.replace("urn:recap:",""));return tu(e),e}function _H(t,e,r){const n=wH(t,e,r);return yI(n)}function SH(t){return t&&t.includes("urn:recap:")}function EH(t,e){const r=Vh(t),n=Vh(e),i=AH(r,n);return yI(i)}function AH(t,e){tu(t),tu(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=gH(pH({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function IH(t="",e){tu(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(b=>({ability:b.split("/")[0],action:b.split("/")[1]}));c.sort((b,x)=>b.action.localeCompare(x.action));const l={};c.forEach(b=>{l[b.ability]||(l[b.ability]=[]),l[b.ability].push(b.action)});const g=Object.keys(l).map(b=>(i++,`(${i}) '${b}': '${l[b].join("', '")}' for '${a}'.`));n.push(g.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function Y8(t){var e;const r=Vh(t);tu(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function J8(t){const e=Vh(t);tu(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function t1(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return SH(e)?e:void 0}const mI="base10",Ui="base16",Cc="base64pad",Ul="base64url",P0="utf8",wI=0,ja=1,k0=2,MH=0,X8=1,gh=12,O6=32;function PH(){const t=I6.generateKeyPair();return{privateKey:Kn(t.secretKey,Ui),publicKey:Kn(t.publicKey,Ui)}}function b2(){const t=nf.randomBytes(O6);return Kn(t,Ui)}function kH(t,e){const r=I6.sharedKey($n(t,Ui),$n(e,Ui),!0),n=new Yj(S0.SHA256,r).expand(O6);return Kn(n,Ui)}function r1(t){const e=S0.hash($n(t,Ui));return Kn(e,Ui)}function Ra(t){const e=S0.hash($n(t,P0));return Kn(e,Ui)}function xI(t){return $n(`${t}`,mI)}function ru(t){return Number(Kn(t,mI))}function RH(t){const e=xI(typeof t.type<"u"?t.type:wI);if(ru(e)===ja&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?$n(t.senderPublicKey,Ui):void 0,n=typeof t.iv<"u"?$n(t.iv,Ui):nf.randomBytes(gh),i=new E6.ChaCha20Poly1305($n(t.symKey,Ui)).seal(n,$n(t.message,P0));return _I({type:e,sealed:i,iv:n,senderPublicKey:r,encoding:t.encoding})}function CH(t,e){const r=xI(k0),n=nf.randomBytes(gh),i=$n(t,P0);return _I({type:r,sealed:i,iv:n,encoding:e})}function TH(t){const e=new E6.ChaCha20Poly1305($n(t.symKey,Ui)),{sealed:r,iv:n}=Gh({encoded:t.encoded,encoding:t==null?void 0:t.encoding}),i=e.open(n,r);if(i===null)throw new Error("Failed to decrypt");return Kn(i,P0)}function NH(t,e){const{sealed:r}=Gh({encoded:t,encoding:e});return Kn(r,P0)}function _I(t){const{encoding:e=Cc}=t;if(ru(t.type)===k0)return Kn(Jp([t.type,t.sealed]),e);if(ru(t.type)===ja){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Kn(Jp([t.type,t.senderPublicKey,t.iv,t.sealed]),e)}return Kn(Jp([t.type,t.iv,t.sealed]),e)}function Gh(t){const{encoded:e,encoding:r=Cc}=t,n=$n(e,r),i=n.slice(MH,X8),s=X8;if(ru(i)===ja){const l=s+O6,g=l+gh,b=n.slice(s,l),x=n.slice(l,g),_=n.slice(g);return{type:i,sealed:_,iv:x,senderPublicKey:b}}if(ru(i)===k0){const l=n.slice(s),g=nf.randomBytes(gh);return{type:i,sealed:l,iv:g}}const o=s+gh,a=n.slice(s,o),c=n.slice(o);return{type:i,sealed:c,iv:a}}function OH(t,e){const r=Gh({encoded:t,encoding:e==null?void 0:e.encoding});return SI({type:ru(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Kn(r.senderPublicKey,Ui):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function SI(t){const e=(t==null?void 0:t.type)||wI;if(e===ja){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function Z8(t){return t.type===ja&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function Q8(t){return t.type===k0}function BH(t){return new ZA.ec("p256").keyFromPublic({x:Buffer.from(t.x,"base64").toString("hex"),y:Buffer.from(t.y,"base64").toString("hex")},"hex")}function DH(t){let e=t.replace(/-/g,"+").replace(/_/g,"/");const r=e.length%4;return r>0&&(e+="=".repeat(4-r)),e}function LH(t){return Buffer.from(DH(t),"base64")}function $H(t,e){const[r,n,i]=t.split("."),s=LH(i);if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32).toString("hex"),a=s.slice(32,64).toString("hex"),c=`${r}.${n}`,l=new S0.SHA256().update(Buffer.from(c)).digest(),g=BH(e),b=Buffer.from(l).toString("hex");if(!g.verify(b,{r:o,s:a}))throw new Error("Invalid signature");return c2(t).payload}const UH="irn";function v2(t){return(t==null?void 0:t.relay)||{protocol:UH}}function nh(t){const e=$W[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}var zH=Object.defineProperty,FH=Object.defineProperties,qH=Object.getOwnPropertyDescriptors,e9=Object.getOwnPropertySymbols,KH=Object.prototype.hasOwnProperty,jH=Object.prototype.propertyIsEnumerable,t9=(t,e,r)=>e in t?zH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,r9=(t,e)=>{for(var r in e||(e={}))KH.call(e,r)&&t9(t,r,e[r]);if(e9)for(var r of e9(e))jH.call(e,r)&&t9(t,r,e[r]);return t},WH=(t,e)=>FH(t,qH(e));function HH(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function n9(t){if(!t.includes("wc:")){const c=bI(t);c!=null&&c.includes("wc:")&&(t=c)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=Hh.parse(s),a=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:n,topic:VH(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:HH(o),methods:a,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function VH(t){return t.startsWith("//")?t.substring(2):t}function GH(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=r+e+i;t[i]&&(n[s]=t[i])}),n}function i9(t){return`${t.protocol}:${t.topic}@${t.version}?`+Hh.stringify(r9(WH(r9({symKey:t.symKey},GH(t.relay)),{expiryTimestamp:t.expiryTimestamp}),t.methods?{methods:t.methods.join(",")}:{}))}function bp(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}function dl(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function YH(t){const e=[];return Object.values(t).forEach(r=>{e.push(...dl(r.accounts))}),e}function JH(t,e){const r=[];return Object.values(t).forEach(n=>{dl(n.accounts).includes(e)&&r.push(...n.methods)}),r}function XH(t,e){const r=[];return Object.values(t).forEach(n=>{dl(n.accounts).includes(e)&&r.push(...n.events)}),r}function ZH(t){const e={};return t==null||t.forEach(r=>{const[n,i]=r.split(":");e[n]||(e[n]={accounts:[],chains:[],events:[]}),e[n].accounts.push(r),e[n].chains.push(`${n}:${i}`)}),e}function s9(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=ZH(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=ZW(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}const QH={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},eV={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function ut(t,e){const{message:r,code:n}=eV[t];return{message:e?`${r} ${e}`:r,code:n}}function Sr(t,e){const{message:r,code:n}=QH[t];return{message:e?`${r} ${e}`:r,code:n}}function ll(t,e){return!!Array.isArray(t)}function ng(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Zi(t){return typeof t>"u"}function bn(t,e){return e&&Zi(t)?!0:typeof t=="string"&&!!t.trim().length}function B6(t,e){return typeof t=="number"&&!isNaN(t)}function tV(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return Nf(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],g=dl(a),b=r[o];(!Nf(fI(o,b),g)||!Nf(b.methods,c)||!Nf(b.events,l))&&(s=!1)}),s):!1}function ig(t){return bn(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function rV(t){if(bn(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&ig(r)}}return!1}function nV(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(bn(t,!1)){if(e(t))return!0;const r=bI(t);return e(r)}}catch{}return!1}function iV(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function sV(t){return t==null?void 0:t.topic}function oV(t,e){let r=null;return bn(t==null?void 0:t.publicKey,!1)||(r=ut("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function o9(t){let e=!0;return ll(t)?t.length&&(e=t.every(r=>bn(r,!1))):e=!1,e}function aV(t,e,r){let n=null;return ll(e)&&e.length?e.forEach(i=>{n||ig(i)||(n=Sr("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):ig(t)||(n=Sr("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function cV(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=aV(i,fI(i,s),`${e} ${r}`);o&&(n=o)}),n}function fV(t,e){let r=null;return ll(t)?t.forEach(n=>{r||rV(n)||(r=Sr("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Sr("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function uV(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=fV(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function dV(t,e){let r=null;return o9(t==null?void 0:t.methods)?o9(t==null?void 0:t.events)||(r=Sr("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Sr("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function EI(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=dV(n,`${e}, namespace`);i&&(r=i)}),r}function lV(t,e,r){let n=null;if(t&&ng(t)){const i=EI(t,e);i&&(n=i);const s=cV(t,e,r);s&&(n=s)}else n=ut("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function ly(t,e){let r=null;if(t&&ng(t)){const n=EI(t,e);n&&(r=n);const i=uV(t,e);i&&(r=i)}else r=ut("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function AI(t){return bn(t.protocol,!0)}function hV(t,e){let r=!1;return t?t&&ll(t)&&t.length&&t.forEach(n=>{r=AI(n)}):r=!0,r}function pV(t){return typeof t=="number"}function Vi(t){return typeof t<"u"&&typeof t!==null}function gV(t){return!(!t||typeof t!="object"||!t.code||!B6(t.code)||!t.message||!bn(t.message,!1))}function bV(t){return!(Zi(t)||!bn(t.method,!1))}function vV(t){return!(Zi(t)||Zi(t.result)&&Zi(t.error)||!B6(t.id)||!bn(t.jsonrpc,!1))}function yV(t){return!(Zi(t)||!bn(t.name,!1))}function a9(t,e){return!(!ig(e)||!YH(t).includes(e))}function mV(t,e,r){return bn(r,!1)?JH(t,e).includes(r):!1}function wV(t,e,r){return bn(r,!1)?XH(t,e).includes(r):!1}function c9(t,e,r){let n=null;const i=xV(t),s=_V(e),o=Object.keys(i),a=Object.keys(s),c=f9(Object.keys(t)),l=f9(Object.keys(e)),g=c.filter(b=>!l.includes(b));return g.length&&(n=ut("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${g.toString()}
      Received: ${Object.keys(e).toString()}`)),Nf(o,a)||(n=ut("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(b=>{if(!b.includes(":")||n)return;const x=dl(e[b].accounts);x.includes(b)||(n=ut("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${b}
        Required: ${b}
        Approved: ${x.toString()}`))}),o.forEach(b=>{n||(Nf(i[b].methods,s[b].methods)?Nf(i[b].events,s[b].events)||(n=ut("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${b}`)):n=ut("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${b}`))}),n}function xV(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function f9(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function _V(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=dl(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function SV(t,e){return B6(t)&&t<=e.max&&t>=e.min}function u9(){const t=M0();return new Promise(e=>{switch(t){case vs.browser:e(EV());break;case vs.reactNative:e(AV());break;case vs.node:e(IV());break;default:e(!0)}})}function EV(){return I0()&&(navigator==null?void 0:navigator.onLine)}async function AV(){if(ul()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo){const t=await(globalThis==null?void 0:globalThis.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function IV(){return!0}function MV(t){switch(M0()){case vs.browser:PV(t);break;case vs.reactNative:kV(t);break}}function PV(t){!ul()&&I0()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function kV(t){ul()&&typeof globalThis<"u"&&globalThis!=null&&globalThis.NetInfo&&(globalThis==null||globalThis.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const hy={};class zl{static get(e){return hy[e]}static set(e,r){hy[e]=r}static delete(e){delete hy[e]}}const RV="PARSE_ERROR",CV="INVALID_REQUEST",TV="METHOD_NOT_FOUND",NV="INVALID_PARAMS",II="INTERNAL_ERROR",D6="SERVER_ERROR",OV=[-32700,-32600,-32601,-32602,-32603],bh={[RV]:{code:-32700,message:"Parse error"},[CV]:{code:-32600,message:"Invalid Request"},[TV]:{code:-32601,message:"Method not found"},[NV]:{code:-32602,message:"Invalid params"},[II]:{code:-32603,message:"Internal error"},[D6]:{code:-32e3,message:"Server error"}},MI=D6;function BV(t){return OV.includes(t)}function d9(t){return Object.keys(bh).includes(t)?bh[t]:bh[MI]}function DV(t){const e=Object.values(bh).find(r=>r.code===t);return e||bh[MI]}function LV(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var PI={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var y2=function(t,e){return y2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},y2(t,e)};function $V(t,e){y2(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var m2=function(){return m2=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},m2.apply(this,arguments)};function UV(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function zV(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function FV(t,e){return function(r,n){e(r,n,t)}}function qV(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function KV(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(g){try{l(n.next(g))}catch(b){o(b)}}function c(g){try{l(n.throw(g))}catch(b){o(b)}}function l(g){g.done?s(g.value):i(g.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function jV(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(g){return c([l,g])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(g){l=[6,g],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function WV(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function HV(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function w2(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function kI(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function VV(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(kI(arguments[e]));return t}function GV(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function Yh(t){return this instanceof Yh?(this.v=t,this):new Yh(t)}function YV(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(x){n[x]&&(i[x]=function(_){return new Promise(function(E,M){s.push([x,_,E,M])>1||a(x,_)})})}function a(x,_){try{c(n[x](_))}catch(E){b(s[0][3],E)}}function c(x){x.value instanceof Yh?Promise.resolve(x.value.v).then(l,g):b(s[0][2],x)}function l(x){a("next",x)}function g(x){a("throw",x)}function b(x,_){x(_),s.shift(),s.length&&a(s[0][0],s[0][1])}}function JV(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:Yh(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function XV(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof w2=="function"?w2(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function ZV(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function QV(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function eG(t){return t&&t.__esModule?t:{default:t}}function tG(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function rG(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const nG=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return m2},__asyncDelegator:JV,__asyncGenerator:YV,__asyncValues:XV,__await:Yh,__awaiter:KV,__classPrivateFieldGet:tG,__classPrivateFieldSet:rG,__createBinding:WV,__decorate:zV,__exportStar:HV,__extends:$V,__generator:jV,__importDefault:eG,__importStar:QV,__makeTemplateObject:ZV,__metadata:qV,__param:FV,__read:kI,__rest:UV,__spread:VV,__spreadArrays:GV,__values:w2},Symbol.toStringTag,{value:"Module"})),iG=n0(nG);var wa={},l9;function sG(){if(l9)return wa;l9=1,Object.defineProperty(wa,"__esModule",{value:!0}),wa.isBrowserCryptoAvailable=wa.getSubtleCrypto=wa.getBrowerCrypto=void 0;function t(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}wa.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}wa.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return wa.isBrowserCryptoAvailable=r,wa}var xa={},h9;function oG(){if(h9)return xa;h9=1,Object.defineProperty(xa,"__esModule",{value:!0}),xa.isBrowser=xa.isNode=xa.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}xa.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}xa.isNode=e;function r(){return!t()&&!e()}return xa.isBrowser=r,xa}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=iG;e.__exportStar(sG(),t),e.__exportStar(oG(),t)})(PI);function mc(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Of(t=6){return BigInt(mc(t))}function Bf(t,e,r){return{id:r||mc(),jsonrpc:"2.0",method:t,params:e}}function L6(t,e){return{id:t,jsonrpc:"2.0",result:e}}function $6(t,e,r){return{id:t,jsonrpc:"2.0",error:aG(e)}}function aG(t,e){return typeof t>"u"?d9(II):(typeof t=="string"&&(t=Object.assign(Object.assign({},d9(D6)),{message:t})),BV(t.code)&&(t=DV(t.code)),t)}class cG{}class fG extends cG{constructor(){super()}}class uG extends fG{constructor(e){super()}}const dG="^wss?:";function lG(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function hG(t,e){const r=lG(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function p9(t){return hG(t,dG)}function pG(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function RI(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function U6(t){return RI(t)&&"method"in t}function Pb(t){return RI(t)&&(zo(t)||Ds(t))}function zo(t){return"result"in t}function Ds(t){return"error"in t}class gG extends uG{constructor(e){super(e),this.events=new Es.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(Bf(e.method,e.params||[],e.id||Of().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Ds(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Pb(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}}const bG=()=>typeof WebSocket<"u"?WebSocket:typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"?globalThis.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),vG=()=>typeof WebSocket<"u"||typeof globalThis<"u"&&typeof globalThis.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",g9=t=>t.split("?")[0],b9=10,yG=bG();let mG=class{constructor(e){if(this.url=e,this.events=new Es.EventEmitter,this.registering=!1,!p9(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(eu(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!p9(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=new URLSearchParams(e).get("origin"),s=PI.isReactNative()?{headers:{origin:i}}:{rejectUnauthorized:!pG(e)},o=new yG(e,[],s);vG()?o.onerror=a=>{const c=a;n(this.emitError(c.error))}:o.on("error",a=>{n(this.emitError(a))}),o.onopen=()=>{this.onOpen(o),r(o)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?Nd(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=$6(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return LV(e,g9(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>b9&&this.events.setMaxListeners(b9)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${g9(this.url)}`));return this.events.emit("register_error",r),r}};var sg={exports:{}};sg.exports;(function(t,e){var r=200,n="__lodash_hash_undefined__",i=1,s=2,o=9007199254740991,a="[object Arguments]",c="[object Array]",l="[object AsyncFunction]",g="[object Boolean]",b="[object Date]",x="[object Error]",_="[object Function]",E="[object GeneratorFunction]",M="[object Map]",B="[object Number]",P="[object Null]",R="[object Object]",D="[object Promise]",U="[object Proxy]",F="[object RegExp]",W="[object Set]",k="[object String]",K="[object Symbol]",te="[object Undefined]",ce="[object WeakMap]",A="[object ArrayBuffer]",f="[object DataView]",h="[object Float32Array]",d="[object Float64Array]",p="[object Int8Array]",v="[object Int16Array]",w="[object Int32Array]",S="[object Uint8Array]",y="[object Uint8ClampedArray]",u="[object Uint16Array]",m="[object Uint32Array]",I=/[\\^$.*+?()[\]{}|]/g,$=/^\[object .+?Constructor\]$/,Z=/^(?:0|[1-9]\d*)$/,O={};O[h]=O[d]=O[p]=O[v]=O[w]=O[S]=O[y]=O[u]=O[m]=!0,O[a]=O[c]=O[A]=O[g]=O[f]=O[b]=O[x]=O[_]=O[M]=O[B]=O[R]=O[F]=O[W]=O[k]=O[ce]=!1;var Q=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis,Y=typeof self=="object"&&self&&self.Object===Object&&self,X=Q||Y||Function("return this")(),J=e&&!e.nodeType&&e,N=J&&!0&&t&&!t.nodeType&&t,ee=N&&N.exports===J,se=ee&&Q.process,le=function(){try{return se&&se.binding&&se.binding("util")}catch{}}(),Ee=le&&le.isTypedArray;function ye(ne,he){for(var qe=-1,Et=ne==null?0:ne.length,qr=0,Xt=[];++qe<Et;){var on=ne[qe];he(on,qe,ne)&&(Xt[qr++]=on)}return Xt}function Be(ne,he){for(var qe=-1,Et=he.length,qr=ne.length;++qe<Et;)ne[qr+qe]=he[qe];return ne}function bt(ne,he){for(var qe=-1,Et=ne==null?0:ne.length;++qe<Et;)if(he(ne[qe],qe,ne))return!0;return!1}function ke(ne,he){for(var qe=-1,Et=Array(ne);++qe<ne;)Et[qe]=he(qe);return Et}function Ke(ne){return function(he){return ne(he)}}function dt(ne,he){return ne.has(he)}function _e(ne,he){return ne==null?void 0:ne[he]}function Ae(ne){var he=-1,qe=Array(ne.size);return ne.forEach(function(Et,qr){qe[++he]=[qr,Et]}),qe}function ot(ne,he){return function(qe){return ne(he(qe))}}function xe(ne){var he=-1,qe=Array(ne.size);return ne.forEach(function(Et){qe[++he]=Et}),qe}var Ie=Array.prototype,it=Function.prototype,q=Object.prototype,T=X["__core-js_shared__"],L=it.toString,G=q.hasOwnProperty,re=function(){var ne=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return ne?"Symbol(src)_1."+ne:""}(),fe=q.toString,oe=RegExp("^"+L.call(G).replace(I,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),we=ee?X.Buffer:void 0,Ge=X.Symbol,Se=X.Uint8Array,Le=q.propertyIsEnumerable,gt=Ie.splice,Ue=Ge?Ge.toStringTag:void 0,ct=Object.getOwnPropertySymbols,Ht=we?we.isBuffer:void 0,Ye=ot(Object.keys,Object),Je=xr(X,"DataView"),St=xr(X,"Map"),Re=xr(X,"Promise"),Ve=xr(X,"Set"),Ot=xr(X,"WeakMap"),Ce=xr(Object,"create"),Ze=ff(Je),Dt=ff(St),Me=ff(Re),Qe=ff(Ve),z=ff(Ot),j=Ge?Ge.prototype:void 0,H=j?j.valueOf:void 0;function C(ne){var he=-1,qe=ne==null?0:ne.length;for(this.clear();++he<qe;){var Et=ne[he];this.set(Et[0],Et[1])}}function V(){this.__data__=Ce?Ce(null):{},this.size=0}function ie(ne){var he=this.has(ne)&&delete this.__data__[ne];return this.size-=he?1:0,he}function de(ne){var he=this.__data__;if(Ce){var qe=he[ne];return qe===n?void 0:qe}return G.call(he,ne)?he[ne]:void 0}function ue(ne){var he=this.__data__;return Ce?he[ne]!==void 0:G.call(he,ne)}function pe(ne,he){var qe=this.__data__;return this.size+=this.has(ne)?0:1,qe[ne]=Ce&&he===void 0?n:he,this}C.prototype.clear=V,C.prototype.delete=ie,C.prototype.get=de,C.prototype.has=ue,C.prototype.set=pe;function $e(ne){var he=-1,qe=ne==null?0:ne.length;for(this.clear();++he<qe;){var Et=ne[he];this.set(Et[0],Et[1])}}function De(){this.__data__=[],this.size=0}function Bt(ne){var he=this.__data__,qe=We(he,ne);if(qe<0)return!1;var Et=he.length-1;return qe==Et?he.pop():gt.call(he,qe,1),--this.size,!0}function tt(ne){var he=this.__data__,qe=We(he,ne);return qe<0?void 0:he[qe][1]}function xt(ne){return We(this.__data__,ne)>-1}function _t(ne,he){var qe=this.__data__,Et=We(qe,ne);return Et<0?(++this.size,qe.push([ne,he])):qe[Et][1]=he,this}$e.prototype.clear=De,$e.prototype.delete=Bt,$e.prototype.get=tt,$e.prototype.has=xt,$e.prototype.set=_t;function mt(ne){var he=-1,qe=ne==null?0:ne.length;for(this.clear();++he<qe;){var Et=ne[he];this.set(Et[0],Et[1])}}function Tt(){this.size=0,this.__data__={hash:new C,map:new(St||$e),string:new C}}function Mt(ne){var he=hr(this,ne).delete(ne);return this.size-=he?1:0,he}function kt(ne){return hr(this,ne).get(ne)}function Pt(ne){return hr(this,ne).has(ne)}function at(ne,he){var qe=hr(this,ne),Et=qe.size;return qe.set(ne,he),this.size+=qe.size==Et?0:1,this}mt.prototype.clear=Tt,mt.prototype.delete=Mt,mt.prototype.get=kt,mt.prototype.has=Pt,mt.prototype.set=at;function pt(ne){var he=-1,qe=ne==null?0:ne.length;for(this.__data__=new mt;++he<qe;)this.add(ne[he])}function rt(ne){return this.__data__.set(ne,n),this}function ft(ne){return this.__data__.has(ne)}pt.prototype.add=pt.prototype.push=rt,pt.prototype.has=ft;function nt(ne){var he=this.__data__=new $e(ne);this.size=he.size}function et(){this.__data__=new $e,this.size=0}function be(ne){var he=this.__data__,qe=he.delete(ne);return this.size=he.size,qe}function ve(ne){return this.__data__.get(ne)}function ze(ne){return this.__data__.has(ne)}function Pe(ne,he){var qe=this.__data__;if(qe instanceof $e){var Et=qe.__data__;if(!St||Et.length<r-1)return Et.push([ne,he]),this.size=++qe.size,this;qe=this.__data__=new mt(Et)}return qe.set(ne,he),this.size=qe.size,this}nt.prototype.clear=et,nt.prototype.delete=be,nt.prototype.get=ve,nt.prototype.has=ze,nt.prototype.set=Pe;function Te(ne,he){var qe=L0(ne),Et=!qe&&MP(ne),qr=!qe&&!Et&&Gb(ne),Xt=!qe&&!Et&&!qr&&Iw(ne),on=qe||Et||qr||Xt,Rn=on?ke(ne.length,String):[],Zn=Rn.length;for(var Zr in ne)G.call(ne,Zr)&&!(on&&(Zr=="length"||qr&&(Zr=="offset"||Zr=="parent")||Xt&&(Zr=="buffer"||Zr=="byteLength"||Zr=="byteOffset")||Mn(Zr,Zn)))&&Rn.push(Zr);return Rn}function We(ne,he){for(var qe=ne.length;qe--;)if(_w(ne[qe][0],he))return qe;return-1}function $t(ne,he,qe){var Et=he(ne);return L0(ne)?Et:Be(Et,qe(ne))}function Ft(ne){return ne==null?ne===void 0?te:P:Ue&&Ue in Object(ne)?Gr(ne):IP(ne)}function Wt(ne){return wl(ne)&&Ft(ne)==a}function jt(ne,he,qe,Et,qr){return ne===he?!0:ne==null||he==null||!wl(ne)&&!wl(he)?ne!==ne&&he!==he:ae(ne,he,qe,Et,jt,qr)}function ae(ne,he,qe,Et,qr,Xt){var on=L0(ne),Rn=L0(he),Zn=on?c:Ir(ne),Zr=Rn?c:Ir(he);Zn=Zn==a?R:Zn,Zr=Zr==a?R:Zr;var fs=Zn==R,ao=Zr==R,gi=Zn==Zr;if(gi&&Gb(ne)){if(!Gb(he))return!1;on=!0,fs=!1}if(gi&&!fs)return Xt||(Xt=new nt),on||Iw(ne)?Vt(ne,he,qe,Et,qr,Xt):sr(ne,he,Zn,qe,Et,qr,Xt);if(!(qe&i)){var ks=fs&&G.call(ne,"__wrapped__"),Rs=ao&&G.call(he,"__wrapped__");if(ks||Rs){var oc=ks?ne.value():ne,ma=Rs?he.value():he;return Xt||(Xt=new nt),qr(oc,ma,qe,Et,Xt)}}return gi?(Xt||(Xt=new nt),or(ne,he,qe,Et,qr,Xt)):!1}function Jt(ne){if(!Aw(ne)||kn(ne))return!1;var he=Sw(ne)?oe:$;return he.test(ff(ne))}function fr(ne){return wl(ne)&&Ew(ne.length)&&!!O[Ft(ne)]}function ur(ne){if(!AP(ne))return Ye(ne);var he=[];for(var qe in Object(ne))G.call(ne,qe)&&qe!="constructor"&&he.push(qe);return he}function Vt(ne,he,qe,Et,qr,Xt){var on=qe&i,Rn=ne.length,Zn=he.length;if(Rn!=Zn&&!(on&&Zn>Rn))return!1;var Zr=Xt.get(ne);if(Zr&&Xt.get(he))return Zr==he;var fs=-1,ao=!0,gi=qe&s?new pt:void 0;for(Xt.set(ne,he),Xt.set(he,ne);++fs<Rn;){var ks=ne[fs],Rs=he[fs];if(Et)var oc=on?Et(Rs,ks,fs,he,ne,Xt):Et(ks,Rs,fs,ne,he,Xt);if(oc!==void 0){if(oc)continue;ao=!1;break}if(gi){if(!bt(he,function(ma,uf){if(!dt(gi,uf)&&(ks===ma||qr(ks,ma,qe,Et,Xt)))return gi.push(uf)})){ao=!1;break}}else if(!(ks===Rs||qr(ks,Rs,qe,Et,Xt))){ao=!1;break}}return Xt.delete(ne),Xt.delete(he),ao}function sr(ne,he,qe,Et,qr,Xt,on){switch(qe){case f:if(ne.byteLength!=he.byteLength||ne.byteOffset!=he.byteOffset)return!1;ne=ne.buffer,he=he.buffer;case A:return!(ne.byteLength!=he.byteLength||!Xt(new Se(ne),new Se(he)));case g:case b:case B:return _w(+ne,+he);case x:return ne.name==he.name&&ne.message==he.message;case F:case k:return ne==he+"";case M:var Rn=Ae;case W:var Zn=Et&i;if(Rn||(Rn=xe),ne.size!=he.size&&!Zn)return!1;var Zr=on.get(ne);if(Zr)return Zr==he;Et|=s,on.set(ne,he);var fs=Vt(Rn(ne),Rn(he),Et,qr,Xt,on);return on.delete(ne),fs;case K:if(H)return H.call(ne)==H.call(he)}return!1}function or(ne,he,qe,Et,qr,Xt){var on=qe&i,Rn=Vr(ne),Zn=Rn.length,Zr=Vr(he),fs=Zr.length;if(Zn!=fs&&!on)return!1;for(var ao=Zn;ao--;){var gi=Rn[ao];if(!(on?gi in he:G.call(he,gi)))return!1}var ks=Xt.get(ne);if(ks&&Xt.get(he))return ks==he;var Rs=!0;Xt.set(ne,he),Xt.set(he,ne);for(var oc=on;++ao<Zn;){gi=Rn[ao];var ma=ne[gi],uf=he[gi];if(Et)var Mw=on?Et(uf,ma,gi,he,ne,Xt):Et(ma,uf,gi,ne,he,Xt);if(!(Mw===void 0?ma===uf||qr(ma,uf,qe,Et,Xt):Mw)){Rs=!1;break}oc||(oc=gi=="constructor")}if(Rs&&!oc){var $0=ne.constructor,U0=he.constructor;$0!=U0&&"constructor"in ne&&"constructor"in he&&!(typeof $0=="function"&&$0 instanceof $0&&typeof U0=="function"&&U0 instanceof U0)&&(Rs=!1)}return Xt.delete(ne),Xt.delete(he),Rs}function Vr(ne){return $t(ne,RP,Yr)}function hr(ne,he){var qe=ne.__data__;return Pn(he)?qe[typeof he=="string"?"string":"hash"]:qe.map}function xr(ne,he){var qe=_e(ne,he);return Jt(qe)?qe:void 0}function Gr(ne){var he=G.call(ne,Ue),qe=ne[Ue];try{ne[Ue]=void 0;var Et=!0}catch{}var qr=fe.call(ne);return Et&&(he?ne[Ue]=qe:delete ne[Ue]),qr}var Yr=ct?function(ne){return ne==null?[]:(ne=Object(ne),ye(ct(ne),function(he){return Le.call(ne,he)}))}:CP,Ir=Ft;(Je&&Ir(new Je(new ArrayBuffer(1)))!=f||St&&Ir(new St)!=M||Re&&Ir(Re.resolve())!=D||Ve&&Ir(new Ve)!=W||Ot&&Ir(new Ot)!=ce)&&(Ir=function(ne){var he=Ft(ne),qe=he==R?ne.constructor:void 0,Et=qe?ff(qe):"";if(Et)switch(Et){case Ze:return f;case Dt:return M;case Me:return D;case Qe:return W;case z:return ce}return he});function Mn(ne,he){return he=he??o,!!he&&(typeof ne=="number"||Z.test(ne))&&ne>-1&&ne%1==0&&ne<he}function Pn(ne){var he=typeof ne;return he=="string"||he=="number"||he=="symbol"||he=="boolean"?ne!=="__proto__":ne===null}function kn(ne){return!!re&&re in ne}function AP(ne){var he=ne&&ne.constructor,qe=typeof he=="function"&&he.prototype||q;return ne===qe}function IP(ne){return fe.call(ne)}function ff(ne){if(ne!=null){try{return L.call(ne)}catch{}try{return ne+""}catch{}}return""}function _w(ne,he){return ne===he||ne!==ne&&he!==he}var MP=Wt(function(){return arguments}())?Wt:function(ne){return wl(ne)&&G.call(ne,"callee")&&!Le.call(ne,"callee")},L0=Array.isArray;function PP(ne){return ne!=null&&Ew(ne.length)&&!Sw(ne)}var Gb=Ht||TP;function kP(ne,he){return jt(ne,he)}function Sw(ne){if(!Aw(ne))return!1;var he=Ft(ne);return he==_||he==E||he==l||he==U}function Ew(ne){return typeof ne=="number"&&ne>-1&&ne%1==0&&ne<=o}function Aw(ne){var he=typeof ne;return ne!=null&&(he=="object"||he=="function")}function wl(ne){return ne!=null&&typeof ne=="object"}var Iw=Ee?Ke(Ee):fr;function RP(ne){return PP(ne)?Te(ne):ur(ne)}function CP(){return[]}function TP(){return!1}t.exports=kP})(sg,sg.exports);var wG=sg.exports;const xG=ci(wG),CI="wc",TI=2,z6="core",fa=`${CI}@2:${z6}:`,_G={name:z6,logger:"error"},SG={database:":memory:"},EG="crypto",v9="client_ed25519_seed",AG=ht.ONE_DAY,IG="keychain",MG="0.3",PG="messages",kG="0.3",RG=ht.SIX_HOURS,CG="publisher",NI="irn",TG="error",OI="wss://relay.walletconnect.org",NG="relayer",Di={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},OG="_subscription",Ts={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},BG=.1,x2="2.17.1",Nr={link_mode:"link_mode",relay:"relay"},DG="0.3",LG="WALLETCONNECT_CLIENT_ID",y9="WALLETCONNECT_LINK_MODE_APPS",Fo={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},$G="subscription",UG="0.3",zG=ht.FIVE_SECONDS*1e3,FG="pairing",qG="0.3",Fl={wc_pairingDelete:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:ht.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:ht.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:ht.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:0},res:{ttl:ht.ONE_DAY,prompt:!1,tag:0}}},Ef={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},uo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},KG="history",jG="0.3",WG="expirer",Ns={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},HG="0.3",VG="verify-api",GG="https://verify.walletconnect.com",BI="https://verify.walletconnect.org",vh=BI,YG=`${vh}/v3`,JG=[GG,BI],XG="echo",ZG="https://echo.walletconnect.com",$o={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Aa={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},lo={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},vf={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},yf={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},ql={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},QG=.1,eY="event-client",tY=86400,rY="https://pulse.walletconnect.org/batch";function nY(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),g=Math.log(256)/Math.log(a);function b(E){if(E instanceof Uint8Array||(ArrayBuffer.isView(E)?E=new Uint8Array(E.buffer,E.byteOffset,E.byteLength):Array.isArray(E)&&(E=Uint8Array.from(E))),!(E instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(E.length===0)return"";for(var M=0,B=0,P=0,R=E.length;P!==R&&E[P]===0;)P++,M++;for(var D=(R-P)*g+1>>>0,U=new Uint8Array(D);P!==R;){for(var F=E[P],W=0,k=D-1;(F!==0||W<B)&&k!==-1;k--,W++)F+=256*U[k]>>>0,U[k]=F%a>>>0,F=F/a>>>0;if(F!==0)throw new Error("Non-zero carry");B=W,P++}for(var K=D-B;K!==D&&U[K]===0;)K++;for(var te=c.repeat(M);K<D;++K)te+=t.charAt(U[K]);return te}function x(E){if(typeof E!="string")throw new TypeError("Expected String");if(E.length===0)return new Uint8Array;var M=0;if(E[M]!==" "){for(var B=0,P=0;E[M]===c;)B++,M++;for(var R=(E.length-M)*l+1>>>0,D=new Uint8Array(R);E[M];){var U=r[E.charCodeAt(M)];if(U===255)return;for(var F=0,W=R-1;(U!==0||F<P)&&W!==-1;W--,F++)U+=a*D[W]>>>0,D[W]=U%256>>>0,U=U/256>>>0;if(U!==0)throw new Error("Non-zero carry");P=F,M++}if(E[M]!==" "){for(var k=R-P;k!==R&&D[k]===0;)k++;for(var K=new Uint8Array(B+(R-k)),te=B;k!==R;)K[te++]=D[k++];return K}}}function _(E){var M=x(E);if(M)return M;throw new Error(`Non-${e} character`)}return{encode:b,decodeUnsafe:x,decode:_}}var iY=nY,sY=iY;const DI=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},oY=t=>new TextEncoder().encode(t),aY=t=>new TextDecoder().decode(t);class cY{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class fY{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return LI(this,e)}}class uY{constructor(e){this.decoders=e}or(e){return LI(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const LI=(t,e)=>new uY({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class dY{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new cY(e,r,n),this.decoder=new fY(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const kb=({name:t,prefix:e,encode:r,decode:n})=>new dY(t,e,r,n),R0=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=sY(r,e);return kb({prefix:t,name:e,encode:n,decode:s=>DI(i(s))})},lY=(t,e,r,n)=>{const i={};for(let g=0;g<e.length;++g)i[e[g]]=g;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let g=0;g<s;++g){const b=i[t[g]];if(b===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|b,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},hY=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},pi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>kb({prefix:e,name:t,encode(i){return hY(i,n,r)},decode(i){return lY(i,n,r,t)}}),pY=kb({prefix:"\0",name:"identity",encode:t=>aY(t),decode:t=>oY(t)});var gY=Object.freeze({__proto__:null,identity:pY});const bY=pi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var vY=Object.freeze({__proto__:null,base2:bY});const yY=pi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var mY=Object.freeze({__proto__:null,base8:yY});const wY=R0({prefix:"9",name:"base10",alphabet:"0123456789"});var xY=Object.freeze({__proto__:null,base10:wY});const _Y=pi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),SY=pi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var EY=Object.freeze({__proto__:null,base16:_Y,base16upper:SY});const AY=pi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),IY=pi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),MY=pi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),PY=pi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kY=pi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),RY=pi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),CY=pi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),TY=pi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),NY=pi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var OY=Object.freeze({__proto__:null,base32:AY,base32upper:IY,base32pad:MY,base32padupper:PY,base32hex:kY,base32hexupper:RY,base32hexpad:CY,base32hexpadupper:TY,base32z:NY});const BY=R0({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),DY=R0({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var LY=Object.freeze({__proto__:null,base36:BY,base36upper:DY});const $Y=R0({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),UY=R0({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var zY=Object.freeze({__proto__:null,base58btc:$Y,base58flickr:UY});const FY=pi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),qY=pi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),KY=pi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),jY=pi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var WY=Object.freeze({__proto__:null,base64:FY,base64pad:qY,base64url:KY,base64urlpad:jY});const $I=Array.from(""),HY=$I.reduce((t,e,r)=>(t[r]=e,t),[]),VY=$I.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function GY(t){return t.reduce((e,r)=>(e+=HY[r],e),"")}function YY(t){const e=[];for(const r of t){const n=VY[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const JY=kb({prefix:"",name:"base256emoji",encode:GY,decode:YY});var XY=Object.freeze({__proto__:null,base256emoji:JY}),ZY=UI,m9=128,QY=127,eJ=~QY,tJ=Math.pow(2,31);function UI(t,e,r){e=e||[],r=r||0;for(var n=r;t>=tJ;)e[r++]=t&255|m9,t/=128;for(;t&eJ;)e[r++]=t&255|m9,t>>>=7;return e[r]=t|0,UI.bytes=r-n+1,e}var rJ=_2,nJ=128,w9=127;function _2(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw _2.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&w9)<<i:(o&w9)*Math.pow(2,i),i+=7}while(o>=nJ);return _2.bytes=s-n,r}var iJ=Math.pow(2,7),sJ=Math.pow(2,14),oJ=Math.pow(2,21),aJ=Math.pow(2,28),cJ=Math.pow(2,35),fJ=Math.pow(2,42),uJ=Math.pow(2,49),dJ=Math.pow(2,56),lJ=Math.pow(2,63),hJ=function(t){return t<iJ?1:t<sJ?2:t<oJ?3:t<aJ?4:t<cJ?5:t<fJ?6:t<uJ?7:t<dJ?8:t<lJ?9:10},pJ={encode:ZY,decode:rJ,encodingLength:hJ},zI=pJ;const x9=(t,e,r=0)=>(zI.encode(t,e,r),e),_9=t=>zI.encodingLength(t),S2=(t,e)=>{const r=e.byteLength,n=_9(t),i=n+_9(r),s=new Uint8Array(i+r);return x9(t,s,0),x9(r,s,n),s.set(e,i),new gJ(t,r,e,s)};class gJ{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const FI=({name:t,code:e,encode:r})=>new bJ(t,e,r);class bJ{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?S2(this.code,r):r.then(n=>S2(this.code,n))}else throw Error("Unknown type, must be binary type")}}const qI=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),vJ=FI({name:"sha2-256",code:18,encode:qI("SHA-256")}),yJ=FI({name:"sha2-512",code:19,encode:qI("SHA-512")});var mJ=Object.freeze({__proto__:null,sha256:vJ,sha512:yJ});const KI=0,wJ="identity",jI=DI,xJ=t=>S2(KI,jI(t)),_J={code:KI,name:wJ,encode:jI,digest:xJ};var SJ=Object.freeze({__proto__:null,identity:_J});new TextEncoder,new TextDecoder;const S9={...gY,...vY,...mY,...xY,...EY,...OY,...LY,...zY,...WY,...XY};({...mJ,...SJ});function EJ(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function WI(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const E9=WI("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),py=WI("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=EJ(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),AJ={utf8:E9,"utf-8":E9,hex:S9.base16,latin1:py,ascii:py,binary:py,...S9};function IJ(t,e="utf8"){const r=AJ[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):r.decoder.decode(`${r.prefix}${t}`)}class MJ{constructor(e,r){this.core=e,this.logger=r,this.keychain=new Map,this.name=IG,this.version=MG,this.initialized=!1,this.storagePrefix=fa,this.init=async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}},this.has=n=>(this.isInitialized(),this.keychain.has(n)),this.set=async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()},this.get=n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=ut("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i},this.del=async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()},this.core=e,this.logger=ji(r,this.name)}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,lI(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?hI(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}}class PJ{constructor(e,r,n){this.core=e,this.logger=r,this.name=EG,this.randomSessionIdentifier=b2(),this.initialized=!1,this.init=async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)},this.hasKeys=i=>(this.isInitialized(),this.keychain.has(i)),this.getClientId=async()=>{this.isInitialized();const i=await this.getClientSeed(),s=g8(i);return BA(s.publicKey)},this.generateKeyPair=()=>{this.isInitialized();const i=PH();return this.setPrivateKey(i.publicKey,i.privateKey)},this.signJWT=async i=>{this.isInitialized();const s=await this.getClientSeed(),o=g8(s),a=this.randomSessionIdentifier;return await AK(a,i,AG,o)},this.generateSharedKey=(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=kH(a,s);return this.setSymKey(c,o)},this.setSymKey=async(i,s)=>{this.isInitialized();const o=s||r1(i);return await this.keychain.set(o,i),o},this.deleteKeyPair=async i=>{this.isInitialized(),await this.keychain.del(i)},this.deleteSymKey=async i=>{this.isInitialized(),await this.keychain.del(i)},this.encode=async(i,s,o)=>{this.isInitialized();const a=SI(o),c=eu(s);if(Q8(a))return CH(c,o==null?void 0:o.encoding);if(Z8(a)){const x=a.senderPublicKey,_=a.receiverPublicKey;i=await this.generateSharedKey(x,_)}const l=this.getSymKey(i),{type:g,senderPublicKey:b}=a;return RH({type:g,symKey:l,message:c,senderPublicKey:b,encoding:o==null?void 0:o.encoding})},this.decode=async(i,s,o)=>{this.isInitialized();const a=OH(s,o);if(Q8(a)){const c=NH(s,o==null?void 0:o.encoding);return Nd(c)}if(Z8(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=TH({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return Nd(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}},this.getPayloadType=(i,s=Cc)=>{const o=Gh({encoded:i,encoding:s});return ru(o.type)},this.getPayloadSenderPublicKey=(i,s=Cc)=>{const o=Gh({encoded:i,encoding:s});return o.senderPublicKey?Kn(o.senderPublicKey,Ui):void 0},this.core=e,this.logger=ji(r,this.name),this.keychain=n||new MJ(this.core,this.logger)}get context(){return cs(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(v9)}catch{e=b2(),await this.keychain.set(v9,e)}return IJ(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}}class kJ extends NF{constructor(e,r){super(e,r),this.logger=e,this.core=r,this.messages=new Map,this.name=PG,this.version=kG,this.initialized=!1,this.storagePrefix=fa,this.init=async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}},this.set=async(n,i)=>{this.isInitialized();const s=Ra(i);let o=this.messages.get(n);return typeof o>"u"&&(o={}),typeof o[s]<"u"||(o[s]=i,this.messages.set(n,o),await this.persist()),s},this.get=n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i},this.has=(n,i)=>{this.isInitialized();const s=this.get(n),o=Ra(i);return typeof s[o]<"u"},this.del=async n=>{this.isInitialized(),this.messages.delete(n),await this.persist()},this.logger=ji(e,this.name),this.core=r}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,lI(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?hI(e):void 0}async persist(){await this.setRelayerMessages(this.messages)}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}}class RJ extends OF{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.events=new Es.EventEmitter,this.name=CG,this.queue=new Map,this.publishTimeout=ht.toMiliseconds(ht.ONE_MINUTE),this.failedPublishTimeout=ht.toMiliseconds(ht.ONE_SECOND),this.needsTransportRestart=!1,this.publish=async(n,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||RG,c=v2(s),l=(s==null?void 0:s.prompt)||!1,g=(s==null?void 0:s.tag)||0,b=(s==null?void 0:s.id)||Of().toString(),x={topic:n,message:i,opts:{ttl:a,relay:c,prompt:l,tag:g,id:b,attestation:s==null?void 0:s.attestation}},_=`Failed to publish payload, please try again. id:${b} tag:${g}`,E=Date.now();let M,B=1;try{for(;M===void 0;){if(Date.now()-E>this.publishTimeout)throw new Error(_);this.logger.trace({id:b,attempts:B},`publisher.publish - attempt ${B}`),M=await await hd(this.rpcPublish(n,i,a,c,l,g,b,s==null?void 0:s.attestation).catch(P=>this.logger.warn(P)),this.publishTimeout,_),B++,M||await new Promise(P=>setTimeout(P,this.failedPublishTimeout))}this.relayer.events.emit(Di.publish,x),this.logger.debug("Successfully Published Payload"),this.logger.trace({type:"method",method:"publish",params:{id:b,topic:n,message:i,opts:s}})}catch(P){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(P),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw P;this.queue.set(b,x)}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.relayer=e,this.logger=ji(r,this.name),this.registerEventListeners()}get context(){return cs(this.logger)}rpcPublish(e,r,n,i,s,o,a,c){var l,g,b,x;const _={method:nh(i.protocol).publish,params:{topic:e,message:r,ttl:n,prompt:s,tag:o,attestation:c},id:a};return Zi((l=_.params)==null?void 0:l.prompt)&&((g=_.params)==null||delete g.prompt),Zi((b=_.params)==null?void 0:b.tag)&&((x=_.params)==null||delete x.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:_}),this.relayer.request(_)}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async e=>{const{topic:r,message:n,opts:i}=e;await this.publish(r,n,i)})}registerEventListeners(){this.relayer.core.heartbeat.on(il.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Di.connection_stalled);return}this.checkQueue()}),this.relayer.on(Di.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}class CJ{constructor(){this.map=new Map,this.set=(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])},this.get=e=>this.map.get(e)||[],this.exists=(e,r)=>this.get(e).includes(r),this.delete=(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)},this.clear=()=>{this.map.clear()}}get topics(){return Array.from(this.map.keys())}}var TJ=Object.defineProperty,NJ=Object.defineProperties,OJ=Object.getOwnPropertyDescriptors,A9=Object.getOwnPropertySymbols,BJ=Object.prototype.hasOwnProperty,DJ=Object.prototype.propertyIsEnumerable,I9=(t,e,r)=>e in t?TJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kl=(t,e)=>{for(var r in e||(e={}))BJ.call(e,r)&&I9(t,r,e[r]);if(A9)for(var r of A9(e))DJ.call(e,r)&&I9(t,r,e[r]);return t},gy=(t,e)=>NJ(t,OJ(e));class LJ extends LF{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,this.subscriptions=new Map,this.topicMap=new CJ,this.events=new Es.EventEmitter,this.name=$G,this.version=UG,this.pending=new Map,this.cached=[],this.initialized=!1,this.pendingSubscriptionWatchLabel="pending_sub_watch_label",this.pollingInterval=20,this.storagePrefix=fa,this.subscribeTimeout=ht.toMiliseconds(ht.ONE_MINUTE),this.restartInProgress=!1,this.batchSubscribeTopicsLimit=500,this.pendingBatchMessages=[],this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),this.clientId=await this.relayer.core.crypto.getClientId(),await this.restore()),this.initialized=!0},this.subscribe=async(n,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const s=v2(i),o={topic:n,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(n,o);const a=await this.rpcSubscribe(n,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}},this.unsubscribe=async(n,i)=>{await this.restartToComplete(),this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)},this.isSubscribed=async n=>{if(this.topics.includes(n))return!0;const i=`${this.pendingSubscriptionWatchLabel}_${n}`;return await new Promise((s,o)=>{const a=new ht.Watch;a.start(i);const c=setInterval(()=>{!this.pending.has(n)&&this.topics.includes(n)&&(clearInterval(c),a.stop(i),s(!0)),a.elapsed(i)>=zG&&(clearInterval(c),a.stop(i),o(new Error("Subscription resolution timeout")))},this.pollingInterval)}).catch(()=>!1)},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.start=async()=>{await this.onConnect()},this.stop=async()=>{await this.onDisconnect()},this.restart=async()=>{this.restartInProgress=!0,await this.restore(),await this.reset(),this.restartInProgress=!1},this.relayer=e,this.logger=ji(r,this.name),this.clientId=""}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}onEnable(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=v2(n);await this.rpcUnsubscribe(e,r,i);const s=Sr("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i;(n==null?void 0:n.transportType)===Nr.relay&&await this.restartToComplete();const s={method:nh(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;try{const a=Ra(e+this.clientId);if((n==null?void 0:n.transportType)===Nr.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(l=>this.logger.warn(l))},ht.toMiliseconds(ht.ONE_SECOND)),a;const c=await hd(this.relayer.request(s).catch(l=>this.logger.warn(l)),this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!c&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return c?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Di.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:nh(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{return await await hd(this.relayer.request(n).catch(i=>this.logger.warn(i)),this.subscribeTimeout)}catch{this.relayer.events.emit(Di.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:nh(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await hd(this.relayer.request(n).catch(s=>this.logger.warn(s)),this.subscribeTimeout)}catch{this.relayer.events.emit(Di.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:nh(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,gy(Kl({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Kl({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Kl({},r)),this.topicMap.set(r.topic,e),this.events.emit(Fo.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=ut("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(Fo.deleted,gy(Kl({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(Fo.sync)}async reset(){if(this.cached.length){const e=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<e;r++){const n=this.cached.splice(0,this.batchSubscribeTopicsLimit);await this.batchFetchMessages(n),await this.batchSubscribe(n)}}this.events.emit(Fo.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:r}=ut("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){if(!e.length)return;const r=await this.rpcBatchSubscribe(e);ll(r)&&this.onBatchSubscribe(r.map((n,i)=>gy(Kl({},e[i]),{id:n})))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(this.pendingBatchMessages=this.pendingBatchMessages.concat(r.messages))}async onConnect(){await this.restart(),this.onEnable()}onDisconnect(){this.onDisable()}async checkPending(){if(!this.initialized||!this.relayer.connected)return;const e=[];this.pending.forEach(r=>{e.push(r)}),await this.batchSubscribe(e),this.pendingBatchMessages.length&&(await this.relayer.handleBatchMessageEvents(this.pendingBatchMessages),this.pendingBatchMessages=[])}registerEventListeners(){this.relayer.core.heartbeat.on(il.pulse,async()=>{await this.checkPending()}),this.events.on(Fo.created,async e=>{const r=Fo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()}),this.events.on(Fo.deleted,async e=>{const r=Fo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),await this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(){!this.relayer.connected&&!this.relayer.connecting&&await this.relayer.transportOpen(),this.restartInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.restartInProgress||(clearInterval(r),e())},this.pollingInterval)})}}var $J=Object.defineProperty,M9=Object.getOwnPropertySymbols,UJ=Object.prototype.hasOwnProperty,zJ=Object.prototype.propertyIsEnumerable,P9=(t,e,r)=>e in t?$J(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,k9=(t,e)=>{for(var r in e||(e={}))UJ.call(e,r)&&P9(t,r,e[r]);if(M9)for(var r of M9(e))zJ.call(e,r)&&P9(t,r,e[r]);return t};class FJ extends BF{constructor(e){super(e),this.protocol="wc",this.version=2,this.events=new Es.EventEmitter,this.name=NG,this.transportExplicitlyClosed=!1,this.initialized=!1,this.connectionAttemptInProgress=!1,this.connectionStatusPollingInterval=20,this.staleConnectionErrors=["socket hang up","stalled","interrupted"],this.hasExperiencedNetworkDisruption=!1,this.requestsInFlight=new Map,this.heartBeatTimeout=ht.toMiliseconds(ht.THIRTY_SECONDS+ht.ONE_SECOND),this.request=async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Of().toString();await this.toEstablishConnection();try{const o=this.provider.request(r);this.requestsInFlight.set(s,{promise:o,request:r}),this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - attempt to publish...");const a=await new Promise(async(c,l)=>{const g=()=>{l(new Error(`relayer.request - publish interrupted, id: ${s}`))};this.provider.on(Ts.disconnect,g);const b=await o;this.provider.off(Ts.disconnect,g),c(b)});return this.logger.trace({id:s,method:r.method,topic:(i=r.params)==null?void 0:i.topic},"relayer.request - published"),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}finally{this.requestsInFlight.delete(s)}},this.resetPingTimeout=()=>{if(tg())try{clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i;(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null||i.terminate()},this.heartBeatTimeout)}catch(r){this.logger.warn(r)}},this.onPayloadHandler=r=>{this.onProviderPayload(r),this.resetPingTimeout()},this.onConnectHandler=()=>{this.logger.trace("relayer connected"),this.startPingTimeout(),this.events.emit(Di.connect)},this.onDisconnectHandler=()=>{this.logger.trace("relayer disconnected"),this.onProviderDisconnect()},this.onProviderErrorHandler=r=>{this.logger.error(r),this.events.emit(Di.error,r),this.logger.info("Fatal socket error received, closing transport"),this.transportClose()},this.registerProviderListeners=()=>{this.provider.on(Ts.payload,this.onPayloadHandler),this.provider.on(Ts.connect,this.onConnectHandler),this.provider.on(Ts.disconnect,this.onDisconnectHandler),this.provider.on(Ts.error,this.onProviderErrorHandler)},this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ji(e.logger,this.name):db(p6({level:e.logger||TG})),this.messages=new kJ(this.logger,e.core),this.subscriber=new LJ(this,this.logger),this.publisher=new RJ(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||OI,this.projectId=e.projectId,this.bundleId=WW(),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.cached.length>0)try{await this.transportOpen()}catch(e){this.logger.warn(e)}}get context(){return cs(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:Nr.relay})}async subscribe(e,r){var n,i,s;this.isInitialized(),(r==null?void 0:r.transportType)==="relay"&&await this.toEstablishConnection();const o=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=g=>{g.topic===e&&(this.subscriber.off(Fo.created,l),c())};return await Promise.all([new Promise(g=>{c=g,this.subscriber.on(Fo.created,l)}),new Promise(async(g,b)=>{a=await this.subscriber.subscribe(e,k9({internal:{throwOnFailedPublish:o}},r)).catch(x=>{o&&b(x)})||a,g()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){if(!this.hasExperiencedNetworkDisruption&&this.connected&&this.requestsInFlight.size>0)try{await Promise.all(Array.from(this.requestsInFlight.values()).map(e=>e.promise))}catch(e){this.logger.warn(e)}this.hasExperiencedNetworkDisruption||this.connected?await hd(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),await this.createProvider(),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;try{await new Promise(async(r,n)=>{const i=()=>{this.provider.off(Ts.disconnect,i),n(new Error("Connection interrupted while trying to subscribe"))};this.provider.on(Ts.disconnect,i),await hd(this.provider.connect(),ht.toMiliseconds(ht.ONE_MINUTE),`Socket stalled when trying to connect to ${this.relayUrl}`).catch(s=>{n(s)}).finally(()=>{clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0}),this.subscriber.start().catch(s=>{this.logger.error(s),this.onDisconnectHandler()}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){this.logger.error(r);const n=r;if(this.hasExperiencedNetworkDisruption=!0,!this.isConnectionStalled(n.message))throw r}finally{this.connectionAttemptInProgress=!1}}async restartTransport(e){this.connectionAttemptInProgress||(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await u9())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.trace(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Sn(ht.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Di.message,e),await this.recordMessageEvent(e)}startPingTimeout(){var e,r,n,i,s;if(tg())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.once("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o)}}isConnectionStalled(e){return this.staleConnectionErrors.some(r=>e.includes(r))}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new gG(new mG(YW({sdkVersion:x2,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId}))),this.registerProviderListeners()}async recordMessageEvent(e){const{topic:r,message:n}=e;await this.messages.set(r,n)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.debug(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isSubscribed(r))return this.logger.debug(`Ignoring message for non-subscribed topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.debug(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),U6(e)){if(!e.method.endsWith(OG))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:Nr.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(k9({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Pb(e)&&this.events.emit(Di.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(this.events.emit(Di.message,e),await this.recordMessageEvent(e))}async acknowledgePayload(e){const r=L6(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Ts.payload,this.onPayloadHandler),this.provider.off(Ts.connect,this.onConnectHandler),this.provider.off(Ts.disconnect,this.onDisconnectHandler),this.provider.off(Ts.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await u9();MV(async r=>{e!==r&&(e=r,r?await this.restartTransport().catch(n=>this.logger.error(n)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){await this.subscriber.stop(),this.requestsInFlight.clear(),clearTimeout(this.pingTimeout),this.events.emit(Di.disconnect),this.connectionAttemptInProgress=!1,!this.transportExplicitlyClosed&&(this.reconnectTimeout||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e))},ht.toMiliseconds(BG))))}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&(this.connectionAttemptInProgress&&await new Promise(e=>{const r=setInterval(()=>{this.connected&&(clearInterval(r),e())},this.connectionStatusPollingInterval)}),await this.transportOpen())}}var qJ=Object.defineProperty,R9=Object.getOwnPropertySymbols,KJ=Object.prototype.hasOwnProperty,jJ=Object.prototype.propertyIsEnumerable,C9=(t,e,r)=>e in t?qJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T9=(t,e)=>{for(var r in e||(e={}))KJ.call(e,r)&&C9(t,r,e[r]);if(R9)for(var r of R9(e))jJ.call(e,r)&&C9(t,r,e[r]);return t};class vu extends DF{constructor(e,r,n,i=fa,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,this.map=new Map,this.version=DG,this.cached=[],this.initialized=!1,this.storagePrefix=fa,this.recentlyDeleted=[],this.recentlyDeletedLimit=200,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Zi(o)?this.map.set(this.getKey(o),o):iV(o)?this.map.set(o.id,o):sV(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)},this.set=async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())},this.get=o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o)),this.getAll=o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>xG(a[c],o[c]))):this.values),this.update=async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=T9(T9({},this.getData(o)),a);this.map.set(o,c),await this.persist()},this.delete=async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())},this.logger=ji(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=ut("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=ut("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=ut("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}}class WJ{constructor(e,r){this.core=e,this.logger=r,this.name=FG,this.version=qG,this.events=new UE,this.initialized=!1,this.storagePrefix=fa,this.ignoredPayloadTypes=[ja],this.registeredMethods=[],this.init=async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))},this.register=({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]},this.create=async n=>{this.isInitialized();const i=b2(),s=await this.core.crypto.setSymKey(i),o=Sn(ht.FIVE_MINUTES),a={protocol:NI},c={topic:s,expiry:o,relay:a,active:!1,methods:n==null?void 0:n.methods},l=i9({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n==null?void 0:n.methods});return this.events.emit(Ef.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType}),{topic:s,uri:l}},this.pair=async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[$o.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=n9(n.uri);i.props.properties.topic=s,i.addTrace($o.pairing_uri_validation_success),i.addTrace($o.pairing_uri_not_expired);let g;if(this.pairings.keys.includes(s)){if(g=this.pairings.get(s),i.addTrace($o.existing_pairing),g.active)throw i.setError(Aa.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace($o.pairing_not_expired)}const b=c||Sn(ht.FIVE_MINUTES),x={topic:s,relay:a,expiry:b,active:!1,methods:l};this.core.expirer.set(s,b),await this.pairings.set(s,x),i.addTrace($o.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Ef.create,x),i.addTrace($o.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace($o.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Aa.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(_){throw i.setError(Aa.subscribe_pairing_topic_failure),_}return i.addTrace($o.subscribe_pairing_topic_success),x},this.activate=async({topic:n})=>{this.isInitialized();const i=Sn(ht.THIRTY_DAYS);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})},this.ping=async n=>{this.isInitialized(),await this.isValidPing(n);const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=Sf();this.events.once(tr("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}},this.updateExpiry=async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})},this.updateMetadata=async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})},this.getPairings=()=>(this.isInitialized(),this.pairings.values),this.disconnect=async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Sr("USER_DISCONNECTED")),await this.deletePairing(i))},this.formatUriFromPairing=n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return i9({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})},this.sendRequest=async(n,i,s)=>{const o=Bf(i,s),a=await this.core.crypto.encode(n,o),c=Fl[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id},this.sendResult=async(n,i,s)=>{const o=L6(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=Fl[c.request.method].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.sendError=async(n,i,s)=>{const o=$6(n,s),a=await this.core.crypto.encode(i,o),c=await this.core.history.get(i,n),l=Fl[c.request.method]?Fl[c.request.method].res:Fl.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)},this.deletePairing=async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Sr("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])},this.cleanup=async()=>{const n=this.pairings.getAll().filter(i=>yc(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))},this.onRelayEventRequest=n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return this.onPairingPingRequest(i,s);case"wc_pairingDelete":return this.onPairingDeleteRequest(i,s);default:return this.onUnknownRpcMethodRequest(i,s)}},this.onRelayEventResponse=async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}},this.onPairingPingRequest=async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Ef.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onPairingPingResponse=(n,i)=>{const{id:s}=i;setTimeout(()=>{zo(i)?this.events.emit(tr("pairing_ping",s),{}):Ds(i)&&this.events.emit(tr("pairing_ping",s),{error:i.error})},500)},this.onPairingDeleteRequest=async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Ef.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}},this.onUnknownRpcMethodRequest=async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Sr("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}},this.onUnknownRpcMethodResponse=n=>{this.registeredMethods.includes(n)||this.logger.error(Sr("WC_METHOD_UNSUPPORTED",n))},this.isValidPair=(n,i)=>{var s;if(!Vi(n)){const{message:a}=ut("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(Aa.malformed_pairing_uri),new Error(a)}if(!nV(n.uri)){const{message:a}=ut("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(Aa.malformed_pairing_uri),new Error(a)}const o=n9(n==null?void 0:n.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=ut("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Aa.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=ut("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Aa.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&ht.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Aa.pairing_expired);const{message:a}=ut("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}},this.isValidPing=async n=>{if(!Vi(n)){const{message:s}=ut("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidDisconnect=async n=>{if(!Vi(n)){const{message:s}=ut("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)},this.isValidPairingTopic=async n=>{if(!bn(n,!1)){const{message:i}=ut("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=ut("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(yc(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=ut("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}},this.core=e,this.logger=ji(r,this.name),this.pairings=new vu(this.core,this.logger,this.name,this.storagePrefix)}get context(){return cs(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Di.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(!this.pairings.keys.includes(r)||i===Nr.link_mode||this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))return;const s=await this.core.crypto.decode(r,n);try{U6(s)?(this.core.history.set(r,s),this.onRelayEventRequest({topic:r,payload:s})):Pb(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id))}catch(o){this.logger.error(o)}})}registerExpirerEvents(){this.core.expirer.on(Ns.expired,async e=>{const{topic:r}=gI(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Ef.expire,{topic:r}))})}}class HJ extends TF{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.records=new Map,this.events=new Es.EventEmitter,this.name=KG,this.version=jG,this.cached=[],this.initialized=!1,this.storagePrefix=fa,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.set=(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Sn(ht.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(uo.created,o)},this.resolve=async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Ds(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(uo.updated,i))},this.get=async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i)),this.delete=(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(uo.deleted,s)}}),this.persist()},this.exists=async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1),this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=ji(r,this.name)}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:Bf(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=ut("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(uo.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=ut("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(uo.created,e=>{const r=uo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(uo.updated,e=>{const r=uo.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(uo.deleted,e=>{const r=uo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(il.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{ht.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(uo.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}}class VJ extends $F{constructor(e,r){super(e,r),this.core=e,this.logger=r,this.expirations=new Map,this.events=new Es.EventEmitter,this.name=WG,this.version=HG,this.cached=[],this.initialized=!1,this.storagePrefix=fa,this.init=async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)},this.has=n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}},this.set=(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ns.created,{target:s,expiration:o})},this.get=n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)},this.del=n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ns.deleted,{target:i,expiration:s})}},this.on=(n,i)=>{this.events.on(n,i)},this.once=(n,i)=>{this.events.once(n,i)},this.off=(n,i)=>{this.events.off(n,i)},this.removeListener=(n,i)=>{this.events.removeListener(n,i)},this.logger=ji(r,this.name)}get context(){return cs(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return JW(e);if(typeof e=="number")return XW(e);const{message:r}=ut("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ns.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=ut("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=ut("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;ht.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Ns.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(il.pulse,()=>this.checkExpirations()),this.events.on(Ns.created,e=>{const r=Ns.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Ns.expired,e=>{const r=Ns.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Ns.deleted,e=>{const r=Ns.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}}class GJ extends UF{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,this.name=VG,this.verifyUrlV3=YG,this.storagePrefix=fa,this.version=TI,this.init=async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&ht.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))},this.register=async i=>{if(!I0()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=x0(),g=this.startAbortTimer(ht.ONE_SECOND*5),b=await new Promise((x,_)=>{const E=()=>{window.removeEventListener("message",B),l.body.removeChild(M),_("attestation aborted")};this.abortController.signal.addEventListener("abort",E);const M=l.createElement("iframe");M.src=c,M.style.display="none",M.addEventListener("error",E,{signal:this.abortController.signal});const B=P=>{if(P.data&&typeof P.data=="string")try{const R=JSON.parse(P.data);if(R.type==="verify_attestation"){if(c2(R.attestation).payload.id!==o)return;clearInterval(g),l.body.removeChild(M),this.abortController.signal.removeEventListener("abort",E),window.removeEventListener("message",B),x(R.attestation===null?"":R.attestation)}}catch(R){this.logger.warn(R)}};l.body.appendChild(M),window.addEventListener("message",B,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",b),b}catch(l){this.logger.warn(l)}return""},this.resolve=async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(c2(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)},this.fetchAttestation=async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(ht.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0},this.getVerifyUrl=i=>{let s=i||vh;return JG.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${vh}`),s=vh),s},this.fetchPublicKey=async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(ht.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}},this.persistPublicKey=async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i},this.removePublicKey=async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0},this.isValidJwtAttestation=async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}},this.getPublicKey=async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey(),this.fetchAndPersistPublicKey=async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i},this.validateAttestation=(i,s)=>{const o=$H(i,s.publicKey),a={hasExpired:ht.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}},this.logger=ji(r,this.name),this.abortController=new AbortController,this.isDevEnv=T6(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return cs(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),ht.toMiliseconds(e))}}class YJ extends zF{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,this.context=XG,this.registerDeviceToken=async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${ZG}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})},this.logger=ji(r,this.context)}}var JJ=Object.defineProperty,N9=Object.getOwnPropertySymbols,XJ=Object.prototype.hasOwnProperty,ZJ=Object.prototype.propertyIsEnumerable,O9=(t,e,r)=>e in t?JJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jl=(t,e)=>{for(var r in e||(e={}))XJ.call(e,r)&&O9(t,r,e[r]);if(N9)for(var r of N9(e))ZJ.call(e,r)&&O9(t,r,e[r]);return t};class QJ extends FF{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,this.context=eY,this.storagePrefix=fa,this.storageVersion=QG,this.events=new Map,this.shouldPersist=!1,this.init=async()=>{if(!T6())try{const i={eventId:W8(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:dI(this.core.relayer.protocol,this.core.relayer.version,x2)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}},this.createEvent=i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=W8(),g=this.core.projectId||"",b=Date.now(),x=jl({eventId:l,timestamp:b,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:g,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,x),this.shouldPersist=!0),x},this.getEvent=i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return jl(jl({},a),this.setMethods(a.eventId))},this.deleteEvent=i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0},this.setEventListeners=()=>{this.core.heartbeat.on(il.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{ht.fromMiliseconds(Date.now())-ht.fromMiliseconds(i.timestamp)>tY&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})},this.setMethods=i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)}),this.addTrace=(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)},this.setError=(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)},this.persist=async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1},this.restore=async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,jl(jl({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}},this.submit=async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}},this.sendEvent=async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${rY}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${x2}${s}`,{method:"POST",body:JSON.stringify(i)})},this.getAppDomain=()=>uI().url,this.logger=ji(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var eX=Object.defineProperty,B9=Object.getOwnPropertySymbols,tX=Object.prototype.hasOwnProperty,rX=Object.prototype.propertyIsEnumerable,D9=(t,e,r)=>e in t?eX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,L9=(t,e)=>{for(var r in e||(e={}))tX.call(e,r)&&D9(t,r,e[r]);if(B9)for(var r of B9(e))rX.call(e,r)&&D9(t,r,e[r]);return t};class F6 extends CF{constructor(e){var r;super(e),this.protocol=CI,this.version=TI,this.name=z6,this.events=new Es.EventEmitter,this.initialized=!1,this.on=(o,a)=>this.events.on(o,a),this.once=(o,a)=>this.events.once(o,a),this.off=(o,a)=>this.events.off(o,a),this.removeListener=(o,a)=>this.events.removeListener(o,a),this.dispatchEnvelope=({topic:o,message:a,sessionExists:c})=>{if(!o||!a)return;const l={topic:o,message:a,publishedAt:Date.now(),transportType:Nr.link_mode};this.relayer.onLinkMessageEvent(l,{sessionExists:c})},this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||OI,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const n=p6({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:_G.logger}),{logger:i,chunkLoggerController:s}=RF({opts:n,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=s,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,a;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((a=this.logChunkController)==null||a.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ji(i,this.name),this.heartbeat=new Ez,this.crypto=new PJ(this,this.logger,e==null?void 0:e.keychain),this.history=new HJ(this,this.logger),this.expirer=new VJ(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new rF(L9(L9({},SG),e==null?void 0:e.storageOptions)),this.relayer=new FJ({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new WJ(this,this.logger),this.verify=new GJ(this,this.logger,this.storage),this.echoClient=new YJ(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new QJ(this,this.logger,e==null?void 0:e.telemetryEnabled)}static async init(e){const r=new F6(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(LG,n),r}get context(){return cs(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(y9,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.eventClient.init(),this.linkModeSupportedApps=await this.storage.getItem(y9)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}}const nX=F6,HI="wc",VI=2,GI="client",q6=`${HI}@${VI}:${GI}:`,by={name:GI,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},$9="WALLETCONNECT_DEEPLINK_CHOICE",iX="proposal",sX="Proposal expired",oX="session",Cu=ht.SEVEN_DAYS,aX="engine",Cn={wc_sessionPropose:{req:{ttl:ht.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:1104},res:{ttl:ht.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:1106},res:{ttl:ht.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:ht.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:ht.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:1112},res:{ttl:ht.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:ht.ONE_DAY,prompt:!1,tag:1114},res:{ttl:ht.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:ht.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:ht.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:ht.FIVE_MINUTES,prompt:!1,tag:1119}}},vy={min:ht.FIVE_MINUTES,max:ht.SEVEN_DAYS},Bo={idle:"IDLE",active:"ACTIVE"},cX="request",fX=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],uX="wc",dX="auth",lX="authKeys",hX="pairingTopics",pX="requests",Rb=`${uX}@${1.5}:${dX}:`,n1=`${Rb}:PUB_KEY`;var gX=Object.defineProperty,bX=Object.defineProperties,vX=Object.getOwnPropertyDescriptors,U9=Object.getOwnPropertySymbols,yX=Object.prototype.hasOwnProperty,mX=Object.prototype.propertyIsEnumerable,z9=(t,e,r)=>e in t?gX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,an=(t,e)=>{for(var r in e||(e={}))yX.call(e,r)&&z9(t,r,e[r]);if(U9)for(var r of U9(e))mX.call(e,r)&&z9(t,r,e[r]);return t},ho=(t,e)=>bX(t,vX(e));class wX extends KF{constructor(e){super(e),this.name=aX,this.events=new UE,this.initialized=!1,this.requestQueue={state:Bo.idle,queue:[]},this.sessionRequestQueue={state:Bo.idle,queue:[]},this.requestQueueDelay=ht.ONE_SECOND,this.expectedPairingMethodMap=new Map,this.recentlyDeletedMap=new Map,this.recentlyDeletedLimit=200,this.relayMessageCache=[],this.init=async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Cn)}),this.initialized=!0,setTimeout(()=>{this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},ht.toMiliseconds(this.requestQueueDelay)))},this.connect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=ho(an({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,relays:c}=n;let l=i,g,b=!1;try{l&&(b=this.client.core.pairing.pairings.get(l).active)}catch(U){throw this.client.logger.error(`connect() -> pairing.get(${l}) failed`),U}if(!l||!b){const{topic:U,uri:F}=await this.client.core.pairing.create();l=U,g=F}if(!l){const{message:U}=ut("NO_MATCHING_KEY",`connect() pairing topic: ${l}`);throw new Error(U)}const x=await this.client.core.crypto.generateKeyPair(),_=Cn.wc_sessionPropose.req.ttl||ht.FIVE_MINUTES,E=Sn(_),M=an({requiredNamespaces:s,optionalNamespaces:o,relays:c??[{protocol:NI}],proposer:{publicKey:x,metadata:this.client.metadata},expiryTimestamp:E,pairingTopic:l},a&&{sessionProperties:a}),{reject:B,resolve:P,done:R}=Sf(_,sX);this.events.once(tr("session_connect"),async({error:U,session:F})=>{if(U)B(U);else if(F){F.self.publicKey=x;const W=ho(an({},F),{pairingTopic:M.pairingTopic,requiredNamespaces:M.requiredNamespaces,optionalNamespaces:M.optionalNamespaces,transportType:Nr.relay});await this.client.session.set(F.topic,W),await this.setExpiry(F.topic,F.expiry),l&&await this.client.core.pairing.updateMetadata({topic:l,metadata:F.peer.metadata}),this.cleanupDuplicatePairings(W),P(W)}});const D=await this.sendRequest({topic:l,method:"wc_sessionPropose",params:M,throwOnFailedPublish:!0});return await this.setProposal(D,an({id:D},M)),{uri:g,approval:R}},this.pair=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}},this.approve=async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[lo.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(K){throw o.setError(vf.no_internet_connection),K}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(K){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),o.setError(vf.proposal_not_found),K}try{await this.isValidApprove(r)}catch(K){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(vf.session_approve_namespace_validation_failure),K}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:g,sessionConfig:b}=r,x=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:_,proposer:E,requiredNamespaces:M,optionalNamespaces:B}=x;let P=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:_});P||(P=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:lo.session_approve_started,properties:{topic:_,trace:[lo.session_approve_started,lo.session_namespaces_validation_success]}}));const R=await this.client.core.crypto.generateKeyPair(),D=E.publicKey,U=await this.client.core.crypto.generateSharedKey(R,D),F=an(an({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:R,metadata:this.client.metadata},expiry:Sn(Cu)},g&&{sessionProperties:g}),b&&{sessionConfig:b}),W=Nr.relay;P.addTrace(lo.subscribing_session_topic);try{await this.client.core.relayer.subscribe(U,{transportType:W})}catch(K){throw P.setError(vf.subscribe_session_topic_failure),K}P.addTrace(lo.subscribe_session_topic_success);const k=ho(an({},F),{topic:U,requiredNamespaces:M,optionalNamespaces:B,pairingTopic:_,acknowledged:!1,self:F.controller,peer:{publicKey:E.publicKey,metadata:E.metadata},controller:R,transportType:Nr.relay});await this.client.session.set(U,k),P.addTrace(lo.store_session);try{P.addTrace(lo.publishing_session_settle),await this.sendRequest({topic:U,method:"wc_sessionSettle",params:F,throwOnFailedPublish:!0}).catch(K=>{throw P==null||P.setError(vf.session_settle_publish_failure),K}),P.addTrace(lo.session_settle_publish_success),P.addTrace(lo.publishing_session_approve),await this.sendResult({id:a,topic:_,result:{relay:{protocol:c??"irn"},responderPublicKey:R},throwOnFailedPublish:!0}).catch(K=>{throw P==null||P.setError(vf.session_approve_publish_failure),K}),P.addTrace(lo.session_approve_publish_success)}catch(K){throw this.client.logger.error(K),this.client.session.delete(U,Sr("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(U),K}return this.client.core.eventClient.deleteEvent({eventId:P.eventId}),await this.client.core.pairing.updateMetadata({topic:_,metadata:E.metadata}),await this.client.proposal.delete(a,Sr("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:_}),await this.setExpiry(U,Sn(Cu)),{topic:U,acknowledged:()=>Promise.resolve(this.client.session.get(U))}},this.reject=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&(await this.sendError({id:n,topic:s,error:i,rpcOpts:Cn.wc_sessionPropose.reject}),await this.client.proposal.delete(n,Sr("USER_DISCONNECTED")))},this.update=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(b){throw this.client.logger.error("update() -> isValidUpdate() failed"),b}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=Sf(),c=mc(),l=Of().toString(),g=this.client.session.get(n).namespaces;return this.events.once(tr("session_update",c),({error:b})=>{b?a(b):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(b=>{this.client.logger.error(b),this.client.session.update(n,{namespaces:g}),a(b)}),{acknowledged:s}},this.extend=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=mc(),{done:s,resolve:o,reject:a}=Sf();return this.events.once(tr("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Sn(Cu)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}},this.request=async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(E){throw this.client.logger.error("request() -> isValidRequest() failed"),E}const{chainId:n,request:i,topic:s,expiry:o=Cn.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);(a==null?void 0:a.transportType)===Nr.relay&&await this.confirmOnlineStateOrThrow();const c=mc(),l=Of().toString(),{done:g,resolve:b,reject:x}=Sf(o,"Request expired. Please try again.");this.events.once(tr("session_request",c),({error:E,result:M})=>{E?x(E):b(M)});const _=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);return _?(await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:"wc_sessionRequest",params:{request:ho(an({},i),{expiryTimestamp:Sn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:_}).catch(E=>x(E)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await g()):await Promise.all([new Promise(async E=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:"wc_sessionRequest",params:{request:ho(an({},i),{expiryTimestamp:Sn(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0}).catch(M=>x(M)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),E()}),new Promise(async E=>{var M;if(!((M=a.sessionConfig)!=null&&M.disableDeepLink)){const B=await tH(this.client.core.storage,$9);await QW({id:c,topic:s,wcDeepLink:B})}E()}),g()]).then(E=>E[2])},this.respond=async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===Nr.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);zo(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Ds(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)},this.ping=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=mc(),s=Of().toString(),{done:o,resolve:a,reject:c}=Sf();this.events.once(tr("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&await this.client.core.pairing.ping({topic:n})},this.emit=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Of().toString();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o})},this.disconnect=async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Sr("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=ut("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}},this.find=r=>(this.isInitialized(),this.client.session.getAll().filter(n=>tV(n,r))),this.getPendingSessionRequests=()=>this.client.pendingRequest.getAll(),this.authenticate=async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?Nr.link_mode:Nr.relay;o===Nr.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:g,nonce:b,type:x,exp:_,nbf:E,methods:M=[],expiry:B}=r,P=[...r.resources||[]],{topic:R,uri:D}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:R,uri:D}});const U=await this.client.core.crypto.generateKeyPair(),F=r1(U);if(await Promise.all([this.client.auth.authKeys.set(n1,{responseTopic:F,publicKey:U}),this.client.auth.pairingTopics.set(F,{topic:F,pairingTopic:R})]),await this.client.core.relayer.subscribe(F,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${R}`),M.length>0){const{namespace:S}=e1(a[0]);let y=_H(S,"request",M);t1(P)&&(y=EH(y,P.pop())),P.push(y)}const W=B&&B>Cn.wc_sessionAuthenticate.req.ttl?B:Cn.wc_sessionAuthenticate.req.ttl,k={authPayload:{type:x??"caip122",chains:a,statement:c,aud:l,domain:g,version:"1",nonce:b,iat:new Date().toISOString(),exp:_,nbf:E,resources:P},requester:{publicKey:U,metadata:this.client.metadata},expiryTimestamp:Sn(W)},K={eip155:{chains:a,methods:[...new Set(["personal_sign",...M])],events:["chainChanged","accountsChanged"]}},te={requiredNamespaces:{},optionalNamespaces:K,relays:[{protocol:"irn"}],pairingTopic:R,proposer:{publicKey:U,metadata:this.client.metadata},expiryTimestamp:Sn(Cn.wc_sessionPropose.req.ttl)},{done:ce,resolve:A,reject:f}=Sf(W,"Request expired"),h=async({error:S,session:y})=>{if(this.events.off(tr("session_request",p),d),S)f(S);else if(y){y.self.publicKey=U,await this.client.session.set(y.topic,y),await this.setExpiry(y.topic,y.expiry),R&&await this.client.core.pairing.updateMetadata({topic:R,metadata:y.peer.metadata});const u=this.client.session.get(y.topic);await this.deleteProposal(v),A({session:u})}},d=async S=>{var y,u,m;if(await this.deletePendingAuthRequest(p,{message:"fulfilled",code:0}),S.error){const X=Sr("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return S.error.code===X.code?void 0:(this.events.off(tr("session_connect"),h),f(S.error.message))}await this.deleteProposal(v),this.events.off(tr("session_connect"),h);const{cacaos:I,responder:$}=S.result,Z=[],O=[];for(const X of I){await G8({cacao:X,projectId:this.client.core.projectId})||(this.client.logger.error(X,"Signature verification failed"),f(Sr("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:J}=X,N=t1(J.resources),ee=[g2(J.iss)],se=rg(J.iss);if(N){const le=Y8(N),Ee=J8(N);Z.push(...le),ee.push(...Ee)}for(const le of ee)O.push(`${le}:${se}`)}const Q=await this.client.core.crypto.generateSharedKey(U,$.publicKey);let Y;Z.length>0&&(Y={topic:Q,acknowledged:!0,self:{publicKey:U,metadata:this.client.metadata},peer:$,controller:$.publicKey,expiry:Sn(Cu),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:R,namespaces:s9([...new Set(Z)],[...new Set(O)]),transportType:o},await this.client.core.relayer.subscribe(Q,{transportType:o}),await this.client.session.set(Q,Y),R&&await this.client.core.pairing.updateMetadata({topic:R,metadata:$.metadata}),Y=this.client.session.get(Q)),(y=this.client.metadata.redirect)!=null&&y.linkMode&&(u=$.metadata.redirect)!=null&&u.linkMode&&(m=$.metadata.redirect)!=null&&m.universal&&n&&(this.client.core.addLinkModeSupportedApp($.metadata.redirect.universal),this.client.session.update(Q,{transportType:Nr.link_mode})),A({auths:I,session:Y})},p=mc(),v=mc();this.events.once(tr("session_connect"),h),this.events.once(tr("session_request",p),d);let w;try{if(s){const S=Bf("wc_sessionAuthenticate",k,p);this.client.core.history.set(R,S);const y=await this.client.core.crypto.encode("",S,{type:k0,encoding:Ul});w=bp(n,R,y)}else await Promise.all([this.sendRequest({topic:R,method:"wc_sessionAuthenticate",params:k,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:p}),this.sendRequest({topic:R,method:"wc_sessionPropose",params:te,expiry:Cn.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:v})])}catch(S){throw this.events.off(tr("session_connect"),h),this.events.off(tr("session_request",p),d),S}return await this.setProposal(v,an({id:v},te)),await this.setAuthRequest(p,{request:ho(an({},k),{verifyContext:{}}),pairingTopic:R,transportType:o}),{uri:w??D,response:ce}},this.approveSessionAuthenticate=async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[yf.authenticated_session_approve_started]}});try{this.isInitialized()}catch(B){throw s.setError(ql.no_internet_connection),B}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(ql.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||Nr.relay;a===Nr.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),g=r1(c),b={type:ja,receiverPublicKey:c,senderPublicKey:l},x=[],_=[];for(const B of i){if(!await G8({cacao:B,projectId:this.client.core.projectId})){s.setError(ql.invalid_cacao);const F=Sr("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:g,error:F,encodeOpts:b}),new Error(F.message)}s.addTrace(yf.cacaos_verified);const{p:P}=B,R=t1(P.resources),D=[g2(P.iss)],U=rg(P.iss);if(R){const F=Y8(R),W=J8(R);x.push(...F),D.push(...W)}for(const F of D)_.push(`${F}:${U}`)}const E=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(yf.create_authenticated_session_topic);let M;if((x==null?void 0:x.length)>0){M={topic:E,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Sn(Cu),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:s9([...new Set(x)],[...new Set(_)]),transportType:a},s.addTrace(yf.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(E,{transportType:a})}catch(B){throw s.setError(ql.subscribe_authenticated_session_topic_failure),B}s.addTrace(yf.subscribe_authenticated_session_topic_success),await this.client.session.set(E,M),s.addTrace(yf.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(yf.publishing_authenticated_session_approve);try{await this.sendResult({topic:g,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:b,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(B){throw s.setError(ql.authenticated_session_approve_publish_failure),B}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:M}},this.rejectSessionAuthenticate=async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===Nr.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=r1(o),l={type:ja,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:Cn.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.client.proposal.delete(n,Sr("USER_DISCONNECTED"))},this.formatAuthMessage=r=>{this.isInitialized();const{request:n,iss:i}=r;return vI(n,i)},this.processRelayMessageCache=()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)},this.cleanupDuplicatePairings=async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}},this.deleteSession=async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Sr("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem($9).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Sr("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Bo.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})},this.deleteProposal=async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(vf.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Sr("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")},this.deletePendingSessionRequest=async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Bo.idle,this.client.events.emit("session_request_expire",{id:r}))},this.deletePendingAuthRequest=async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])},this.setExpiry=async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))},this.setProposal=async(r,n)=>{this.client.core.expirer.set(r,Sn(Cn.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)},this.setAuthRequest=async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=Nr.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})},this.setPendingSessionRequest=async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Sn(Cn.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})},this.sendRequest=async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:g}=r,b=Bf(i,s,c);let x;const _=!!g;try{const B=_?Ul:Cc;x=await this.client.core.crypto.encode(n,b,{encoding:B})}catch(B){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),B}let E;if(fX.includes(i)){const B=Ra(JSON.stringify(b)),P=Ra(x);E=await this.client.core.verify.register({id:P,decryptedId:B})}const M=Cn[i].req;if(M.attestation=E,o&&(M.ttl=o),a&&(M.id=a),this.client.core.history.set(n,b),_){const B=bp(g,n,x);await globalThis.Linking.openURL(B,this.client.name)}else{const B=Cn[i].req;o&&(B.ttl=o),a&&(B.id=a),l?(B.internal=ho(an({},B.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,x,B)):this.client.core.relayer.publish(n,x,B).catch(P=>this.client.logger.error(P))}return b.id},this.sendResult=async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=L6(n,s);let g;const b=c&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const _=b?Ul:Cc;g=await this.client.core.crypto.encode(i,l,ho(an({},a||{}),{encoding:_}))}catch(_){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),_}let x;try{x=await this.client.core.history.get(i,n)}catch(_){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),_}if(b){const _=bp(c,i,g);await globalThis.Linking.openURL(_,this.client.name)}else{const _=Cn[x.request.method].res;o?(_.internal=ho(an({},_.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,g,_)):this.client.core.relayer.publish(i,g,_).catch(E=>this.client.logger.error(E))}await this.client.core.history.resolve(l)},this.sendError=async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=$6(n,s);let g;const b=c&&typeof(globalThis==null?void 0:globalThis.Linking)<"u";try{const _=b?Ul:Cc;g=await this.client.core.crypto.encode(i,l,ho(an({},o||{}),{encoding:_}))}catch(_){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),_}let x;try{x=await this.client.core.history.get(i,n)}catch(_){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),_}if(b){const _=bp(c,i,g);await globalThis.Linking.openURL(_,this.client.name)}else{const _=a||Cn[x.request.method].res;this.client.core.relayer.publish(i,g,_)}await this.client.core.history.resolve(l)},this.cleanup=async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;yc(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{yc(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])},this.onRelayEventRequest=async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()},this.processRequestsQueue=async()=>{if(this.requestQueue.state===Bo.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Bo.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Bo.idle},this.processRequest=async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}},this.onRelayEventResponse=async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}},this.onRelayEventUnknownPayload=r=>{const{topic:n}=r,{message:i}=ut("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)},this.shouldIgnorePairingRequest=r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)},this.onSessionProposeRequest=async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.isValidConnect(an({},i.params));const g=a.expiryTimestamp||Sn(Cn.wc_sessionPropose.req.ttl),b=an({id:c,pairingTopic:n,expiryTimestamp:g},a);await this.setProposal(c,b);const x=await this.getVerifyContext({attestationId:s,hash:Ra(JSON.stringify(i)),encryptedId:o,metadata:b.proposer.metadata});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Aa.proposal_listener_not_found)),l==null||l.addTrace($o.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:b,verifyContext:x})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:Cn.wc_sessionPropose.autoReject}),this.client.logger.error(l)}},this.onSessionProposeResponse=async(r,n,i)=>{const{id:s}=n;if(zo(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const g=await this.client.core.crypto.generateSharedKey(c,l);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",sessionTopic:g});const b=await this.client.core.relayer.subscribe(g,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:b}),await this.client.core.pairing.activate({topic:r})}else if(Ds(n)){await this.client.proposal.delete(s,Sr("USER_DISCONNECTED"));const o=tr("session_connect");if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(tr("session_connect"),{error:n.error})}},this.onSessionSettleRequest=async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:g,sessionConfig:b}=n.params,x=ho(an(an({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:"",requiredNamespaces:{},optionalNamespaces:{},controller:a.publicKey,self:{publicKey:"",metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},g&&{sessionProperties:g}),b&&{sessionConfig:b}),{transportType:Nr.relay}),_=tr("session_connect");if(this.events.listenerCount(_)===0)throw new Error(`emitting ${_} without any listeners 997`);this.events.emit(tr("session_connect"),{session:x}),await this.sendResult({id:n.id,topic:r,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionSettleResponse=async(r,n)=>{const{id:i}=n;zo(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(tr("session_approve",i),{})):Ds(n)&&(await this.client.session.delete(r,Sr("USER_DISCONNECTED")),this.events.emit(tr("session_approve",i),{error:n.error}))},this.onSessionUpdateRequest=async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=zl.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.info(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Sr("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(an({topic:r},i));try{zl.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0,throwOnFailedPublish:!0})}catch(c){throw zl.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}},this.isRequestOutOfSync=(r,n)=>parseInt(n.toString().slice(0,-3))<=parseInt(r.toString().slice(0,-3)),this.onSessionUpdateResponse=(r,n)=>{const{id:i}=n,s=tr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);zo(n)?this.events.emit(tr("session_update",i),{}):Ds(n)&&this.events.emit(tr("session_update",i),{error:n.error})},this.onSessionExtendRequest=async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Sn(Cu)),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionExtendResponse=(r,n)=>{const{id:i}=n,s=tr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);zo(n)?this.events.emit(tr("session_extend",i),{}):Ds(n)&&this.events.emit(tr("session_extend",i),{error:n.error})},this.onSessionPingRequest=async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}},this.onSessionPingResponse=(r,n)=>{const{id:i}=n,s=tr("session_ping",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);setTimeout(()=>{zo(n)?this.events.emit(tr("session_ping",i),{}):Ds(n)&&this.events.emit(tr("session_ping",i),{error:n.error})},500)},this.onSessionDeleteRequest=async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(Di.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Sr("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}},this.onSessionRequest=async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:g}=r,{id:b,params:x}=a;try{await this.isValidRequest(an({topic:o},x));const _=this.client.session.get(o),E=await this.getVerifyContext({attestationId:c,hash:Ra(JSON.stringify(Bf("wc_sessionRequest",x,b))),encryptedId:l,metadata:_.peer.metadata,transportType:g}),M={id:b,topic:o,params:x,verifyContext:E};await this.setPendingSessionRequest(M),g===Nr.link_mode&&(n=_.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=_.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(M):(this.addSessionRequestToSessionRequestQueue(M),this.processSessionRequestQueue())}catch(_){await this.sendError({id:b,topic:o,error:_}),this.client.logger.error(_)}},this.onSessionRequestResponse=(r,n)=>{const{id:i}=n,s=tr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);zo(n)?this.events.emit(tr("session_request",i),{result:n.result}):Ds(n)&&this.events.emit(tr("session_request",i),{error:n.error})},this.onSessionEventRequest=async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=zl.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(an({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),zl.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}},this.onSessionAuthenticateResponse=(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),zo(n)?this.events.emit(tr("session_request",i),{result:n.result}):Ds(n)&&this.events.emit(tr("session_request",i),{error:n.error})},this.onSessionAuthenticateRequest=async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:g,expiryTimestamp:b}=s.params,x=await this.getVerifyContext({attestationId:o,hash:Ra(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),_={requester:l,pairingTopic:i,id:s.id,authPayload:g,verifyContext:x,expiryTimestamp:b};await this.setAuthRequest(s.id,{request:_,pairingTopic:i,transportType:c}),c===Nr.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:x})}catch(l){this.client.logger.error(l);const g=s.params.requester.publicKey,b=await this.client.core.crypto.generateKeyPair(),x=this.getAppLinkIfEnabled(s.params.requester.metadata,c),_={type:ja,receiverPublicKey:g,senderPublicKey:b};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:_,rpcOpts:Cn.wc_sessionAuthenticate.autoReject,appLink:x})}},this.addSessionRequestToSessionRequestQueue=r=>{this.sessionRequestQueue.queue.push(r)},this.cleanupAfterResponse=r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Bo.idle,this.processSessionRequestQueue()},ht.toMiliseconds(this.requestQueueDelay))},this.cleanupPendingSentRequestsForTopic=({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=tr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(tr("session_request",s.request.id),{error:n})})},this.processSessionRequestQueue=()=>{if(this.sessionRequestQueue.state===Bo.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Bo.active,this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}},this.emitSessionRequest=r=>{this.client.events.emit("session_request",r)},this.onPairingCreated=r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:Bf("wc_sessionPropose",{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties},n.id)})},this.isValidConnect=async r=>{if(!Vi(r)){const{message:c}=ut("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(c)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,relays:a}=r;if(Zi(n)||await this.isValidPairingTopic(n),!hV(a)){const{message:c}=ut("MISSING_OR_INVALID",`connect() relays: ${a}`);throw new Error(c)}!Zi(i)&&ng(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!Zi(s)&&ng(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Zi(o)||this.validateSessionProps(o,"sessionProperties")},this.validateNamespaces=(r,n)=>{const i=lV(r,"connect()",n);if(i)throw new Error(i.message)},this.isValidApprove=async r=>{if(!Vi(r))throw new Error(ut("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const a=this.client.proposal.get(n),c=ly(i,"approve()");if(c)throw new Error(c.message);const l=c9(a.requiredNamespaces,i,"approve()");if(l)throw new Error(l.message);if(!bn(s,!0)){const{message:g}=ut("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(g)}Zi(o)||this.validateSessionProps(o,"sessionProperties")},this.isValidReject=async r=>{if(!Vi(r)){const{message:s}=ut("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!gV(i)){const{message:s}=ut("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}},this.isValidSessionSettleRequest=r=>{if(!Vi(r)){const{message:l}=ut("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!AI(n)){const{message:l}=ut("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=oV(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=ly(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(yc(o)){const{message:l}=ut("EXPIRED","onSessionSettleRequest()");throw new Error(l)}},this.isValidUpdate=async r=>{if(!Vi(r)){const{message:c}=ut("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=ly(i,"update()");if(o)throw new Error(o.message);const a=c9(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)},this.isValidExtend=async r=>{if(!Vi(r)){const{message:i}=ut("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)},this.isValidRequest=async r=>{if(!Vi(r)){const{message:c}=ut("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!a9(a,s)){const{message:c}=ut("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!bV(i)){const{message:c}=ut("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!mV(a,s,i.method)){const{message:c}=ut("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!SV(o,vy)){const{message:c}=ut("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${vy.min} and ${vy.max}`);throw new Error(c)}},this.isValidRespond=async r=>{var n;if(!Vi(r)){const{message:o}=ut("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!vV(s)){const{message:o}=ut("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}},this.isValidPing=async r=>{if(!Vi(r)){const{message:i}=ut("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidEmit=async r=>{if(!Vi(r)){const{message:a}=ut("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!a9(o,s)){const{message:a}=ut("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!yV(i)){const{message:a}=ut("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!wV(o,s,i.name)){const{message:a}=ut("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}},this.isValidDisconnect=async r=>{if(!Vi(r)){const{message:i}=ut("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)},this.isValidAuthenticate=r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!bn(i,!1))throw new Error("uri is required parameter");if(!bn(s,!1))throw new Error("domain is required parameter");if(!bn(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>e1(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=e1(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")},this.getVerifyContext=async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||vh,validation:"UNKNOWN",origin:o.url||""}};try{if(a===Nr.link_mode){const g=this.getAppLinkIfEnabled(o,a);return c.verified.validation=g&&new URL(g).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c},this.validateSessionProps=(r,n)=>{Object.values(r).forEach(i=>{if(!bn(i,!1)){const{message:s}=ut("MISSING_OR_INVALID",`${n} must be in Record<string, string> format. Received: ${JSON.stringify(i)}`);throw new Error(s)}})},this.getPendingAuthRequest=r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0},this.addToRecentlyDeleted=(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}},this.checkRecentlyDeleted=r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=ut("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}},this.isLinkModeEnabled=(r,n)=>{var i,s,o,a,c,l,g,b,x;return!r||n!==Nr.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((g=r==null?void 0:r.redirect)==null?void 0:g.universal)!==void 0&&((b=r==null?void 0:r.redirect)==null?void 0:b.universal)!==""&&((x=r==null?void 0:r.redirect)==null?void 0:x.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(globalThis==null?void 0:globalThis.Linking)<"u"},this.getAppLinkIfEnabled=(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0},this.handleLinkModeMessage=({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=j8(r,"topic")||"",i=decodeURIComponent(j8(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:Nr.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})},this.registerLinkModeListeners=async()=>{var r;if(T6()||ul()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=globalThis==null?void 0:globalThis.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}}isInitialized(){if(!this.initialized){const{message:e}=ut("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Di.message,e=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(e):this.onRelayMessage(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(n1)?this.client.auth.authKeys.get(n1):{responseTopic:void 0,publicKey:void 0},a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===Nr.link_mode?Ul:Cc});try{U6(a)?(this.client.core.history.set(r,a),this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Ra(n)})):Pb(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s})}catch(c){this.client.logger.error(c)}}registerExpirerEvents(){this.client.core.expirer.on(Ns.expired,async e=>{const{topic:r,id:n}=gI(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,ut("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,ut("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Ef.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Ef.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!bn(e,!1)){const{message:r}=ut("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=ut("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(yc(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=ut("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!bn(e,!1)){const{message:r}=ut("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=ut("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(yc(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=ut("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=ut("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(bn(e,!1)){const{message:r}=ut("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=ut("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!pV(e)){const{message:r}=ut("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=ut("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(yc(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=ut("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class xX extends vu{constructor(e,r){super(e,r,iX,q6),this.core=e,this.logger=r}}class _X extends vu{constructor(e,r){super(e,r,oX,q6),this.core=e,this.logger=r}}class SX extends vu{constructor(e,r){super(e,r,cX,q6,n=>n.id),this.core=e,this.logger=r}}class EX extends vu{constructor(e,r){super(e,r,lX,Rb,()=>n1),this.core=e,this.logger=r}}class AX extends vu{constructor(e,r){super(e,r,hX,Rb),this.core=e,this.logger=r}}class IX extends vu{constructor(e,r){super(e,r,pX,Rb,n=>n.id),this.core=e,this.logger=r}}class MX{constructor(e,r){this.core=e,this.logger=r,this.authKeys=new EX(this.core,this.logger),this.pairingTopics=new AX(this.core,this.logger),this.requests=new IX(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}class K6 extends qF{constructor(e){super(e),this.protocol=HI,this.version=VI,this.name=by.name,this.events=new Es.EventEmitter,this.on=(n,i)=>this.events.on(n,i),this.once=(n,i)=>this.events.once(n,i),this.off=(n,i)=>this.events.off(n,i),this.removeListener=(n,i)=>this.events.removeListener(n,i),this.removeAllListeners=n=>this.events.removeAllListeners(n),this.connect=async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}},this.pair=async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}},this.approve=async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}},this.reject=async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}},this.update=async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}},this.extend=async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}},this.request=async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}},this.respond=async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}},this.ping=async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}},this.emit=async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}},this.disconnect=async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}},this.find=n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}},this.getPendingSessionRequests=()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}},this.authenticate=async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}},this.formatAuthMessage=n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}},this.approveSessionAuthenticate=async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.rejectSessionAuthenticate=async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}},this.name=(e==null?void 0:e.name)||by.name,this.metadata=(e==null?void 0:e.metadata)||uI(),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:db(p6({level:(e==null?void 0:e.logger)||by.logger}));this.core=(e==null?void 0:e.core)||new nX(e),this.logger=ji(r,this.name),this.session=new _X(this.core,this.logger),this.proposal=new xX(this.core,this.logger),this.pendingRequest=new SX(this.core,this.logger),this.engine=new wX(this),this.auth=new MX(this.core,this.logger)}static async init(e){const r=new K6(e);return await r.initialize(),r}get context(){return cs(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),this.engine.processRelayMessageCache()}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}}function PX(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function g(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var E=0,M=0,B=0,P=_.length;B!==P&&_[B]===0;)B++,E++;for(var R=(P-B)*l+1>>>0,D=new Uint8Array(R);B!==P;){for(var U=_[B],F=0,W=R-1;(U!==0||F<M)&&W!==-1;W--,F++)U+=256*D[W]>>>0,D[W]=U%o>>>0,U=U/o>>>0;if(U!==0)throw new Error("Non-zero carry");M=F,B++}for(var k=R-M;k!==R&&D[k]===0;)k++;for(var K=a.repeat(E);k<R;++k)K+=t.charAt(D[k]);return K}function b(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;for(var E=0,M=0,B=0;_[E]===a;)M++,E++;for(var P=(_.length-E)*c+1>>>0,R=new Uint8Array(P);_[E];){var D=e[_.charCodeAt(E)];if(D===255)return;for(var U=0,F=P-1;(D!==0||U<B)&&F!==-1;F--,U++)D+=o*R[F]>>>0,R[F]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");B=U,E++}for(var W=P-B;W!==P&&R[W]===0;)W++;for(var k=new Uint8Array(M+(P-W)),K=M;W!==P;)k[K++]=R[W++];return k}function x(_){var E=b(_);if(E)return E;throw new Error("Non-base"+o+" character")}return{encode:g,decodeUnsafe:b,decode:x}}var kX=PX;const RX=kX,CX="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var TX=RX(CX);const Wa=ci(TX);function NX({getAccounts:t,getPrivateKey:e,getPublicKey:r,processEthSignMessage:n,processPersonalMessage:i,processTransaction:s,processSignTransaction:o,processTypedMessageV4:a}){if(!t)throw new Error("opts.getAccounts is required");async function c(P,R){if(typeof P=="string"&&P.length>0){const U=(await t(R)).map(W=>W.toLowerCase()),F=P.toLowerCase();if(U.includes(F))return F}throw qt.invalidParams({message:"Invalid parameters: must provide an Ethereum address."})}async function l(P,R){R.result=await t(P)}async function g(P,R){if(!s)throw qt.methodNotSupported();const D=P.params[0]||{from:""};D.from=await c(D.from,P),R.result=await s(D,P)}async function b(P,R){if(!o)throw qt.methodNotSupported();const D=P.params[0]||{from:""};D.from=await c(D.from,P),R.result=await o(D,P)}async function x(P,R){if(!n)throw qt.methodNotSupported();let D=P.params;const U=P.params[2]||{};if(Array.isArray(P.params)){if(P.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${P.method} method. expected [address, message]`);const F=P.params,W=F[0],k=F[1];D={from:W,data:k}}D=He(He({},U),D),R.result=await n(D,P)}async function _(P,R){if(!a)throw qt.methodNotSupported();if(!(P!=null&&P.params))throw new Error("WalletMiddleware - missing params");let D=P.params;if(Array.isArray(P.params)){if(P.params.length!==2)throw new Error(`WalletMiddleware - incorrect params for ${P.method} method. expected [address, typedData]`);const U=P.params,F=U[0],W=U[1];D={from:F,data:W}}R.result=await a(D,P)}async function E(P,R){if(!i)throw qt.methodNotSupported();let D=P.params;const U=P.params[2]||{};if(Array.isArray(P.params)){if(!(P.params.length>=2))throw new Error(`WalletMiddleware - incorrect params for ${P.method} method. expected [message, address]`);const F=P.params;if(typeof F[0]=="object"){const{challenge:W,address:k}=F[0];D={from:k,data:W}}else{const W=F[0];D={from:F[1],data:W}}}D=He(He({},U),D),R.result=await i(D,P)}async function M(P,R){if(!e)throw qt.methodNotSupported();R.result=e(P)}async function B(P,R){if(!r)throw qt.methodNotSupported();R.result=r(P)}return c6({eth_accounts:Ai(l),eth_private_key:Ai(M),eth_public_key:Ai(B),public_key:Ai(B),private_key:Ai(M),eth_sendTransaction:Ai(g),eth_signTransaction:Ai(b),eth_sign:Ai(x),eth_signTypedData_v4:Ai(_),personal_sign:Ai(E)})}function OX(t){const{getAccounts:e,getPrivateKey:r,getPublicKey:n,processTransaction:i,processSignTransaction:s,processEthSignMessage:o,processTypedMessageV4:a,processPersonalMessage:c}=t;return rf([c6({eth_syncing:!1}),NX({getAccounts:e,getPrivateKey:r,getPublicKey:n,processTransaction:i,processEthSignMessage:o,processSignTransaction:s,processTypedMessageV4:a,processPersonalMessage:c})])}function BX({addChain:t,switchChain:e}){async function r(i,s){var o;const a=(o=i.params)!==null&&o!==void 0&&o.length?i.params[0]:void 0;if(!a)throw qt.invalidParams("Missing chain params");if(!a.chainId)throw qt.invalidParams("Missing chainId in chainParams");if(!a.rpcUrls||a.rpcUrls.length===0)throw qt.invalidParams("Missing rpcUrls in chainParams");if(!a.nativeCurrency)throw qt.invalidParams("Missing nativeCurrency in chainParams");s.result=await t(a)}async function n(i,s){var o;const a=(o=i.params)!==null&&o!==void 0&&o.length?i.params[0]:void 0;if(!a)throw qt.invalidParams("Missing chainId");s.result=await e(a)}return c6({wallet_addEthereumChain:Ai(r),wallet_switchEthereumChain:Ai(n)})}function DX(t){return(e,r,n,i)=>e.method==="eth_chainId"?(r.result=t,i()):n()}function LX(t){return(e,r,n,i)=>e.method==="eth_provider_config"?(r.result=t,i()):n()}function $X(t){const{chainId:e,rpcTarget:r}=t,n=f6({rpcTarget:r});return{networkMiddleware:rf([DX(e),LX(t),n]),fetchMiddleware:n}}const UX="modulepreload",zX=function(t){return"/"+t},F9={},YI=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(c=>{if(c=zX(c),c in F9)return;F9[c]=!0;const l=c.endsWith(".css"),g=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${g}`))return;const b=document.createElement("link");if(b.rel=l?"stylesheet":UX,l||(b.as="script"),b.crossOrigin="",b.href=c,a&&b.setAttribute("nonce",a),document.head.appendChild(b),l)return new Promise((x,_)=>{b.addEventListener("load",x),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};class _a{constructor(e){Oe(this,"provider",void 0),this.provider=e}async requestAccounts(){return await this.provider.request({method:"requestAccounts"})}async signAndSendTransaction(e){const{signature:r}=await this.provider.request({method:"signAndSendTransaction",params:{message:e}});return{signature:r}}async signTransaction(e){return await this.provider.request({method:"signTransaction",params:{message:e}})}async signAllTransactions(e){return await this.provider.request({method:"signAllTransactions",params:{message:e}})}async signMessage(e){return await this.provider.request({method:"signMessage",params:{message:e}})}async request(e){return await this.provider.request(e)}}function FX({getAccounts:t}){return Ai(async(e,r,n)=>{const{method:i}=e;if(i!=="getAccounts")return n();if(!t)throw new Error("WalletMiddleware - opts.getAccounts not provided");const s=await t(e);r.result=s})}function qX({requestAccounts:t}){return Ai(async(e,r,n)=>{const{method:i}=e;if(i!=="requestAccounts")return n();if(!t)throw new Error("WalletMiddleware - opts.requestAccounts not provided");const s=await t(e);r.result=s})}function Bs(t,e){return Ai(async(r,n,i)=>{const{method:s}=r;if(s!==t)return i();if(!e)throw new Error(`WalletMiddleware - ${t} not provided`);const o=await e(r);n.result=o})}function j6(t){const{getAccounts:e,requestAccounts:r,signTransaction:n,signAndSendTransaction:i,signAllTransactions:s,signMessage:o,getPrivateKey:a,getSecretKey:c,getPublicKey:l}=t;return rf([qX({requestAccounts:r}),FX({getAccounts:e}),Bs("signTransaction",n),Bs("signAndSendTransaction",i),Bs("signAllTransactions",s),Bs("signMessage",o),Bs("solanaPrivateKey",a),Bs("private_key",a),Bs("public_key",l),Bs("solanaPublicKey",l),Bs("solanaSecretKey",c)])}function KX({addNewChainConfig:t,switchSolanaChain:e}){return rf([Bs("addSolanaChain",t),Bs("switchSolanaChain",e)])}function jX({updatePrivatekey:t}){return rf([Bs("updateAccount",t)])}function WX(t){return(e,r,n,i)=>e.method==="solana_chainId"?(r.result=t,i()):n()}function HX(t){return(e,r,n,i)=>e.method==="solana_provider_config"?(r.result=t,i()):n()}function JI(t){const{chainId:e}=t;return rf([WX(e),HX(t)])}function XI(t){const{rpcTarget:e}=t,r=f6({rpcTarget:e});return{networkMiddleware:rf([JI(t),r]),fetchMiddleware:r}}class VX extends cb{constructor({config:e,state:r}){super({config:e,state:r})}async switchChain(e){throw zt.unsupportedOperation("Chain switching is not supported by this adapter")}async setupProvider(e){const r=new Gi,n=this.getProviderHandlers(e),i=j6(n);r.push(i);const s=JI(this.config.chainConfig);r.push(s);const o=this.getInjectedProviderProxy(e);o&&r.push(o);const a=Fh(r);this.updateProviderEngineProxy(a),await this.lookupNetwork()}async lookupNetwork(){const{chainConfig:e}=this.config;return this.update({chainId:e.chainId}),e.chainId||""}getInjectedProviderProxy(e){}}const GX=t=>({requestAccounts:async()=>t.publicKey?[Wa.encode(t.publicKey.toBytes())]:[],getPublicKey:async()=>t.publicKey?Wa.encode(t.publicKey.toBytes()):"",getAccounts:async()=>t.publicKey?[Wa.encode(t.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw qt.methodNotSupported()},getSecretKey:async()=>{throw qt.methodNotSupported()},signTransaction:async r=>await t.signTransaction(r.params.message),signMessage:async r=>(await t.signMessage(r.params.message,r.params.display)).signature,signAllTransactions:async r=>{var n,i;if(!((n=r.params)!==null&&n!==void 0&&n.message)||!((i=r.params)!==null&&i!==void 0&&i.message.length))throw qt.invalidParams("message");return await t.signAllTransactions(r.params.message)},signAndSendTransaction:async r=>({signature:(await t.signAndSendTransaction(r.params.message)).signature})});class YX extends VX{getProviderHandlers(e){return GX(e)}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W6=BigInt(0),Cb=BigInt(1),JX=BigInt(2);function nu(t){return t instanceof Uint8Array||t!=null&&typeof t=="object"&&t.constructor.name==="Uint8Array"}function C0(t){if(!nu(t))throw new Error("Uint8Array expected")}function Ha(t,e){if(typeof e!="boolean")throw new Error(`${t} must be valid boolean, got "${e}".`)}const XX=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function iu(t){C0(t);let e="";for(let r=0;r<t.length;r++)e+=XX[t[r]];return e}function Xu(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function H6(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}const Sa={_0:48,_9:57,_A:65,_F:70,_a:97,_f:102};function q9(t){if(t>=Sa._0&&t<=Sa._9)return t-Sa._0;if(t>=Sa._A&&t<=Sa._F)return t-(Sa._A-10);if(t>=Sa._a&&t<=Sa._f)return t-(Sa._a-10)}function Bd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=q9(t.charCodeAt(s)),a=q9(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Wf(t){return H6(iu(t))}function pd(t){return C0(t),H6(iu(Uint8Array.from(t).reverse()))}function Dd(t,e){return Bd(t.toString(16).padStart(e*2,"0"))}function Jh(t,e){return Dd(t,e).reverse()}function ZX(t){return Bd(Xu(t))}function An(t,e,r){let n;if(typeof e=="string")try{n=Bd(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(nu(e))n=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(`${t} expected ${r} bytes, got ${i}`);return n}function su(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];C0(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}function QX(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}function eZ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}const yy=t=>typeof t=="bigint"&&W6<=t;function Tb(t,e,r){return yy(t)&&yy(e)&&yy(r)&&e<=t&&t<r}function qs(t,e,r,n){if(!Tb(e,r,n))throw new Error(`expected valid ${t}: ${r} <= n < ${n}, got ${typeof e} ${e}`)}function ZI(t){let e;for(e=0;t>W6;t>>=Cb,e+=1);return e}function tZ(t,e){return t>>BigInt(e)&Cb}function rZ(t,e,r){return t|(r?Cb:W6)<<BigInt(e)}const V6=t=>(JX<<BigInt(t-1))-Cb,my=t=>new Uint8Array(t),K9=t=>Uint8Array.from(t);function QI(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=my(t),i=my(t),s=0;const o=()=>{n.fill(1),i.fill(0),s=0},a=(...b)=>r(i,n,...b),c=(b=my())=>{i=a(K9([0]),b),n=a(),b.length!==0&&(i=a(K9([1]),b),n=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let b=0;const x=[];for(;b<e;){n=a();const _=n.slice();x.push(_),b+=n.length}return su(...x)};return(b,x)=>{o(),c(b);let _;for(;!(_=x(l()));)c();return o(),_}}const nZ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||nu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function hl(t,e,r={}){const n=(i,s,o)=>{const a=nZ[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}const iZ=()=>{throw new Error("not implemented")};function Xh(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const sZ=Object.freeze(Object.defineProperty({__proto__:null,aInRange:qs,abool:Ha,abytes:C0,bitGet:tZ,bitLen:ZI,bitMask:V6,bitSet:rZ,bytesToHex:iu,bytesToNumberBE:Wf,bytesToNumberLE:pd,concatBytes:su,createHmacDrbg:QI,ensureBytes:An,equalBytes:QX,hexToBytes:Bd,hexToNumber:H6,inRange:Tb,isBytes:nu,memoized:Xh,notImplemented:iZ,numberToBytesBE:Dd,numberToBytesLE:Jh,numberToHexUnpadded:Xu,numberToVarBytesBE:ZX,utf8ToBytes:eZ,validateObject:hl},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Un=BigInt(0),tn=BigInt(1),Af=BigInt(2),oZ=BigInt(3),E2=BigInt(4),j9=BigInt(5),W9=BigInt(8);BigInt(9);BigInt(16);function Jr(t,e){const r=t%e;return r>=Un?r:e+r}function aZ(t,e,r){if(r<=Un||e<Un)throw new Error("Expected power/modulo > 0");if(r===tn)return Un;let n=tn;for(;e>Un;)e&tn&&(n=n*t%r),t=t*t%r,e>>=tn;return n}function cn(t,e,r){let n=t;for(;e-- >Un;)n*=n,n%=r;return n}function A2(t,e){if(t===Un||e<=Un)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let r=Jr(t,e),n=e,i=Un,s=tn;for(;r!==Un;){const a=n/r,c=n%r,l=i-s*a;n=r,r=c,i=s,s=l}if(n!==tn)throw new Error("invert: does not exist");return Jr(i,e)}function cZ(t){const e=(t-tn)/Af;let r,n,i;for(r=t-tn,n=0;r%Af===Un;r/=Af,n++);for(i=Af;i<t&&aZ(i,e,t)!==t-tn;i++);if(n===1){const o=(t+tn)/E2;return function(c,l){const g=c.pow(l,o);if(!c.eql(c.sqr(g),l))throw new Error("Cannot find square root");return g}}const s=(r+tn)/Af;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,g=a.pow(a.mul(a.ONE,i),r),b=a.pow(c,s),x=a.pow(c,r);for(;!a.eql(x,a.ONE);){if(a.eql(x,a.ZERO))return a.ZERO;let _=1;for(let M=a.sqr(x);_<l&&!a.eql(M,a.ONE);_++)M=a.sqr(M);const E=a.pow(g,tn<<BigInt(l-_-1));g=a.sqr(E),b=a.mul(b,E),x=a.mul(x,g),l=_}return b}}function fZ(t){if(t%E2===oZ){const e=(t+tn)/E2;return function(n,i){const s=n.pow(i,e);if(!n.eql(n.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%W9===j9){const e=(t-j9)/W9;return function(n,i){const s=n.mul(i,Af),o=n.pow(s,e),a=n.mul(i,o),c=n.mul(n.mul(a,Af),o),l=n.mul(a,n.sub(c,n.ONE));if(!n.eql(n.sqr(l),i))throw new Error("Cannot find square root");return l}}return cZ(t)}const uZ=(t,e)=>(Jr(t,e)&tn)===tn,dZ=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function lZ(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=dZ.reduce((n,i)=>(n[i]="function",n),e);return hl(t,r)}function hZ(t,e,r){if(r<Un)throw new Error("Expected power > 0");if(r===Un)return t.ONE;if(r===tn)return e;let n=t.ONE,i=e;for(;r>Un;)r&tn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=tn;return n}function pZ(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function eM(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Nb(t,e,r=!1,n={}){if(t<=Un)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=eM(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=fZ(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:V6(i),ZERO:Un,ONE:tn,create:c=>Jr(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return Un<=c&&c<t},is0:c=>c===Un,isOdd:c=>(c&tn)===tn,neg:c=>Jr(-c,t),eql:(c,l)=>c===l,sqr:c=>Jr(c*c,t),add:(c,l)=>Jr(c+l,t),sub:(c,l)=>Jr(c-l,t),mul:(c,l)=>Jr(c*l,t),pow:(c,l)=>hZ(a,c,l),div:(c,l)=>Jr(c*A2(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>A2(c,t),sqrt:n.sqrt||(c=>o(a,c)),invertBatch:c=>pZ(a,c),cmov:(c,l,g)=>g?l:c,toBytes:c=>r?Jh(c,s):Dd(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return r?pd(c):Wf(c)}});return Object.freeze(a)}function tM(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function rM(t){const e=tM(t);return e+Math.ceil(e/2)}function gZ(t,e,r=!1){const n=t.length,i=tM(e),s=rM(e);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);const o=r?Wf(t):pd(t),a=Jr(o,e-tn)+tn;return r?Jh(a,i):Dd(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const bZ=BigInt(0),wy=BigInt(1),xy=new WeakMap,H9=new WeakMap;function nM(t,e){const r=(s,o)=>{const a=o.negate();return s?a:o},n=s=>{if(!Number.isSafeInteger(s)||s<=0||s>e)throw new Error(`Wrong window size=${s}, should be [1..${e}]`)},i=s=>{n(s);const o=Math.ceil(e/s)+1,a=2**(s-1);return{windows:o,windowSize:a}};return{constTimeNegate:r,unsafeLadder(s,o){let a=t.ZERO,c=s;for(;o>bZ;)o&wy&&(a=a.add(c)),c=c.double(),o>>=wy;return a},precomputeWindow(s,o){const{windows:a,windowSize:c}=i(o),l=[];let g=s,b=g;for(let x=0;x<a;x++){b=g,l.push(b);for(let _=1;_<c;_++)b=b.add(g),l.push(b);g=b.double()}return l},wNAF(s,o,a){const{windows:c,windowSize:l}=i(s);let g=t.ZERO,b=t.BASE;const x=BigInt(2**s-1),_=2**s,E=BigInt(s);for(let M=0;M<c;M++){const B=M*l;let P=Number(a&x);a>>=E,P>l&&(P-=_,a+=wy);const R=B,D=B+Math.abs(P)-1,U=M%2!==0,F=P<0;P===0?b=b.add(r(U,o[R])):g=g.add(r(F,o[D]))}return{p:g,f:b}},wNAFCached(s,o,a){const c=H9.get(s)||1;let l=xy.get(s);return l||(l=this.precomputeWindow(s,c),c!==1&&xy.set(s,a(l))),this.wNAF(c,l,o)},setWindowSize(s,o){n(o),H9.set(s,o),xy.delete(s)}}}function iM(t,e,r,n){if(!Array.isArray(r)||!Array.isArray(n)||n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");n.forEach((g,b)=>{if(!e.isValid(g))throw new Error(`wrong scalar at index ${b}`)}),r.forEach((g,b)=>{if(!(g instanceof t))throw new Error(`wrong point at index ${b}`)});const i=ZI(BigInt(r.length)),s=i>12?i-3:i>4?i-2:i?2:1,o=(1<<s)-1,a=new Array(o+1).fill(t.ZERO),c=Math.floor((e.BITS-1)/s)*s;let l=t.ZERO;for(let g=c;g>=0;g-=s){a.fill(t.ZERO);for(let x=0;x<n.length;x++){const _=n[x],E=Number(_>>BigInt(g)&BigInt(o));a[E]=a[E].add(r[x])}let b=t.ZERO;for(let x=a.length-1,_=t.ZERO;x>0;x--)_=_.add(a[x]),b=b.add(_);if(l=l.add(b),g!==0)for(let x=0;x<s;x++)l=l.double()}return l}function G6(t){return lZ(t.Fp),hl(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...eM(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const po=BigInt(0),Wi=BigInt(1),vp=BigInt(2),vZ=BigInt(8),yZ={zip215:!0};function mZ(t){const e=G6(t);return hl(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function wZ(t){const e=mZ(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=vp<<BigInt(a*8)-Wi,g=r.create,b=Nb(e.n,e.nBitLength),x=e.uvRatio||((v,w)=>{try{return{isValid:!0,value:r.sqrt(v*r.inv(w))}}catch{return{isValid:!1,value:po}}}),_=e.adjustScalarBytes||(v=>v),E=e.domain||((v,w,S)=>{if(Ha("phflag",S),w.length||S)throw new Error("Contexts/pre-hash are not supported");return v});function M(v,w){qs("coordinate "+v,w,po,l)}function B(v){if(!(v instanceof D))throw new Error("ExtendedPoint expected")}const P=Xh((v,w)=>{const{ex:S,ey:y,ez:u}=v,m=v.is0();w==null&&(w=m?vZ:r.inv(u));const I=g(S*w),$=g(y*w),Z=g(u*w);if(m)return{x:po,y:Wi};if(Z!==Wi)throw new Error("invZ was invalid");return{x:I,y:$}}),R=Xh(v=>{const{a:w,d:S}=e;if(v.is0())throw new Error("bad point: ZERO");const{ex:y,ey:u,ez:m,et:I}=v,$=g(y*y),Z=g(u*u),O=g(m*m),Q=g(O*O),Y=g($*w),X=g(O*g(Y+Z)),J=g(Q+g(S*g($*Z)));if(X!==J)throw new Error("bad point: equation left != right (1)");const N=g(y*u),ee=g(m*I);if(N!==ee)throw new Error("bad point: equation left != right (2)");return!0});class D{constructor(w,S,y,u){this.ex=w,this.ey=S,this.ez=y,this.et=u,M("x",w),M("y",S),M("z",y),M("t",u),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(w){if(w instanceof D)throw new Error("extended point not allowed");const{x:S,y}=w||{};return M("x",S),M("y",y),new D(S,y,Wi,g(S*y))}static normalizeZ(w){const S=r.invertBatch(w.map(y=>y.ez));return w.map((y,u)=>y.toAffine(S[u])).map(D.fromAffine)}static msm(w,S){return iM(D,b,w,S)}_setWindowSize(w){W.setWindowSize(this,w)}assertValidity(){R(this)}equals(w){B(w);const{ex:S,ey:y,ez:u}=this,{ex:m,ey:I,ez:$}=w,Z=g(S*$),O=g(m*u),Q=g(y*$),Y=g(I*u);return Z===O&&Q===Y}is0(){return this.equals(D.ZERO)}negate(){return new D(g(-this.ex),this.ey,this.ez,g(-this.et))}double(){const{a:w}=e,{ex:S,ey:y,ez:u}=this,m=g(S*S),I=g(y*y),$=g(vp*g(u*u)),Z=g(w*m),O=S+y,Q=g(g(O*O)-m-I),Y=Z+I,X=Y-$,J=Z-I,N=g(Q*X),ee=g(Y*J),se=g(Q*J),le=g(X*Y);return new D(N,ee,le,se)}add(w){B(w);const{a:S,d:y}=e,{ex:u,ey:m,ez:I,et:$}=this,{ex:Z,ey:O,ez:Q,et:Y}=w;if(S===BigInt(-1)){const dt=g((m-u)*(O+Z)),_e=g((m+u)*(O-Z)),Ae=g(_e-dt);if(Ae===po)return this.double();const ot=g(I*vp*Y),xe=g($*vp*Q),Ie=xe+ot,it=_e+dt,q=xe-ot,T=g(Ie*Ae),L=g(it*q),G=g(Ie*q),re=g(Ae*it);return new D(T,L,re,G)}const X=g(u*Z),J=g(m*O),N=g($*y*Y),ee=g(I*Q),se=g((u+m)*(Z+O)-X-J),le=ee-N,Ee=ee+N,ye=g(J-S*X),Be=g(se*le),bt=g(Ee*ye),ke=g(se*ye),Ke=g(le*Ee);return new D(Be,bt,Ke,ke)}subtract(w){return this.add(w.negate())}wNAF(w){return W.wNAFCached(this,w,D.normalizeZ)}multiply(w){const S=w;qs("scalar",S,Wi,n);const{p:y,f:u}=this.wNAF(S);return D.normalizeZ([y,u])[0]}multiplyUnsafe(w){const S=w;return qs("scalar",S,po,n),S===po?F:this.equals(F)||S===Wi?this:this.equals(U)?this.wNAF(S).p:W.unsafeLadder(this,S)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return W.unsafeLadder(this,n).is0()}toAffine(w){return P(this,w)}clearCofactor(){const{h:w}=e;return w===Wi?this:this.multiplyUnsafe(w)}static fromHex(w,S=!1){const{d:y,a:u}=e,m=r.BYTES;w=An("pointHex",w,m),Ha("zip215",S);const I=w.slice(),$=w[m-1];I[m-1]=$&-129;const Z=pd(I),O=S?l:r.ORDER;qs("pointHex.y",Z,po,O);const Q=g(Z*Z),Y=g(Q-Wi),X=g(y*Q-u);let{isValid:J,value:N}=x(Y,X);if(!J)throw new Error("Point.fromHex: invalid y coordinate");const ee=(N&Wi)===Wi,se=($&128)!==0;if(!S&&N===po&&se)throw new Error("Point.fromHex: x=0 and x_0=1");return se!==ee&&(N=g(-N)),D.fromAffine({x:N,y:Z})}static fromPrivateKey(w){return te(w).point}toRawBytes(){const{x:w,y:S}=this.toAffine(),y=Jh(S,r.BYTES);return y[y.length-1]|=w&Wi?128:0,y}toHex(){return iu(this.toRawBytes())}}D.BASE=new D(e.Gx,e.Gy,Wi,g(e.Gx*e.Gy)),D.ZERO=new D(po,Wi,Wi,po);const{BASE:U,ZERO:F}=D,W=nM(D,a*8);function k(v){return Jr(v,n)}function K(v){return k(pd(v))}function te(v){const w=a;v=An("private key",v,w);const S=An("hashed private key",s(v),2*w),y=_(S.slice(0,w)),u=S.slice(w,2*w),m=K(y),I=U.multiply(m),$=I.toRawBytes();return{head:y,prefix:u,scalar:m,point:I,pointBytes:$}}function ce(v){return te(v).pointBytes}function A(v=new Uint8Array,...w){const S=su(...w);return K(s(E(S,An("context",v),!!i)))}function f(v,w,S={}){v=An("message",v),i&&(v=i(v));const{prefix:y,scalar:u,pointBytes:m}=te(w),I=A(S.context,y,v),$=U.multiply(I).toRawBytes(),Z=A(S.context,$,m,v),O=k(I+Z*u);qs("signature.s",O,po,n);const Q=su($,Jh(O,r.BYTES));return An("result",Q,a*2)}const h=yZ;function d(v,w,S,y=h){const{context:u,zip215:m}=y,I=r.BYTES;v=An("signature",v,2*I),w=An("message",w),m!==void 0&&Ha("zip215",m),i&&(w=i(w));const $=pd(v.slice(I,2*I));let Z,O,Q;try{Z=D.fromHex(S,m),O=D.fromHex(v.slice(0,I),m),Q=U.multiplyUnsafe($)}catch{return!1}if(!m&&Z.isSmallOrder())return!1;const Y=A(u,O.toRawBytes(),Z.toRawBytes(),w);return O.add(Z.multiplyUnsafe(Y)).subtract(Q).clearCofactor().equals(D.ZERO)}return U._setWindowSize(8),{CURVE:e,getPublicKey:ce,sign:f,verify:d,ExtendedPoint:D,utils:{getExtendedPublicKey:te,randomPrivateKey:()=>o(r.BYTES),precompute(v=8,w=D.BASE){return w._setWindowSize(v),w.multiply(BigInt(3)),w}}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Y6=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),V9=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const xZ=BigInt(1),G9=BigInt(2);BigInt(3);const _Z=BigInt(5),SZ=BigInt(8);function EZ(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Y6,a=t*t%s*t%s,c=cn(a,G9,s)*a%s,l=cn(c,xZ,s)*t%s,g=cn(l,_Z,s)*l%s,b=cn(g,e,s)*g%s,x=cn(b,r,s)*b%s,_=cn(x,n,s)*x%s,E=cn(_,i,s)*_%s,M=cn(E,i,s)*_%s,B=cn(M,e,s)*g%s;return{pow_p_5_8:cn(B,G9,s)*t%s,b2:a}}function AZ(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function IZ(t,e){const r=Y6,n=Jr(e*e*e,r),i=Jr(n*n*e,r),s=EZ(t*i).pow_p_5_8;let o=Jr(t*n*s,r);const a=Jr(e*o*o,r),c=o,l=Jr(o*V9,r),g=a===t,b=a===Jr(-t,r),x=a===Jr(-t*V9,r);return g&&(o=c),(b||x)&&(o=l),uZ(o,r)&&(o=Jr(-o,r)),{isValid:g||b,value:o}}const MZ=Nb(Y6,void 0,!0),PZ={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:MZ,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:SZ,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ZC,randomBytes:Q_,adjustScalarBytes:AZ,uvRatio:IZ},pl=wZ(PZ);var yp=YE.Buffer;function kZ(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function g(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=yp.from(_)),!yp.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var E=0,M=0,B=0,P=_.length;B!==P&&_[B]===0;)B++,E++;for(var R=(P-B)*l+1>>>0,D=new Uint8Array(R);B!==P;){for(var U=_[B],F=0,W=R-1;(U!==0||F<M)&&W!==-1;W--,F++)U+=256*D[W]>>>0,D[W]=U%o>>>0,U=U/o>>>0;if(U!==0)throw new Error("Non-zero carry");M=F,B++}for(var k=R-M;k!==R&&D[k]===0;)k++;for(var K=a.repeat(E);k<R;++k)K+=t.charAt(D[k]);return K}function b(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return yp.alloc(0);for(var E=0,M=0,B=0;_[E]===a;)M++,E++;for(var P=(_.length-E)*c+1>>>0,R=new Uint8Array(P);E<_.length;){var D=e[_.charCodeAt(E)];if(D===255)return;for(var U=0,F=P-1;(D!==0||U<B)&&F!==-1;F--,U++)D+=o*R[F]>>>0,R[F]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");B=U,E++}for(var W=P-B;W!==P&&R[W]===0;)W++;var k=yp.allocUnsafe(M+(P-W));k.fill(0,0,M);for(var K=M;W!==P;)k[K++]=R[W++];return k}function x(_){var E=b(_);if(E)return E;throw new Error("Non-base"+o+" character")}return{encode:g,decodeUnsafe:b,decode:x}}var RZ=kZ,CZ=RZ,TZ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",NZ=CZ(TZ);const ii=ci(NZ);var ni={},mp=YE.Buffer;function OZ(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var n=0;n<t.length;n++){var i=t.charAt(n),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=n}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),l=Math.log(256)/Math.log(o);function g(_){if((Array.isArray(_)||_ instanceof Uint8Array)&&(_=mp.from(_)),!mp.isBuffer(_))throw new TypeError("Expected Buffer");if(_.length===0)return"";for(var E=0,M=0,B=0,P=_.length;B!==P&&_[B]===0;)B++,E++;for(var R=(P-B)*l+1>>>0,D=new Uint8Array(R);B!==P;){for(var U=_[B],F=0,W=R-1;(U!==0||F<M)&&W!==-1;W--,F++)U+=256*D[W]>>>0,D[W]=U%o>>>0,U=U/o>>>0;if(U!==0)throw new Error("Non-zero carry");M=F,B++}for(var k=R-M;k!==R&&D[k]===0;)k++;for(var K=a.repeat(E);k<R;++k)K+=t.charAt(D[k]);return K}function b(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return mp.alloc(0);for(var E=0,M=0,B=0;_[E]===a;)M++,E++;for(var P=(_.length-E)*c+1>>>0,R=new Uint8Array(P);E<_.length;){var D=e[_.charCodeAt(E)];if(D===255)return;for(var U=0,F=P-1;(D!==0||U<B)&&F!==-1;F--,U++)D+=o*R[F]>>>0,R[F]=D%256>>>0,D=D/256>>>0;if(D!==0)throw new Error("Non-zero carry");B=U,E++}for(var W=P-B;W!==P&&R[W]===0;)W++;var k=mp.allocUnsafe(M+(P-W));k.fill(0,0,M);for(var K=M;W!==P;)k[K++]=R[W++];return k}function x(_){var E=b(_);if(E)return E;throw new Error("Non-base"+o+" character")}return{encode:g,decodeUnsafe:b,decode:x}}var BZ=OZ,DZ=BZ,LZ="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",$Z=DZ(LZ);function Ta(t,e,r){return e<=t&&t<=r}function Ob(t){if(t===void 0)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}function UZ(t){for(var e=String(t),r=e.length,n=0,i=[];n<r;){var s=e.charCodeAt(n);if(s<55296||s>57343)i.push(s);else if(56320<=s&&s<=57343)i.push(65533);else if(55296<=s&&s<=56319)if(n===r-1)i.push(65533);else{var o=t.charCodeAt(n+1);if(56320<=o&&o<=57343){var a=s&1023,c=o&1023;i.push(65536+(a<<10)+c),n+=1}else i.push(65533)}n+=1}return i}function zZ(t){for(var e="",r=0;r<t.length;++r){var n=t[r];n<=65535?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return e}var og=-1;function J6(t){this.tokens=[].slice.call(t)}J6.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():og},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var Ld=-1;function _y(t,e){if(t)throw TypeError("Decoder error");return e||65533}var ag="utf-8";function cg(t,e){if(!(this instanceof cg))return new cg(t,e);if(t=t!==void 0?String(t).toLowerCase():ag,t!==ag)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ob(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!e.fatal,this._ignoreBOM=!!e.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}cg.prototype={decode:function(e,r){var n;typeof e=="object"&&e instanceof ArrayBuffer?n=new Uint8Array(e):typeof e=="object"&&"buffer"in e&&e.buffer instanceof ArrayBuffer?n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength):n=new Uint8Array(0),r=Ob(r),this._streaming||(this._decoder=new FZ({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!r.stream;for(var i=new J6(n),s=[],o;!i.endOfStream()&&(o=this._decoder.handler(i,i.read()),o!==Ld);)o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o));if(!this._streaming){do{if(o=this._decoder.handler(i,i.read()),o===Ld)break;o!==null&&(Array.isArray(o)?s.push.apply(s,o):s.push(o))}while(!i.endOfStream());this._decoder=null}return s.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(s[0]===65279?(this._BOMseen=!0,s.shift()):this._BOMseen=!0),zZ(s)}};function fg(t,e){if(!(this instanceof fg))return new fg(t,e);if(t=t!==void 0?String(t).toLowerCase():ag,t!==ag)throw new Error("Encoding not supported. Only utf-8 is supported");e=Ob(e),this._streaming=!1,this._encoder=null,this._options={fatal:!!e.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}fg.prototype={encode:function(e,r){e=e?String(e):"",r=Ob(r),this._streaming||(this._encoder=new qZ(this._options)),this._streaming=!!r.stream;for(var n=[],i=new J6(UZ(e)),s;!i.endOfStream()&&(s=this._encoder.handler(i,i.read()),s!==Ld);)Array.isArray(s)?n.push.apply(n,s):n.push(s);if(!this._streaming){for(;s=this._encoder.handler(i,i.read()),s!==Ld;)Array.isArray(s)?n.push.apply(n,s):n.push(s);this._encoder=null}return new Uint8Array(n)}};function FZ(t){var e=t.fatal,r=0,n=0,i=0,s=128,o=191;this.handler=function(a,c){if(c===og&&i!==0)return i=0,_y(e);if(c===og)return Ld;if(i===0){if(Ta(c,0,127))return c;if(Ta(c,194,223))i=1,r=c-192;else if(Ta(c,224,239))c===224&&(s=160),c===237&&(o=159),i=2,r=c-224;else if(Ta(c,240,244))c===240&&(s=144),c===244&&(o=143),i=3,r=c-240;else return _y(e);return r=r<<6*i,null}if(!Ta(c,s,o))return r=i=n=0,s=128,o=191,a.prepend(c),_y(e);if(s=128,o=191,n+=1,r+=c-128<<6*(i-n),n!==i)return null;var l=r;return r=i=n=0,l}}function qZ(t){t.fatal,this.handler=function(e,r){if(r===og)return Ld;if(Ta(r,0,127))return r;var n,i;Ta(r,128,2047)?(n=1,i=192):Ta(r,2048,65535)?(n=2,i=224):Ta(r,65536,1114111)&&(n=3,i=240);for(var s=[(r>>6*n)+i];n>0;){var o=r>>6*(n-1);s.push(128|o&63),n-=1}return s}}const KZ=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:cg,TextEncoder:fg},Symbol.toStringTag,{value:"Module"})),jZ=n0(KZ);var WZ=zi&&zi.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),HZ=zi&&zi.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),ba=zi&&zi.__decorate||function(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s},VZ=zi&&zi.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&WZ(e,t,r);return HZ(e,t),e},sM=zi&&zi.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ni,"__esModule",{value:!0});var oM=ni.deserializeUnchecked=lM=ni.deserialize=dM=ni.serialize=ni.BinaryReader=ni.BinaryWriter=ni.BorshError=ni.baseDecode=ni.baseEncode=void 0;const Tc=sM(aS),aM=sM($Z),GZ=VZ(jZ),YZ=typeof TextDecoder!="function"?GZ.TextDecoder:TextDecoder,JZ=new YZ("utf-8",{fatal:!0});function XZ(t){return typeof t=="string"&&(t=Buffer.from(t,"utf8")),aM.default.encode(Buffer.from(t))}ni.baseEncode=XZ;function ZZ(t){return Buffer.from(aM.default.decode(t))}ni.baseDecode=ZZ;const Sy=1024;class Li extends Error{constructor(e){super(e),this.fieldPath=[],this.originalMessage=e}addToFieldPath(e){this.fieldPath.splice(0,0,e),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}ni.BorshError=Li;class cM{constructor(){this.buf=Buffer.alloc(Sy),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Sy)]))}writeU8(e){this.maybeResize(),this.buf.writeUInt8(e,this.length),this.length+=1}writeU16(e){this.maybeResize(),this.buf.writeUInt16LE(e,this.length),this.length+=2}writeU32(e){this.maybeResize(),this.buf.writeUInt32LE(e,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Tc.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Tc.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Tc.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(Buffer.from(new Tc.default(e).toArray("le",64)))}writeBuffer(e){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),e,Buffer.alloc(Sy)]),this.length+=e.length}writeString(e){this.maybeResize();const r=Buffer.from(e,"utf8");this.writeU32(r.length),this.writeBuffer(r)}writeFixedArray(e){this.writeBuffer(Buffer.from(e))}writeArray(e,r){this.maybeResize(),this.writeU32(e.length);for(const n of e)this.maybeResize(),r(n)}toArray(){return this.buf.subarray(0,this.length)}}ni.BinaryWriter=cM;function va(t,e,r){const n=r.value;r.value=function(...i){try{return n.apply(this,i)}catch(s){if(s instanceof RangeError){const o=s.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Li("Reached the end of buffer when deserializing")}throw s}}}class Ps{constructor(e){this.buf=e,this.offset=0}readU8(){const e=this.buf.readUInt8(this.offset);return this.offset+=1,e}readU16(){const e=this.buf.readUInt16LE(this.offset);return this.offset+=2,e}readU32(){const e=this.buf.readUInt32LE(this.offset);return this.offset+=4,e}readU64(){const e=this.readBuffer(8);return new Tc.default(e,"le")}readU128(){const e=this.readBuffer(16);return new Tc.default(e,"le")}readU256(){const e=this.readBuffer(32);return new Tc.default(e,"le")}readU512(){const e=this.readBuffer(64);return new Tc.default(e,"le")}readBuffer(e){if(this.offset+e>this.buf.length)throw new Li(`Expected buffer length ${e} isn't within bounds`);const r=this.buf.slice(this.offset,this.offset+e);return this.offset+=e,r}readString(){const e=this.readU32(),r=this.readBuffer(e);try{return JZ.decode(r)}catch(n){throw new Li(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(e){return new Uint8Array(this.readBuffer(e))}readArray(e){const r=this.readU32(),n=Array();for(let i=0;i<r;++i)n.push(e());return n}}ba([va],Ps.prototype,"readU8",null);ba([va],Ps.prototype,"readU16",null);ba([va],Ps.prototype,"readU32",null);ba([va],Ps.prototype,"readU64",null);ba([va],Ps.prototype,"readU128",null);ba([va],Ps.prototype,"readU256",null);ba([va],Ps.prototype,"readU512",null);ba([va],Ps.prototype,"readString",null);ba([va],Ps.prototype,"readFixedArray",null);ba([va],Ps.prototype,"readArray",null);ni.BinaryReader=Ps;function fM(t){return t.charAt(0).toUpperCase()+t.slice(1)}function If(t,e,r,n,i){try{if(typeof n=="string")i[`write${fM(n)}`](r);else if(n instanceof Array)if(typeof n[0]=="number"){if(r.length!==n[0])throw new Li(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);i.writeFixedArray(r)}else if(n.length===2&&typeof n[1]=="number"){if(r.length!==n[1])throw new Li(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let s=0;s<n[1];s++)If(t,null,r[s],n[0],i)}else i.writeArray(r,s=>{If(t,e,s,n[0],i)});else if(n.kind!==void 0)switch(n.kind){case"option":{r==null?i.writeU8(0):(i.writeU8(1),If(t,e,r,n.type,i));break}case"map":{i.writeU32(r.size),r.forEach((s,o)=>{If(t,e,o,n.key,i),If(t,e,s,n.value,i)});break}default:throw new Li(`FieldType ${n} unrecognized`)}else uM(t,r,i)}catch(s){throw s instanceof Li&&s.addToFieldPath(e),s}}function uM(t,e,r){if(typeof e.borshSerialize=="function"){e.borshSerialize(r);return}const n=t.get(e.constructor);if(!n)throw new Li(`Class ${e.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([i,s])=>{If(t,i,e[i],s,r)});else if(n.kind==="enum"){const i=e[n.field];for(let s=0;s<n.values.length;++s){const[o,a]=n.values[s];if(o===i){r.writeU8(s),If(t,o,e[o],a,r);break}}}else throw new Li(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function QZ(t,e,r=cM){const n=new r;return uM(t,e,n),n.toArray()}var dM=ni.serialize=QZ;function Mf(t,e,r,n){try{if(typeof r=="string")return n[`read${fM(r)}`]();if(r instanceof Array){if(typeof r[0]=="number")return n.readFixedArray(r[0]);if(typeof r[1]=="number"){const i=[];for(let s=0;s<r[1];s++)i.push(Mf(t,null,r[0],n));return i}else return n.readArray(()=>Mf(t,e,r[0],n))}if(r.kind==="option")return n.readU8()?Mf(t,e,r.type,n):void 0;if(r.kind==="map"){let i=new Map;const s=n.readU32();for(let o=0;o<s;o++){const a=Mf(t,e,r.key,n),c=Mf(t,e,r.value,n);i.set(a,c)}return i}return X6(t,r,n)}catch(i){throw i instanceof Li&&i.addToFieldPath(e),i}}function X6(t,e,r){if(typeof e.borshDeserialize=="function")return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new Li(`Class ${e.name} is missing in schema`);if(n.kind==="struct"){const i={};for(const[s,o]of t.get(e).fields)i[s]=Mf(t,s,o,r);return new e(i)}if(n.kind==="enum"){const i=r.readU8();if(i>=n.values.length)throw new Li(`Enum index: ${i} is out of range`);const[s,o]=n.values[i],a=Mf(t,s,o,r);return new e({[s]:a})}throw new Li(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}function eQ(t,e,r,n=Ps){const i=new n(r),s=X6(t,e,i);if(i.offset<r.length)throw new Li(`Unexpected ${r.length-i.offset} bytes after deserialized data`);return s}var lM=ni.deserialize=eQ;function tQ(t,e,r,n=Ps){const i=new n(r);return X6(t,e,i)}oM=ni.deserializeUnchecked=tQ;var me={};Object.defineProperty(me,"__esModule",{value:!0});me.s16=me.s8=me.nu64be=me.u48be=me.u40be=me.u32be=me.u24be=me.u16be=ei=me.nu64=me.u48=me.u40=Rt=me.u32=me.u24=Ls=me.u16=gr=me.u8=jc=me.offset=me.greedy=me.Constant=me.UTF8=me.CString=me.Blob=me.Boolean=me.BitField=me.BitStructure=me.VariantLayout=me.Union=me.UnionLayoutDiscriminator=me.UnionDiscriminator=me.Structure=me.Sequence=me.DoubleBE=me.Double=me.FloatBE=me.Float=me.NearInt64BE=me.NearInt64=me.NearUInt64BE=me.NearUInt64=me.IntBE=me.Int=me.UIntBE=me.UInt=me.OffsetLayout=me.GreedyCount=me.ExternalLayout=me.bindConstructorLayout=me.nameWithProperty=me.Layout=me.uint8ArrayToBuffer=me.checkUint8Array=void 0;me.constant=me.utf8=me.cstr=Wr=me.blob=me.unionLayoutDiscriminator=me.union=si=me.seq=me.bits=Ct=me.struct=me.f64be=me.f64=me.f32be=me.f32=me.ns64be=me.s48be=me.s40be=me.s32be=me.s24be=me.s16be=ls=me.ns64=me.s48=me.s40=me.s32=me.s24=void 0;const Z6=Lt;function gl(t){if(!(t instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}me.checkUint8Array=gl;function mr(t){return gl(t),Z6.Buffer.from(t.buffer,t.byteOffset,t.length)}me.uint8ArrayToBuffer=mr;class Ar{constructor(e,r){if(!Number.isInteger(e))throw new TypeError("span must be an integer");this.span=e,this.property=r}makeDestinationObject(){return{}}getSpan(e,r){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(e){const r=Object.create(this.constructor.prototype);return Object.assign(r,this),r.property=e,r}fromArray(e){}}me.Layout=Ar;function Q6(t,e){return e.property?t+"["+e.property+"]":t}me.nameWithProperty=Q6;function rQ(t,e){if(typeof t!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof Ar))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(r,n){return e.encode(this,r,n)},writable:!0}),Object.defineProperty(t,"decode",{value(r,n){return e.decode(r,n)},writable:!0})}me.bindConstructorLayout=rQ;class Qi extends Ar{isCount(){throw new Error("ExternalLayout is abstract")}}me.ExternalLayout=Qi;class hM extends Qi{constructor(e=1,r){if(!Number.isInteger(e)||0>=e)throw new TypeError("elementSpan must be a (positive) integer");super(-1,r),this.elementSpan=e}isCount(){return!0}decode(e,r=0){gl(e);const n=e.length-r;return Math.floor(n/this.elementSpan)}encode(e,r,n){return 0}}me.GreedyCount=hM;class ew extends Qi{constructor(e,r=0,n){if(!(e instanceof Ar))throw new TypeError("layout must be a Layout");if(!Number.isInteger(r))throw new TypeError("offset must be integer or undefined");super(e.span,n||e.property),this.layout=e,this.offset=r}isCount(){return this.layout instanceof Hs||this.layout instanceof Io}decode(e,r=0){return this.layout.decode(e,r+this.offset)}encode(e,r,n=0){return this.layout.encode(e,r,n+this.offset)}}me.OffsetLayout=ew;class Hs extends Ar{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return mr(e).readUIntLE(r,this.span)}encode(e,r,n=0){return mr(r).writeUIntLE(e,n,this.span),this.span}}me.UInt=Hs;class Io extends Ar{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return mr(e).readUIntBE(r,this.span)}encode(e,r,n=0){return mr(r).writeUIntBE(e,n,this.span),this.span}}me.UIntBE=Io;class yu extends Ar{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return mr(e).readIntLE(r,this.span)}encode(e,r,n=0){return mr(r).writeIntLE(e,n,this.span),this.span}}me.Int=yu;class bl extends Ar{constructor(e,r){if(super(e,r),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(e,r=0){return mr(e).readIntBE(r,this.span)}encode(e,r,n=0){return mr(r).writeIntBE(e,n,this.span),this.span}}me.IntBE=bl;const I2=Math.pow(2,32);function Bb(t){const e=Math.floor(t/I2),r=t-e*I2;return{hi32:e,lo32:r}}function Db(t,e){return t*I2+e}class pM extends Ar{constructor(e){super(8,e)}decode(e,r=0){const n=mr(e),i=n.readUInt32LE(r),s=n.readUInt32LE(r+4);return Db(s,i)}encode(e,r,n=0){const i=Bb(e),s=mr(r);return s.writeUInt32LE(i.lo32,n),s.writeUInt32LE(i.hi32,n+4),8}}me.NearUInt64=pM;class gM extends Ar{constructor(e){super(8,e)}decode(e,r=0){const n=mr(e),i=n.readUInt32BE(r),s=n.readUInt32BE(r+4);return Db(i,s)}encode(e,r,n=0){const i=Bb(e),s=mr(r);return s.writeUInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}me.NearUInt64BE=gM;class bM extends Ar{constructor(e){super(8,e)}decode(e,r=0){const n=mr(e),i=n.readUInt32LE(r),s=n.readInt32LE(r+4);return Db(s,i)}encode(e,r,n=0){const i=Bb(e),s=mr(r);return s.writeUInt32LE(i.lo32,n),s.writeInt32LE(i.hi32,n+4),8}}me.NearInt64=bM;class vM extends Ar{constructor(e){super(8,e)}decode(e,r=0){const n=mr(e),i=n.readInt32BE(r),s=n.readUInt32BE(r+4);return Db(i,s)}encode(e,r,n=0){const i=Bb(e),s=mr(r);return s.writeInt32BE(i.hi32,n),s.writeUInt32BE(i.lo32,n+4),8}}me.NearInt64BE=vM;class yM extends Ar{constructor(e){super(4,e)}decode(e,r=0){return mr(e).readFloatLE(r)}encode(e,r,n=0){return mr(r).writeFloatLE(e,n),4}}me.Float=yM;class mM extends Ar{constructor(e){super(4,e)}decode(e,r=0){return mr(e).readFloatBE(r)}encode(e,r,n=0){return mr(r).writeFloatBE(e,n),4}}me.FloatBE=mM;class wM extends Ar{constructor(e){super(8,e)}decode(e,r=0){return mr(e).readDoubleLE(r)}encode(e,r,n=0){return mr(r).writeDoubleLE(e,n),8}}me.Double=wM;class xM extends Ar{constructor(e){super(8,e)}decode(e,r=0){return mr(e).readDoubleBE(r)}encode(e,r,n=0){return mr(r).writeDoubleBE(e,n),8}}me.DoubleBE=xM;class _M extends Ar{constructor(e,r,n){if(!(e instanceof Ar))throw new TypeError("elementLayout must be a Layout");if(!(r instanceof Qi&&r.isCount()||Number.isInteger(r)&&0<=r))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let i=-1;!(r instanceof Qi)&&0<e.span&&(i=r*e.span),super(i,n),this.elementLayout=e,this.count=r}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0,i=this.count;if(i instanceof Qi&&(i=i.decode(e,r)),0<this.elementLayout.span)n=i*this.elementLayout.span;else{let s=0;for(;s<i;)n+=this.elementLayout.getSpan(e,r+n),++s}return n}decode(e,r=0){const n=[];let i=0,s=this.count;for(s instanceof Qi&&(s=s.decode(e,r));i<s;)n.push(this.elementLayout.decode(e,r)),r+=this.elementLayout.getSpan(e,r),i+=1;return n}encode(e,r,n=0){const i=this.elementLayout,s=e.reduce((o,a)=>o+i.encode(a,r,n+o),0);return this.count instanceof Qi&&this.count.encode(e.length,r,n),s}}me.Sequence=_M;class SM extends Ar{constructor(e,r,n){if(!(Array.isArray(e)&&e.reduce((s,o)=>s&&o instanceof Ar,!0)))throw new TypeError("fields must be array of Layout instances");typeof r=="boolean"&&n===void 0&&(n=r,r=void 0);for(const s of e)if(0>s.span&&s.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=e.reduce((s,o)=>s+o.getSpan(),0)}catch{}super(i,r),this.fields=e,this.decodePrefixes=!!n}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((i,s)=>{const o=s.getSpan(e,r);return r+=o,i+o},0)}catch{throw new RangeError("indeterminate span")}return n}decode(e,r=0){gl(e);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(e,r)),r+=i.getSpan(e,r),this.decodePrefixes&&e.length===r)break;return n}encode(e,r,n=0){const i=n;let s=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const l=e[a.property];l!==void 0&&(o=a.encode(l,r,n),0>c&&(c=a.getSpan(r,n)))}s=n,n+=c}return s+o-i}fromArray(e){const r=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<e.length&&(r[n.property]=e.shift());return r}layoutFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}offsetOf(e){if(typeof e!="string")throw new TypeError("property must be string");let r=0;for(const n of this.fields){if(n.property===e)return r;0>n.span?r=-1:0<=r&&(r+=n.span)}}}me.Structure=SM;class tw{constructor(e){this.property=e}decode(e,r){throw new Error("UnionDiscriminator is abstract")}encode(e,r,n){throw new Error("UnionDiscriminator is abstract")}}me.UnionDiscriminator=tw;class ug extends tw{constructor(e,r){if(!(e instanceof Qi&&e.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(r||e.property||"variant"),this.layout=e}decode(e,r){return this.layout.decode(e,r)}encode(e,r,n){return this.layout.encode(e,r,n)}}me.UnionLayoutDiscriminator=ug;class rw extends Ar{constructor(e,r,n){let i;if(e instanceof Hs||e instanceof Io)i=new ug(new ew(e));else if(e instanceof Qi&&e.isCount())i=new ug(e);else if(e instanceof tw)i=e;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(r===void 0&&(r=null),!(r===null||r instanceof Ar))throw new TypeError("defaultLayout must be null or a Layout");if(r!==null){if(0>r.span)throw new Error("defaultLayout must have constant span");r.property===void 0&&(r=r.replicate("content"))}let s=-1;r&&(s=r.span,0<=s&&(e instanceof Hs||e instanceof Io)&&(s+=i.layout.span)),super(s,n),this.discriminator=i,this.usesPrefixDiscriminator=e instanceof Hs||e instanceof Io,this.defaultLayout=r,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(e,r=0){if(0<=this.span)return this.span;const n=this.getVariant(e,r);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(e,r)}defaultGetSourceVariant(e){if(Object.prototype.hasOwnProperty.call(e,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(e,this.defaultLayout.property))return;const r=this.registry[e[this.discriminator.property]];if(r&&(!r.layout||r.property&&Object.prototype.hasOwnProperty.call(e,r.property)))return r}else for(const r in this.registry){const n=this.registry[r];if(n.property&&Object.prototype.hasOwnProperty.call(e,n.property))return n}throw new Error("unable to infer src variant")}decode(e,r=0){let n;const i=this.discriminator,s=i.decode(e,r),o=this.registry[s];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=s,n[a.property]=a.decode(e,r+c)}else n=o.decode(e,r);return n}encode(e,r,n=0){const i=this.getSourceVariant(e);if(i===void 0){const s=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=s.layout.span),s.encode(e[s.property],r,n),a+o.encode(e[o.property],r,n+a)}return i.encode(e,r,n)}addVariant(e,r,n){const i=new EM(this,e,r,n);return this.registry[e]=i,i}getVariant(e,r=0){let n;return e instanceof Uint8Array?n=this.discriminator.decode(e,r):n=e,this.registry[n]}}me.Union=rw;class EM extends Ar{constructor(e,r,n,i){if(!(e instanceof rw))throw new TypeError("union must be a Union");if(!Number.isInteger(r)||0>r)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Ar))throw new TypeError("layout must be a Layout");if(e.defaultLayout!==null&&0<=n.span&&n.span>e.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let s=e.span;0>e.span&&(s=n?n.span:0,0<=s&&e.usesPrefixDiscriminator&&(s+=e.discriminator.layout.span)),super(s,i),this.union=e,this.variant=r,this.layout=n||null}getSpan(e,r=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let i=0;return this.layout&&(i=this.layout.getSpan(e,r+n)),n+i}decode(e,r=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(e,r))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(e,r+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(e,r,n=0){let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(e,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,r,n);let s=i;if(this.layout&&(this.layout.encode(e[this.property],r,n+i),s+=this.layout.getSpan(r,n+i),0<=this.union.span&&s>this.union.span))throw new Error("encoded variant overruns containing union");return s}fromArray(e){if(this.layout)return this.layout.fromArray(e)}}me.VariantLayout=EM;function Bu(t){return 0>t&&(t+=4294967296),t}class nw extends Ar{constructor(e,r,n){if(!(e instanceof Hs||e instanceof Io))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof r=="string"&&n===void 0&&(n=r,r=!1),4<e.span)throw new RangeError("word cannot exceed 32 bits");super(e.span,n),this.word=e,this.msb=!!r,this.fields=[];let i=0;this._packedSetValue=function(s){return i=Bu(s),this},this._packedGetValue=function(){return i}}decode(e,r=0){const n=this.makeDestinationObject(),i=this.word.decode(e,r);this._packedSetValue(i);for(const s of this.fields)s.property!==void 0&&(n[s.property]=s.decode(e));return n}encode(e,r,n=0){const i=this.word.decode(r,n);this._packedSetValue(i);for(const s of this.fields)if(s.property!==void 0){const o=e[s.property];o!==void 0&&s.encode(o)}return this.word.encode(this._packedGetValue(),r,n)}addField(e,r){const n=new iw(this,e,r);return this.fields.push(n),n}addBoolean(e){const r=new AM(this,e);return this.fields.push(r),r}fieldFor(e){if(typeof e!="string")throw new TypeError("property must be string");for(const r of this.fields)if(r.property===e)return r}}me.BitStructure=nw;class iw{constructor(e,r,n){if(!(e instanceof nw))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(r)||0>=r)throw new TypeError("bits must be positive integer");const i=8*e.span,s=e.fields.reduce((o,a)=>o+a.bits,0);if(r+s>i)throw new Error("bits too long for span remainder ("+(i-s)+" of "+i+" remain)");this.container=e,this.bits=r,this.valueMask=(1<<r)-1,r===32&&(this.valueMask=4294967295),this.start=s,this.container.msb&&(this.start=i-s-r),this.wordMask=Bu(this.valueMask<<this.start),this.property=n}decode(e,r){const n=this.container._packedGetValue();return Bu(n&this.wordMask)>>>this.start}encode(e){if(typeof e!="number"||!Number.isInteger(e)||e!==Bu(e&this.valueMask))throw new TypeError(Q6("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const r=this.container._packedGetValue(),n=Bu(e<<this.start);this.container._packedSetValue(Bu(r&~this.wordMask)|n)}}me.BitField=iw;let AM=class extends iw{constructor(e,r){super(e,1,r)}decode(e,r){return!!super.decode(e,r)}encode(e){typeof e=="boolean"&&(e=+e),super.encode(e)}};me.Boolean=AM;let IM=class extends Ar{constructor(e,r){if(!(e instanceof Qi&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;e instanceof Qi||(n=e),super(n,r),this.length=e}getSpan(e,r){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),n}decode(e,r=0){let n=this.span;return 0>n&&(n=this.length.decode(e,r)),mr(e).slice(r,r+n)}encode(e,r,n){let i=this.length;if(this.length instanceof Qi&&(i=e.length),!(e instanceof Uint8Array&&i===e.length))throw new TypeError(Q6("Blob.encode",this)+" requires (length "+i+") Uint8Array as src");if(n+i>r.length)throw new RangeError("encoding overruns Uint8Array");const s=mr(e);return mr(r).write(s.toString("hex"),n,i,"hex"),this.length instanceof Qi&&this.length.encode(i,r,n),i}};me.Blob=IM;class MM extends Ar{constructor(e){super(-1,e)}getSpan(e,r=0){gl(e);let n=r;for(;n<e.length&&e[n]!==0;)n+=1;return 1+n-r}decode(e,r=0){const n=this.getSpan(e,r);return mr(e).slice(r,r+n-1).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const i=Z6.Buffer.from(e,"utf8"),s=i.length;if(n+s>r.length)throw new RangeError("encoding overruns Buffer");const o=mr(r);return i.copy(o,n),o[n+s]=0,s+1}}me.CString=MM;class PM extends Ar{constructor(e,r){if(typeof e=="string"&&r===void 0&&(r=e,e=void 0),e===void 0)e=-1;else if(!Number.isInteger(e))throw new TypeError("maxSpan must be an integer");super(-1,r),this.maxSpan=e}getSpan(e,r=0){return gl(e),e.length-r}decode(e,r=0){const n=this.getSpan(e,r);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return mr(e).slice(r,r+n).toString("utf-8")}encode(e,r,n=0){typeof e!="string"&&(e=String(e));const i=Z6.Buffer.from(e,"utf8"),s=i.length;if(0<=this.maxSpan&&this.maxSpan<s)throw new RangeError("text length exceeds maxSpan");if(n+s>r.length)throw new RangeError("encoding overruns Buffer");return i.copy(mr(r),n),s}}me.UTF8=PM;class kM extends Ar{constructor(e,r){super(0,r),this.value=e}decode(e,r){return this.value}encode(e,r,n){return 0}}me.Constant=kM;me.greedy=(t,e)=>new hM(t,e);var jc=me.offset=(t,e,r)=>new ew(t,e,r),gr=me.u8=t=>new Hs(1,t),Ls=me.u16=t=>new Hs(2,t);me.u24=t=>new Hs(3,t);var Rt=me.u32=t=>new Hs(4,t);me.u40=t=>new Hs(5,t);me.u48=t=>new Hs(6,t);var ei=me.nu64=t=>new pM(t);me.u16be=t=>new Io(2,t);me.u24be=t=>new Io(3,t);me.u32be=t=>new Io(4,t);me.u40be=t=>new Io(5,t);me.u48be=t=>new Io(6,t);me.nu64be=t=>new gM(t);me.s8=t=>new yu(1,t);me.s16=t=>new yu(2,t);me.s24=t=>new yu(3,t);me.s32=t=>new yu(4,t);me.s40=t=>new yu(5,t);me.s48=t=>new yu(6,t);var ls=me.ns64=t=>new bM(t);me.s16be=t=>new bl(2,t);me.s24be=t=>new bl(3,t);me.s32be=t=>new bl(4,t);me.s40be=t=>new bl(5,t);me.s48be=t=>new bl(6,t);me.ns64be=t=>new vM(t);me.f32=t=>new yM(t);me.f32be=t=>new mM(t);me.f64=t=>new wM(t);me.f64be=t=>new xM(t);var Ct=me.struct=(t,e,r)=>new SM(t,e,r);me.bits=(t,e,r)=>new nw(t,e,r);var si=me.seq=(t,e,r)=>new _M(t,e,r);me.union=(t,e,r)=>new rw(t,e,r);me.unionLayoutDiscriminator=(t,e)=>new ug(t,e);var Wr=me.blob=(t,e)=>new IM(t,e);me.cstr=t=>new MM(t);me.utf8=(t,e)=>new PM(t,e);me.constant=(t,e)=>new kM(t,e);var T0={};Object.defineProperty(T0,"__esModule",{value:!0});function nQ(t){{const e=Buffer.from(t);e.reverse();const r=e.toString("hex");return r.length===0?BigInt(0):BigInt(`0x${r}`)}}var iQ=T0.toBigIntLE=nQ;function sQ(t){{const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}T0.toBigIntBE=sQ;function oQ(t,e){{const r=t.toString(16),n=Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex");return n.reverse(),n}}var RM=T0.toBufferLE=oQ;function aQ(t,e){{const r=t.toString(16);return Buffer.from(r.padStart(e*2,"0").slice(0,e*2),"hex")}}T0.toBufferBE=aQ;class cQ extends TypeError{constructor(e,r){let n;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>n??(n=[e,...r()])}}function fQ(t){return N0(t)&&typeof t[Symbol.iterator]=="function"}function N0(t){return typeof t=="object"&&t!=null}function dg(t){return N0(t)&&!Array.isArray(t)}function ko(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function uQ(t){const{done:e,value:r}=t.next();return e?void 0:r}function dQ(t,e,r,n){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=r,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${ko(n)}\``}=t;return{value:n,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*Y9(t,e,r,n){fQ(t)||(t=[t]);for(const i of t){const s=dQ(i,e,r,n);s&&(yield s)}}function*sw(t,e,r={}){const{path:n=[],branch:i=[t],coerce:s=!1,mask:o=!1}=r,a={path:n,branch:i,mask:o};s&&(t=e.coercer(t,a));let c="valid";for(const l of e.validator(t,a))l.explanation=r.message,c="not_valid",yield[l,void 0];for(let[l,g,b]of e.entries(t,a)){const x=sw(g,b,{path:l===void 0?n:[...n,l],branch:l===void 0?i:[...i,g],coerce:s,mask:o,message:r.message});for(const _ of x)_[0]?(c=_[0].refinement!=null?"not_refined":"not_valid",yield[_[0],void 0]):s&&(g=_[1],l===void 0?t=g:t instanceof Map?t.set(l,g):t instanceof Set?t.add(g):N0(t)&&(g!==void 0||l in t)&&(t[l]=g))}if(c!=="not_valid")for(const l of e.refiner(t,a))l.explanation=r.message,c="not_refined",yield[l,void 0];c==="valid"&&(yield[void 0,t])}let ya=class{constructor(e){const{type:r,schema:n,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=r,this.schema=n,this.entries=a,this.coercer=o,i?this.validator=(c,l)=>{const g=i(c,l);return Y9(g,l,this,c)}:this.validator=()=>[],s?this.refiner=(c,l)=>{const g=s(c,l);return Y9(g,l,this,c)}:this.refiner=()=>[]}assert(e,r){return CM(e,this,r)}create(e,r){return lt(e,this,r)}is(e){return TM(e,this)}mask(e,r){return lQ(e,this,r)}validate(e,r={}){return O0(e,this,r)}};function CM(t,e,r){const n=O0(t,e,{message:r});if(n[0])throw n[0]}function lt(t,e,r){const n=O0(t,e,{coerce:!0,message:r});if(n[0])throw n[0];return n[1]}function lQ(t,e,r){const n=O0(t,e,{coerce:!0,mask:!0,message:r});if(n[0])throw n[0];return n[1]}function TM(t,e){return!O0(t,e)[0]}function O0(t,e,r={}){const n=sw(t,e,r),i=uQ(n);return i[0]?[new cQ(i[0],function*(){for(const o of n)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function mu(t,e){return new ya({type:t,schema:null,validator:e})}function hQ(){return mu("any",()=>!0)}function vt(t){return new ya({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[r,n]of e.entries())yield[r,n,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${ko(e)}`}})}function ua(){return mu("boolean",t=>typeof t=="boolean")}function ow(t){return mu("instance",e=>e instanceof t||`Expected a \`${t.name}\` instance, but received: ${ko(e)}`)}function en(t){const e=ko(t),r=typeof t;return new ya({type:"literal",schema:r==="string"||r==="number"||r==="boolean"?t:null,validator(n){return n===t||`Expected the literal \`${e}\`, but received: ${ko(n)}`}})}function pQ(){return mu("never",()=>!1)}function yt(t){return new ya({...t,validator:(e,r)=>e===null||t.validator(e,r),refiner:(e,r)=>e===null||t.refiner(e,r)})}function ge(){return mu("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${ko(t)}`)}function Ut(t){return new ya({...t,validator:(e,r)=>e===void 0||t.validator(e,r),refiner:(e,r)=>e===void 0||t.refiner(e,r)})}function NM(t,e){return new ya({type:"record",schema:null,*entries(r){if(N0(r))for(const n in r){const i=r[n];yield[n,n,t],yield[n,i,e]}},validator(r){return dg(r)||`Expected an object, but received: ${ko(r)}`},coercer(r){return dg(r)?{...r}:r}})}function st(){return mu("string",t=>typeof t=="string"||`Expected a string, but received: ${ko(t)}`)}function aw(t){const e=pQ();return new ya({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator(r){return Array.isArray(r)||`Expected an array, but received: ${ko(r)}`},coercer(r){return Array.isArray(r)?r.slice():r}})}function je(t){const e=Object.keys(t);return new ya({type:"type",schema:t,*entries(r){if(N0(r))for(const n of e)yield[n,r[n],t[n]]},validator(r){return dg(r)||`Expected an object, but received: ${ko(r)}`},coercer(r){return dg(r)?{...r}:r}})}function Fi(t){const e=t.map(r=>r.type).join(" | ");return new ya({type:"union",schema:null,coercer(r,n){for(const i of t){const[s,o]=i.validate(r,{coerce:!0,mask:n.mask});if(!s)return o}return r},validator(r,n){const i=[];for(const s of t){const[...o]=sw(r,s,n),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${ko(r)}`,...i]}})}function vl(){return mu("unknown",()=>!0)}function B0(t,e,r){return new ya({...t,coercer:(n,i)=>TM(n,e)?t.coercer(r(n,i),i):t.coercer(n,i)})}var wp,gQ=new Uint8Array(16);function OM(){if(!wp&&(wp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!wp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wp(gQ)}const bQ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Lb(t){return typeof t=="string"&&bQ.test(t)}var Qn=[];for(var Ey=0;Ey<256;++Ey)Qn.push((Ey+256).toString(16).substr(1));function $b(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=(Qn[t[e+0]]+Qn[t[e+1]]+Qn[t[e+2]]+Qn[t[e+3]]+"-"+Qn[t[e+4]]+Qn[t[e+5]]+"-"+Qn[t[e+6]]+Qn[t[e+7]]+"-"+Qn[t[e+8]]+Qn[t[e+9]]+"-"+Qn[t[e+10]]+Qn[t[e+11]]+Qn[t[e+12]]+Qn[t[e+13]]+Qn[t[e+14]]+Qn[t[e+15]]).toLowerCase();if(!Lb(r))throw TypeError("Stringified UUID is invalid");return r}var J9,Ay,Iy=0,My=0;function vQ(t,e,r){var n=e&&r||0,i=e||new Array(16);t=t||{};var s=t.node||J9,o=t.clockseq!==void 0?t.clockseq:Ay;if(s==null||o==null){var a=t.random||(t.rng||OM)();s==null&&(s=J9=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Ay=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),l=t.nsecs!==void 0?t.nsecs:My+1,g=c-Iy+(l-My)/1e4;if(g<0&&t.clockseq===void 0&&(o=o+1&16383),(g<0||c>Iy)&&t.nsecs===void 0&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Iy=c,My=l,Ay=o,c+=122192928e5;var b=((c&268435455)*1e4+l)%4294967296;i[n++]=b>>>24&255,i[n++]=b>>>16&255,i[n++]=b>>>8&255,i[n++]=b&255;var x=c/4294967296*1e4&268435455;i[n++]=x>>>8&255,i[n++]=x&255,i[n++]=x>>>24&15|16,i[n++]=x>>>16&255,i[n++]=o>>>8|128,i[n++]=o&255;for(var _=0;_<6;++_)i[n+_]=s[_];return e||$b(i)}function BM(t){if(!Lb(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=e&255,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=e&255,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=e&255,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=e&255,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=e&255,r}function yQ(t){t=unescape(encodeURIComponent(t));for(var e=[],r=0;r<t.length;++r)e.push(t.charCodeAt(r));return e}var mQ="6ba7b810-9dad-11d1-80b4-00c04fd430c8",wQ="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function DM(t,e,r){function n(i,s,o,a){if(typeof i=="string"&&(i=yQ(i)),typeof s=="string"&&(s=BM(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=r(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var l=0;l<16;++l)o[a+l]=c[l];return o}return $b(c)}try{n.name=t}catch{}return n.DNS=mQ,n.URL=wQ,n}function xQ(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var r=0;r<e.length;++r)t[r]=e.charCodeAt(r)}return _Q(SQ(EQ(t),t.length*8))}function _Q(t){for(var e=[],r=t.length*32,n="0123456789abcdef",i=0;i<r;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(n.charAt(s>>>4&15)+n.charAt(s&15),16);e.push(o)}return e}function LM(t){return(t+64>>>9<<4)+14+1}function SQ(t,e){t[e>>5]|=128<<e%32,t[LM(e)-1]=e;for(var r=1732584193,n=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=r,c=n,l=i,g=s;r=wi(r,n,i,s,t[o],7,-680876936),s=wi(s,r,n,i,t[o+1],12,-389564586),i=wi(i,s,r,n,t[o+2],17,606105819),n=wi(n,i,s,r,t[o+3],22,-1044525330),r=wi(r,n,i,s,t[o+4],7,-176418897),s=wi(s,r,n,i,t[o+5],12,1200080426),i=wi(i,s,r,n,t[o+6],17,-1473231341),n=wi(n,i,s,r,t[o+7],22,-45705983),r=wi(r,n,i,s,t[o+8],7,1770035416),s=wi(s,r,n,i,t[o+9],12,-1958414417),i=wi(i,s,r,n,t[o+10],17,-42063),n=wi(n,i,s,r,t[o+11],22,-1990404162),r=wi(r,n,i,s,t[o+12],7,1804603682),s=wi(s,r,n,i,t[o+13],12,-40341101),i=wi(i,s,r,n,t[o+14],17,-1502002290),n=wi(n,i,s,r,t[o+15],22,1236535329),r=xi(r,n,i,s,t[o+1],5,-165796510),s=xi(s,r,n,i,t[o+6],9,-1069501632),i=xi(i,s,r,n,t[o+11],14,643717713),n=xi(n,i,s,r,t[o],20,-373897302),r=xi(r,n,i,s,t[o+5],5,-701558691),s=xi(s,r,n,i,t[o+10],9,38016083),i=xi(i,s,r,n,t[o+15],14,-660478335),n=xi(n,i,s,r,t[o+4],20,-405537848),r=xi(r,n,i,s,t[o+9],5,568446438),s=xi(s,r,n,i,t[o+14],9,-1019803690),i=xi(i,s,r,n,t[o+3],14,-187363961),n=xi(n,i,s,r,t[o+8],20,1163531501),r=xi(r,n,i,s,t[o+13],5,-1444681467),s=xi(s,r,n,i,t[o+2],9,-51403784),i=xi(i,s,r,n,t[o+7],14,1735328473),n=xi(n,i,s,r,t[o+12],20,-1926607734),r=_i(r,n,i,s,t[o+5],4,-378558),s=_i(s,r,n,i,t[o+8],11,-2022574463),i=_i(i,s,r,n,t[o+11],16,1839030562),n=_i(n,i,s,r,t[o+14],23,-35309556),r=_i(r,n,i,s,t[o+1],4,-1530992060),s=_i(s,r,n,i,t[o+4],11,1272893353),i=_i(i,s,r,n,t[o+7],16,-155497632),n=_i(n,i,s,r,t[o+10],23,-1094730640),r=_i(r,n,i,s,t[o+13],4,681279174),s=_i(s,r,n,i,t[o],11,-358537222),i=_i(i,s,r,n,t[o+3],16,-722521979),n=_i(n,i,s,r,t[o+6],23,76029189),r=_i(r,n,i,s,t[o+9],4,-640364487),s=_i(s,r,n,i,t[o+12],11,-421815835),i=_i(i,s,r,n,t[o+15],16,530742520),n=_i(n,i,s,r,t[o+2],23,-995338651),r=Si(r,n,i,s,t[o],6,-198630844),s=Si(s,r,n,i,t[o+7],10,1126891415),i=Si(i,s,r,n,t[o+14],15,-1416354905),n=Si(n,i,s,r,t[o+5],21,-57434055),r=Si(r,n,i,s,t[o+12],6,1700485571),s=Si(s,r,n,i,t[o+3],10,-1894986606),i=Si(i,s,r,n,t[o+10],15,-1051523),n=Si(n,i,s,r,t[o+1],21,-2054922799),r=Si(r,n,i,s,t[o+8],6,1873313359),s=Si(s,r,n,i,t[o+15],10,-30611744),i=Si(i,s,r,n,t[o+6],15,-1560198380),n=Si(n,i,s,r,t[o+13],21,1309151649),r=Si(r,n,i,s,t[o+4],6,-145523070),s=Si(s,r,n,i,t[o+11],10,-1120210379),i=Si(i,s,r,n,t[o+2],15,718787259),n=Si(n,i,s,r,t[o+9],21,-343485551),r=Nc(r,a),n=Nc(n,c),i=Nc(i,l),s=Nc(s,g)}return[r,n,i,s]}function EQ(t){if(t.length===0)return[];for(var e=t.length*8,r=new Uint32Array(LM(e)),n=0;n<e;n+=8)r[n>>5]|=(t[n/8]&255)<<n%32;return r}function Nc(t,e){var r=(t&65535)+(e&65535),n=(t>>16)+(e>>16)+(r>>16);return n<<16|r&65535}function AQ(t,e){return t<<e|t>>>32-e}function Ub(t,e,r,n,i,s){return Nc(AQ(Nc(Nc(e,t),Nc(n,s)),i),r)}function wi(t,e,r,n,i,s,o){return Ub(e&r|~e&n,t,e,i,s,o)}function xi(t,e,r,n,i,s,o){return Ub(e&n|r&~n,t,e,i,s,o)}function _i(t,e,r,n,i,s,o){return Ub(e^r^n,t,e,i,s,o)}function Si(t,e,r,n,i,s,o){return Ub(r^(e|~n),t,e,i,s,o)}var IQ=DM("v3",48,xQ);function MQ(t,e,r){t=t||{};var n=t.random||(t.rng||OM)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return $b(n)}function PQ(t,e,r,n){switch(t){case 0:return e&r^~e&n;case 1:return e^r^n;case 2:return e&r^e&n^r&n;case 3:return e^r^n}}function Py(t,e){return t<<e|t>>>32-e}function kQ(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var l=new Uint32Array(16),g=0;g<16;++g)l[g]=t[c*64+g*4]<<24|t[c*64+g*4+1]<<16|t[c*64+g*4+2]<<8|t[c*64+g*4+3];a[c]=l}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var b=0;b<o;++b){for(var x=new Uint32Array(80),_=0;_<16;++_)x[_]=a[b][_];for(var E=16;E<80;++E)x[E]=Py(x[E-3]^x[E-8]^x[E-14]^x[E-16],1);for(var M=r[0],B=r[1],P=r[2],R=r[3],D=r[4],U=0;U<80;++U){var F=Math.floor(U/20),W=Py(M,5)+PQ(F,B,P,R)+D+e[F]+x[U]>>>0;D=R,R=P,P=Py(B,30)>>>0,B=M,M=W}r[0]=r[0]+M>>>0,r[1]=r[1]+B>>>0,r[2]=r[2]+P>>>0,r[3]=r[3]+R>>>0,r[4]=r[4]+D>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,r[0]&255,r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,r[1]&255,r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,r[2]&255,r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,r[3]&255,r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,r[4]&255]}var RQ=DM("v5",80,kQ);const CQ="00000000-0000-0000-0000-000000000000";function TQ(t){if(!Lb(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const NQ=Object.freeze(Object.defineProperty({__proto__:null,NIL:CQ,parse:BM,stringify:$b,v1:vQ,v3:IQ,v4:MQ,v5:RQ,validate:Lb,version:TQ},Symbol.toStringTag,{value:"Module"})),$M=n0(NQ),OQ=$M.v4,BQ=function(t,e,r,n){if(typeof t!="string")throw new TypeError(t+" must be a string");n=n||{};const i=typeof n.version=="number"?n.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof r>"u"){const o=typeof n.generator=="function"?n.generator:function(){return OQ()};s.id=o(s,n)}else i===2&&r===null?n.notificationIdNull&&(s.id=null):s.id=r;return s};var DQ=BQ;const LQ=$M.v4,$Q=DQ,Zh=function(t,e){if(!(this instanceof Zh))return new Zh(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return LQ()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var UQ=Zh;Zh.prototype.request=function(t,e,r,n){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")n=e,s=t;else{typeof r=="function"&&(n=r,r=void 0);const l=typeof n=="function";try{s=$Q(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(g){if(l)return n(g);throw g}if(!l)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(l){return n(l)}return this.callServer(c,function(l,g){i._parseResponse(l,g,n)}),s};Zh.prototype._parseResponse=function(t,e,r){if(t){r(t);return}if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(i){return r(i)}if(r.length===3)if(Array.isArray(n)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return r(null,n.filter(i),n.filter(s))}else return r(null,n.error,n.result);r(null,n)};const zQ=ci(UQ);var UM={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,l,g){this.fn=c,this.context=l,this.once=g||!1}function s(c,l,g,b,x){if(typeof g!="function")throw new TypeError("The listener must be a function");var _=new i(g,b||c,x),E=r?r+l:l;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],_]:c._events[E].push(_):(c._events[E]=_,c._eventsCount++),c}function o(c,l){--c._eventsCount===0?c._events=new n:delete c._events[l]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var l=[],g,b;if(this._eventsCount===0)return l;for(b in g=this._events)e.call(g,b)&&l.push(r?b.slice(1):b);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(g)):l},a.prototype.listeners=function(l){var g=r?r+l:l,b=this._events[g];if(!b)return[];if(b.fn)return[b.fn];for(var x=0,_=b.length,E=new Array(_);x<_;x++)E[x]=b[x].fn;return E},a.prototype.listenerCount=function(l){var g=r?r+l:l,b=this._events[g];return b?b.fn?1:b.length:0},a.prototype.emit=function(l,g,b,x,_,E){var M=r?r+l:l;if(!this._events[M])return!1;var B=this._events[M],P=arguments.length,R,D;if(B.fn){switch(B.once&&this.removeListener(l,B.fn,void 0,!0),P){case 1:return B.fn.call(B.context),!0;case 2:return B.fn.call(B.context,g),!0;case 3:return B.fn.call(B.context,g,b),!0;case 4:return B.fn.call(B.context,g,b,x),!0;case 5:return B.fn.call(B.context,g,b,x,_),!0;case 6:return B.fn.call(B.context,g,b,x,_,E),!0}for(D=1,R=new Array(P-1);D<P;D++)R[D-1]=arguments[D];B.fn.apply(B.context,R)}else{var U=B.length,F;for(D=0;D<U;D++)switch(B[D].once&&this.removeListener(l,B[D].fn,void 0,!0),P){case 1:B[D].fn.call(B[D].context);break;case 2:B[D].fn.call(B[D].context,g);break;case 3:B[D].fn.call(B[D].context,g,b);break;case 4:B[D].fn.call(B[D].context,g,b,x);break;default:if(!R)for(F=1,R=new Array(P-1);F<P;F++)R[F-1]=arguments[F];B[D].fn.apply(B[D].context,R)}}return!0},a.prototype.on=function(l,g,b){return s(this,l,g,b,!1)},a.prototype.once=function(l,g,b){return s(this,l,g,b,!0)},a.prototype.removeListener=function(l,g,b,x){var _=r?r+l:l;if(!this._events[_])return this;if(!g)return o(this,_),this;var E=this._events[_];if(E.fn)E.fn===g&&(!x||E.once)&&(!b||E.context===b)&&o(this,_);else{for(var M=0,B=[],P=E.length;M<P;M++)(E[M].fn!==g||x&&!E[M].once||b&&E[M].context!==b)&&B.push(E[M]);B.length?this._events[_]=B.length===1?B[0]:B:o(this,_)}return this},a.prototype.removeAllListeners=function(l){var g;return l?(g=r?r+l:l,this._events[g]&&o(this,g)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(UM);var FQ=UM.exports;const zM=ci(FQ);var qQ=class extends zM{constructor(e,r,n){super();_r(this,"socket");this.socket=new window.WebSocket(e,n),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=i=>this.emit("message",i.data),this.socket.onerror=i=>this.emit("error",i),this.socket.onclose=i=>{this.emit("close",i.code,i.reason)}}send(e,r,n){const i=n||r;try{this.socket.send(e),i()}catch(s){i(s)}}close(e,r){this.socket.close(e,r)}addEventListener(e,r,n){this.socket.addEventListener(e,r,n)}};function KQ(t,e){return new qQ(t,e)}var jQ=class{encode(t){return JSON.stringify(t)}decode(t){return JSON.parse(t)}},WQ=class extends zM{constructor(e,r="ws://localhost:8080",{autoconnect:n=!0,reconnect:i=!0,reconnect_interval:s=1e3,max_reconnects:o=5,...a}={},c,l){super();_r(this,"address");_r(this,"rpc_id");_r(this,"queue");_r(this,"options");_r(this,"autoconnect");_r(this,"ready");_r(this,"reconnect");_r(this,"reconnect_timer_id");_r(this,"reconnect_interval");_r(this,"max_reconnects");_r(this,"rest_options");_r(this,"current_reconnects");_r(this,"generate_request_id");_r(this,"socket");_r(this,"webSocketFactory");_r(this,"dataPack");this.webSocketFactory=e,this.queue={},this.rpc_id=0,this.address=r,this.autoconnect=n,this.ready=!1,this.reconnect=i,this.reconnect_timer_id=void 0,this.reconnect_interval=s,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>++this.rpc_id),l?this.dataPack=l:this.dataPack=new jQ,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(e,r,n,i){return!i&&typeof n=="object"&&(i=n,n=null),new Promise((s,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(e,r),c={jsonrpc:"2.0",method:e,params:r||void 0,id:a};this.socket.send(this.dataPack.encode(c),i,l=>{if(l)return o(l);this.queue[a]={promise:[s,o]},n&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},n))})})}async login(e){const r=await this.call("rpc.login",e);if(!r)throw new Error("authentication failed");return r}async listMethods(){return await this.call("__listMethods")}notify(e,r){return new Promise((n,i)=>{if(!this.ready)return i(new Error("socket not ready"));const s={jsonrpc:"2.0",method:e,params:r};this.socket.send(this.dataPack.encode(s),o=>{if(o)return i(o);n()})})}async subscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.on",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);return r}async unsubscribe(e){typeof e=="string"&&(e=[e]);const r=await this.call("rpc.off",e);if(typeof e=="string"&&r[e]!=="ok")throw new Error("Failed unsubscribing from an event with: "+r);return r}close(e,r){this.socket.close(e||1e3,r)}setAutoReconnect(e){this.reconnect=e}setReconnectInterval(e){this.reconnect_interval=e}setMaxReconnects(e){this.max_reconnects=e}_connect(e,r){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(e,r),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:n})=>{n instanceof ArrayBuffer&&(n=Lt.Buffer.from(n).toString());try{n=this.dataPack.decode(n)}catch{return}if(n.notification&&this.listeners(n.notification).length){if(!Object.keys(n.params).length)return this.emit(n.notification);const i=[n.notification];if(n.params.constructor===Object)i.push(n.params);else for(let s=0;s<n.params.length;s++)i.push(n.params[s]);return Promise.resolve().then(()=>{this.emit.apply(this,i)})}if(!this.queue[n.id])return n.method?Promise.resolve().then(()=>{this.emit(n.method,n==null?void 0:n.params)}):void 0;"error"in n=="result"in n&&this.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[n.id].timeout&&clearTimeout(this.queue[n.id].timeout),n.error?this.queue[n.id].promise[1](n.error):this.queue[n.id].promise[0](n.result),delete this.queue[n.id]}),this.socket.addEventListener("error",n=>this.emit("error",n)),this.socket.addEventListener("close",({code:n,reason:i})=>{this.ready&&setTimeout(()=>this.emit("close",n,i),0),this.ready=!1,this.socket=void 0,n!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)&&(this.reconnect_timer_id=setTimeout(()=>this._connect(e,r),this.reconnect_interval)))})}};const FM=[],qM=[],KM=[],HQ=BigInt(0),Wl=BigInt(1),VQ=BigInt(2),GQ=BigInt(7),YQ=BigInt(256),JQ=BigInt(113);for(let t=0,e=Wl,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],FM.push(2*(5*n+r)),qM.push((t+1)*(t+2)/2%64);let i=HQ;for(let s=0;s<7;s++)e=(e<<Wl^(e>>GQ)*JQ)%YQ,e&VQ&&(i^=Wl<<(Wl<<BigInt(s))-Wl);KM.push(i)}const[XQ,ZQ]=rS(KM,!0),X9=(t,e,r)=>r>32?sS(t,e,r):nS(t,e,r),Z9=(t,e,r)=>r>32?oS(t,e,r):iS(t,e,r);function QQ(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],g=r[c+1],b=X9(l,g,1)^r[a],x=Z9(l,g,1)^r[a+1];for(let _=0;_<50;_+=10)t[o+_]^=b,t[o+_+1]^=x}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=qM[o],c=X9(i,s,a),l=Z9(i,s,a),g=FM[o];i=t[g],s=t[g+1],t[g]=c,t[g+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=XQ[n],t[1]^=ZQ[n]}r.fill(0)}class cw extends O3{constructor(e,r,n,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,T1(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=EC(this.state)}keccak(){$5||U5(this.state32),QQ(this.state32,this.rounds),$5||U5(this.state32),this.posOut=0,this.pos=0}update(e){Ed(this);const{blockLen:r,state:n}=this;e=Ng(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Ed(this,!1),f0(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return T1(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Z_(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new cw(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const eee=(t,e,r)=>B3(()=>new cw(e,t,r)),Q9=eee(1,136,256/8);class jM extends O3{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,SC(e);const n=Ng(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Ed(this),this.iHash.update(e),this}digestInto(e){Ed(this),f0(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const WM=(t,e,r)=>new jM(t,e).update(r).digest();WM.create=(t,e)=>new jM(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function e7(t){t.lowS!==void 0&&Ha("lowS",t.lowS),t.prehash!==void 0&&Ha("prehash",t.prehash)}function tee(t){const e=G6(t);hl(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:ree,hexToBytes:nee}=sZ,Ca={Err:class extends Error{constructor(e=""){super(e)}},_tlv:{encode:(t,e)=>{const{Err:r}=Ca;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Xu(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Xu(i.length/2|128):"";return`${Xu(t)}${s}${i}${e}`},decode(t,e){const{Err:r}=Ca;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const g of l)o=o<<8|g;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Ca;if(t<Na)throw new e("integer: negative integers are not allowed");let r=Xu(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected assertion");return r},decode(t){const{Err:e}=Ca;if(t[0]&128)throw new e("Invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return ree(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Ca,i=typeof t=="string"?nee(t):t;C0(i);const{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("Invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:g}=n.decode(2,c);if(g.length)throw new e("Invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=Ca,n=`${e.encode(2,r.encode(t.r))}${e.encode(2,r.encode(t.s))}`;return e.encode(48,n)}},Na=BigInt(0),Bn=BigInt(1);BigInt(2);const t7=BigInt(3);BigInt(4);function iee(t){const e=tee(t),{Fp:r}=e,n=Nb(e.n,e.nBitLength),i=e.toBytes||((M,B,P)=>{const R=B.toAffine();return su(Uint8Array.from([4]),r.toBytes(R.x),r.toBytes(R.y))}),s=e.fromBytes||(M=>{const B=M.subarray(1),P=r.fromBytes(B.subarray(0,r.BYTES)),R=r.fromBytes(B.subarray(r.BYTES,2*r.BYTES));return{x:P,y:R}});function o(M){const{a:B,b:P}=e,R=r.sqr(M),D=r.mul(R,M);return r.add(r.add(D,r.mul(M,B)),P)}if(!r.eql(r.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(M){return Tb(M,Bn,e.n)}function c(M){const{allowedPrivateKeyLengths:B,nByteLength:P,wrapPrivateKey:R,n:D}=e;if(B&&typeof M!="bigint"){if(nu(M)&&(M=iu(M)),typeof M!="string"||!B.includes(M.length))throw new Error("Invalid key");M=M.padStart(P*2,"0")}let U;try{U=typeof M=="bigint"?M:Wf(An("private key",M,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof M}`)}return R&&(U=Jr(U,D)),qs("private key",U,Bn,D),U}function l(M){if(!(M instanceof x))throw new Error("ProjectivePoint expected")}const g=Xh((M,B)=>{const{px:P,py:R,pz:D}=M;if(r.eql(D,r.ONE))return{x:P,y:R};const U=M.is0();B==null&&(B=U?r.ONE:r.inv(D));const F=r.mul(P,B),W=r.mul(R,B),k=r.mul(D,B);if(U)return{x:r.ZERO,y:r.ZERO};if(!r.eql(k,r.ONE))throw new Error("invZ was invalid");return{x:F,y:W}}),b=Xh(M=>{if(M.is0()){if(e.allowInfinityPoint&&!r.is0(M.py))return;throw new Error("bad point: ZERO")}const{x:B,y:P}=M.toAffine();if(!r.isValid(B)||!r.isValid(P))throw new Error("bad point: x or y not FE");const R=r.sqr(P),D=o(B);if(!r.eql(R,D))throw new Error("bad point: equation left != right");if(!M.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class x{constructor(B,P,R){if(this.px=B,this.py=P,this.pz=R,B==null||!r.isValid(B))throw new Error("x required");if(P==null||!r.isValid(P))throw new Error("y required");if(R==null||!r.isValid(R))throw new Error("z required");Object.freeze(this)}static fromAffine(B){const{x:P,y:R}=B||{};if(!B||!r.isValid(P)||!r.isValid(R))throw new Error("invalid affine point");if(B instanceof x)throw new Error("projective point not allowed");const D=U=>r.eql(U,r.ZERO);return D(P)&&D(R)?x.ZERO:new x(P,R,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(B){const P=r.invertBatch(B.map(R=>R.pz));return B.map((R,D)=>R.toAffine(P[D])).map(x.fromAffine)}static fromHex(B){const P=x.fromAffine(s(An("pointHex",B)));return P.assertValidity(),P}static fromPrivateKey(B){return x.BASE.multiply(c(B))}static msm(B,P){return iM(x,n,B,P)}_setWindowSize(B){E.setWindowSize(this,B)}assertValidity(){b(this)}hasEvenY(){const{y:B}=this.toAffine();if(r.isOdd)return!r.isOdd(B);throw new Error("Field doesn't support isOdd")}equals(B){l(B);const{px:P,py:R,pz:D}=this,{px:U,py:F,pz:W}=B,k=r.eql(r.mul(P,W),r.mul(U,D)),K=r.eql(r.mul(R,W),r.mul(F,D));return k&&K}negate(){return new x(this.px,r.neg(this.py),this.pz)}double(){const{a:B,b:P}=e,R=r.mul(P,t7),{px:D,py:U,pz:F}=this;let W=r.ZERO,k=r.ZERO,K=r.ZERO,te=r.mul(D,D),ce=r.mul(U,U),A=r.mul(F,F),f=r.mul(D,U);return f=r.add(f,f),K=r.mul(D,F),K=r.add(K,K),W=r.mul(B,K),k=r.mul(R,A),k=r.add(W,k),W=r.sub(ce,k),k=r.add(ce,k),k=r.mul(W,k),W=r.mul(f,W),K=r.mul(R,K),A=r.mul(B,A),f=r.sub(te,A),f=r.mul(B,f),f=r.add(f,K),K=r.add(te,te),te=r.add(K,te),te=r.add(te,A),te=r.mul(te,f),k=r.add(k,te),A=r.mul(U,F),A=r.add(A,A),te=r.mul(A,f),W=r.sub(W,te),K=r.mul(A,ce),K=r.add(K,K),K=r.add(K,K),new x(W,k,K)}add(B){l(B);const{px:P,py:R,pz:D}=this,{px:U,py:F,pz:W}=B;let k=r.ZERO,K=r.ZERO,te=r.ZERO;const ce=e.a,A=r.mul(e.b,t7);let f=r.mul(P,U),h=r.mul(R,F),d=r.mul(D,W),p=r.add(P,R),v=r.add(U,F);p=r.mul(p,v),v=r.add(f,h),p=r.sub(p,v),v=r.add(P,D);let w=r.add(U,W);return v=r.mul(v,w),w=r.add(f,d),v=r.sub(v,w),w=r.add(R,D),k=r.add(F,W),w=r.mul(w,k),k=r.add(h,d),w=r.sub(w,k),te=r.mul(ce,v),k=r.mul(A,d),te=r.add(k,te),k=r.sub(h,te),te=r.add(h,te),K=r.mul(k,te),h=r.add(f,f),h=r.add(h,f),d=r.mul(ce,d),v=r.mul(A,v),h=r.add(h,d),d=r.sub(f,d),d=r.mul(ce,d),v=r.add(v,d),f=r.mul(h,v),K=r.add(K,f),f=r.mul(w,v),k=r.mul(p,k),k=r.sub(k,f),f=r.mul(p,h),te=r.mul(w,te),te=r.add(te,f),new x(k,K,te)}subtract(B){return this.add(B.negate())}is0(){return this.equals(x.ZERO)}wNAF(B){return E.wNAFCached(this,B,x.normalizeZ)}multiplyUnsafe(B){qs("scalar",B,Na,e.n);const P=x.ZERO;if(B===Na)return P;if(B===Bn)return this;const{endo:R}=e;if(!R)return E.unsafeLadder(this,B);let{k1neg:D,k1:U,k2neg:F,k2:W}=R.splitScalar(B),k=P,K=P,te=this;for(;U>Na||W>Na;)U&Bn&&(k=k.add(te)),W&Bn&&(K=K.add(te)),te=te.double(),U>>=Bn,W>>=Bn;return D&&(k=k.negate()),F&&(K=K.negate()),K=new x(r.mul(K.px,R.beta),K.py,K.pz),k.add(K)}multiply(B){const{endo:P,n:R}=e;qs("scalar",B,Bn,R);let D,U;if(P){const{k1neg:F,k1:W,k2neg:k,k2:K}=P.splitScalar(B);let{p:te,f:ce}=this.wNAF(W),{p:A,f}=this.wNAF(K);te=E.constTimeNegate(F,te),A=E.constTimeNegate(k,A),A=new x(r.mul(A.px,P.beta),A.py,A.pz),D=te.add(A),U=ce.add(f)}else{const{p:F,f:W}=this.wNAF(B);D=F,U=W}return x.normalizeZ([D,U])[0]}multiplyAndAddUnsafe(B,P,R){const D=x.BASE,U=(W,k)=>k===Na||k===Bn||!W.equals(D)?W.multiplyUnsafe(k):W.multiply(k),F=U(this,P).add(U(B,R));return F.is0()?void 0:F}toAffine(B){return g(this,B)}isTorsionFree(){const{h:B,isTorsionFree:P}=e;if(B===Bn)return!0;if(P)return P(x,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:B,clearCofactor:P}=e;return B===Bn?this:P?P(x,this):this.multiplyUnsafe(e.h)}toRawBytes(B=!0){return Ha("isCompressed",B),this.assertValidity(),i(x,this,B)}toHex(B=!0){return Ha("isCompressed",B),iu(this.toRawBytes(B))}}x.BASE=new x(e.Gx,e.Gy,r.ONE),x.ZERO=new x(r.ZERO,r.ONE,r.ZERO);const _=e.nBitLength,E=nM(x,e.endo?Math.ceil(_/2):_);return{CURVE:e,ProjectivePoint:x,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function see(t){const e=G6(t);return hl(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function oee(t){const e=see(t),{Fp:r,n}=e,i=r.BYTES+1,s=2*r.BYTES+1;function o(d){return Jr(d,n)}function a(d){return A2(d,n)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:g,isWithinCurveOrder:b}=iee({...e,toBytes(d,p,v){const w=p.toAffine(),S=r.toBytes(w.x),y=su;return Ha("isCompressed",v),v?y(Uint8Array.from([p.hasEvenY()?2:3]),S):y(Uint8Array.from([4]),S,r.toBytes(w.y))},fromBytes(d){const p=d.length,v=d[0],w=d.subarray(1);if(p===i&&(v===2||v===3)){const S=Wf(w);if(!Tb(S,Bn,r.ORDER))throw new Error("Point is not on curve");const y=g(S);let u;try{u=r.sqrt(y)}catch($){const Z=$ instanceof Error?": "+$.message:"";throw new Error("Point is not on curve"+Z)}const m=(u&Bn)===Bn;return(v&1)===1!==m&&(u=r.neg(u)),{x:S,y:u}}else if(p===s&&v===4){const S=r.fromBytes(w.subarray(0,r.BYTES)),y=r.fromBytes(w.subarray(r.BYTES,2*r.BYTES));return{x:S,y}}else throw new Error(`Point of length ${p} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),x=d=>iu(Dd(d,e.nByteLength));function _(d){const p=n>>Bn;return d>p}function E(d){return _(d)?o(-d):d}const M=(d,p,v)=>Wf(d.slice(p,v));class B{constructor(p,v,w){this.r=p,this.s=v,this.recovery=w,this.assertValidity()}static fromCompact(p){const v=e.nByteLength;return p=An("compactSignature",p,v*2),new B(M(p,0,v),M(p,v,2*v))}static fromDER(p){const{r:v,s:w}=Ca.toSig(An("DER",p));return new B(v,w)}assertValidity(){qs("r",this.r,Bn,n),qs("s",this.s,Bn,n)}addRecoveryBit(p){return new B(this.r,this.s,p)}recoverPublicKey(p){const{r:v,s:w,recovery:S}=this,y=W(An("msgHash",p));if(S==null||![0,1,2,3].includes(S))throw new Error("recovery id invalid");const u=S===2||S===3?v+e.n:v;if(u>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const m=S&1?"03":"02",I=c.fromHex(m+x(u)),$=a(u),Z=o(-y*$),O=o(w*$),Q=c.BASE.multiplyAndAddUnsafe(I,Z,O);if(!Q)throw new Error("point at infinify");return Q.assertValidity(),Q}hasHighS(){return _(this.s)}normalizeS(){return this.hasHighS()?new B(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return Bd(this.toDERHex())}toDERHex(){return Ca.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Bd(this.toCompactHex())}toCompactHex(){return x(this.r)+x(this.s)}}const P={isValidPrivateKey(d){try{return l(d),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const d=rM(e.n);return gZ(e.randomBytes(d),e.n)},precompute(d=8,p=c.BASE){return p._setWindowSize(d),p.multiply(BigInt(3)),p}};function R(d,p=!0){return c.fromPrivateKey(d).toRawBytes(p)}function D(d){const p=nu(d),v=typeof d=="string",w=(p||v)&&d.length;return p?w===i||w===s:v?w===2*i||w===2*s:d instanceof c}function U(d,p,v=!0){if(D(d))throw new Error("first arg must be private key");if(!D(p))throw new Error("second arg must be public key");return c.fromHex(p).multiply(l(d)).toRawBytes(v)}const F=e.bits2int||function(d){const p=Wf(d),v=d.length*8-e.nBitLength;return v>0?p>>BigInt(v):p},W=e.bits2int_modN||function(d){return o(F(d))},k=V6(e.nBitLength);function K(d){return qs(`num < 2^${e.nBitLength}`,d,Na,k),Dd(d,e.nByteLength)}function te(d,p,v=ce){if(["recovered","canonical"].some(X=>X in v))throw new Error("sign() legacy options not supported");const{hash:w,randomBytes:S}=e;let{lowS:y,prehash:u,extraEntropy:m}=v;y==null&&(y=!0),d=An("msgHash",d),e7(v),u&&(d=An("prehashed msgHash",w(d)));const I=W(d),$=l(p),Z=[K($),K(I)];if(m!=null&&m!==!1){const X=m===!0?S(r.BYTES):m;Z.push(An("extraEntropy",X))}const O=su(...Z),Q=I;function Y(X){const J=F(X);if(!b(J))return;const N=a(J),ee=c.BASE.multiply(J).toAffine(),se=o(ee.x);if(se===Na)return;const le=o(N*o(Q+se*$));if(le===Na)return;let Ee=(ee.x===se?0:2)|Number(ee.y&Bn),ye=le;return y&&_(le)&&(ye=E(le),Ee^=1),new B(se,ye,Ee)}return{seed:O,k2sig:Y}}const ce={lowS:e.lowS,prehash:!1},A={lowS:e.lowS,prehash:!1};function f(d,p,v=ce){const{seed:w,k2sig:S}=te(d,p,v),y=e;return QI(y.hash.outputLen,y.nByteLength,y.hmac)(w,S)}c.BASE._setWindowSize(8);function h(d,p,v,w=A){var ee;const S=d;if(p=An("msgHash",p),v=An("publicKey",v),"strict"in w)throw new Error("options.strict was renamed to lowS");e7(w);const{lowS:y,prehash:u}=w;let m,I;try{if(typeof S=="string"||nu(S))try{m=B.fromDER(S)}catch(se){if(!(se instanceof Ca.Err))throw se;m=B.fromCompact(S)}else if(typeof S=="object"&&typeof S.r=="bigint"&&typeof S.s=="bigint"){const{r:se,s:le}=S;m=new B(se,le)}else throw new Error("PARSE");I=c.fromHex(v)}catch(se){if(se.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(y&&m.hasHighS())return!1;u&&(p=e.hash(p));const{r:$,s:Z}=m,O=W(p),Q=a(Z),Y=o(O*Q),X=o($*Q),J=(ee=c.BASE.multiplyAndAddUnsafe(I,Y,X))==null?void 0:ee.toAffine();return J?o(J.x)===$:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:U,sign:f,verify:h,ProjectivePoint:c,Signature:B,utils:P}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function aee(t){return{hash:t,hmac:(e,...r)=>WM(t,e,MC(...r)),randomBytes:Q_}}function cee(t,e){const r=n=>oee({...t,...aee(n)});return Object.freeze({...r(e),create:r})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const HM=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),r7=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),fee=BigInt(1),M2=BigInt(2),n7=(t,e)=>(t+e/M2)/e;function uee(t){const e=HM,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,g=l*l*t%e,b=cn(g,r,e)*g%e,x=cn(b,r,e)*g%e,_=cn(x,M2,e)*l%e,E=cn(_,i,e)*_%e,M=cn(E,s,e)*E%e,B=cn(M,a,e)*M%e,P=cn(B,c,e)*B%e,R=cn(P,a,e)*M%e,D=cn(R,r,e)*g%e,U=cn(D,o,e)*E%e,F=cn(U,n,e)*l%e,W=cn(F,M2,e);if(!P2.eql(P2.sqr(W),t))throw new Error("Cannot find square root");return W}const P2=Nb(HM,void 0,void 0,{sqrt:uee}),zb=cee({a:BigInt(0),b:BigInt(7),Fp:P2,n:r7,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=r7,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-fee*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,o=BigInt("0x100000000000000000000000000000000"),a=n7(s*t,e),c=n7(-n*t,e);let l=Jr(t-a*r-c*i,e),g=Jr(-a*n-c*s,e);const b=l>o,x=g>o;if(b&&(l=e-l),x&&(g=e-g),l>o||g>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:b,k1:l,k2neg:x,k2:g}}}},Tm);BigInt(0);zb.ProjectivePoint;const dee=pl.utils.randomPrivateKey,i7=()=>{const t=pl.utils.randomPrivateKey(),e=lg(t),r=new Uint8Array(64);return r.set(t),r.set(e,32),{publicKey:e,secretKey:r}},lg=pl.getPublicKey;function s7(t){try{return pl.ExtendedPoint.fromHex(t),!0}catch{return!1}}const fw=(t,e)=>pl.sign(t,e.slice(0,32)),lee=pl.verify,er=t=>Lt.Buffer.isBuffer(t)?t:t instanceof Uint8Array?Lt.Buffer.from(t.buffer,t.byteOffset,t.byteLength):Lt.Buffer.from(t);class uw{constructor(e){Object.assign(this,e)}encode(){return Lt.Buffer.from(dM(yh,this))}static decode(e){return lM(yh,this,e)}static decodeUnchecked(e){return oM(yh,this,e)}}class hee extends uw{constructor(e){if(super(e),this.enum="",Object.keys(e).length!==1)throw new Error("Enum can only take single value");Object.keys(e).map(r=>{this.enum=r})}}const yh=new Map;var VM;const GM=32,ia=32;function pee(t){return t._bn!==void 0}let o7=1;class Ne extends uw{constructor(e){if(super({}),this._bn=void 0,pee(e))this._bn=e._bn;else{if(typeof e=="string"){const r=ii.decode(e);if(r.length!=ia)throw new Error("Invalid public key input");this._bn=new Kt(r)}else this._bn=new Kt(e);if(this._bn.byteLength()>ia)throw new Error("Invalid public key input")}}static unique(){const e=new Ne(o7);return o7+=1,new Ne(e.toBuffer())}equals(e){return this._bn.eq(e._bn)}toBase58(){return ii.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const e=this.toBuffer();return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}toBuffer(){const e=this._bn.toArrayLike(Lt.Buffer);if(e.length===ia)return e;const r=Lt.Buffer.alloc(32);return e.copy(r,32-e.length),r}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(e,r,n){const i=Lt.Buffer.concat([e.toBuffer(),Lt.Buffer.from(r),n.toBuffer()]),s=Tm(i);return new Ne(s)}static createProgramAddressSync(e,r){let n=Lt.Buffer.alloc(0);e.forEach(function(s){if(s.length>GM)throw new TypeError("Max seed length exceeded");n=Lt.Buffer.concat([n,er(s)])}),n=Lt.Buffer.concat([n,r.toBuffer(),Lt.Buffer.from("ProgramDerivedAddress")]);const i=Tm(n);if(s7(i))throw new Error("Invalid seeds, address must fall off the curve");return new Ne(i)}static async createProgramAddress(e,r){return this.createProgramAddressSync(e,r)}static findProgramAddressSync(e,r){let n=255,i;for(;n!=0;){try{const s=e.concat(Lt.Buffer.from([n]));i=this.createProgramAddressSync(s,r)}catch(s){if(s instanceof TypeError)throw s;n--;continue}return[i,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(e,r){return this.findProgramAddressSync(e,r)}static isOnCurve(e){const r=new Ne(e);return s7(r.toBytes())}}VM=Ne;Ne.default=new VM("11111111111111111111111111111111");yh.set(Ne,{kind:"struct",fields:[["_bn","u256"]]});class gee{constructor(e){if(this._publicKey=void 0,this._secretKey=void 0,e){const r=er(e);if(e.length!==64)throw new Error("bad secret key size");this._publicKey=r.slice(32,64),this._secretKey=r.slice(0,32)}else this._secretKey=er(dee()),this._publicKey=er(lg(this._secretKey))}get publicKey(){return new Ne(this._publicKey)}get secretKey(){return Lt.Buffer.concat([this._secretKey,this._publicKey],64)}}const bee=new Ne("BPFLoader1111111111111111111111111111111111"),Wc=1232,Fb=127,Qh=64;class dw extends Error{constructor(e){super(`Signature ${e} has expired: block height exceeded.`),this.signature=void 0,this.signature=e}}Object.defineProperty(dw.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class lw extends Error{constructor(e,r){super(`Transaction was not confirmed in ${r.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${e} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=e}}Object.defineProperty(lw.prototype,"name",{value:"TransactionExpiredTimeoutError"});class Zu extends Error{constructor(e){super(`Signature ${e} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=e}}Object.defineProperty(Zu.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class e0{constructor(e,r){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=e,this.accountKeysFromLookups=r}keySegments(){const e=[this.staticAccountKeys];return this.accountKeysFromLookups&&(e.push(this.accountKeysFromLookups.writable),e.push(this.accountKeysFromLookups.readonly)),e}get(e){for(const r of this.keySegments()){if(e<r.length)return r[e];e-=r.length}}get length(){return this.keySegments().flat().length}compileInstructions(e){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((s,o)=>{n.set(s.toBase58(),o)});const i=s=>{const o=n.get(s.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return e.map(s=>({programIdIndex:i(s.programId),accountKeyIndexes:s.keys.map(o=>i(o.pubkey)),data:s.data}))}}const rr=(t="publicKey")=>Wr(32,t),vee=(t="signature")=>Wr(64,t),Df=(t="string")=>{const e=Ct([Rt("length"),Rt("lengthPadding"),Wr(jc(Rt(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),i=e;return i.decode=(s,o)=>r(s,o).chars.toString(),i.encode=(s,o,a)=>{const c={chars:Lt.Buffer.from(s,"utf8")};return n(c,o,a)},i.alloc=s=>Rt().span+Rt().span+Lt.Buffer.from(s,"utf8").length,i},yee=(t="authorized")=>Ct([rr("staker"),rr("withdrawer")],t),mee=(t="lockup")=>Ct([ls("unixTimestamp"),ls("epoch"),rr("custodian")],t),wee=(t="voteInit")=>Ct([rr("nodePubkey"),rr("authorizedVoter"),rr("authorizedWithdrawer"),gr("commission")],t),xee=(t="voteAuthorizeWithSeedArgs")=>Ct([Rt("voteAuthorizationType"),rr("currentAuthorityDerivedKeyOwnerPubkey"),Df("currentAuthorityDerivedKeySeed"),rr("newAuthorized")],t);function YM(t,e){const r=i=>{if(i.span>=0)return i.span;if(typeof i.alloc=="function")return i.alloc(e[i.property]);if("count"in i&&"elementLayout"in i){const s=e[i.property];if(Array.isArray(s))return s.length*r(i.elementLayout)}else if("fields"in i)return YM({layout:i},e[i.property]);return 0};let n=0;return t.layout.fields.forEach(i=>{n+=r(i)}),n}function Yi(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(n&127)<<r*7,r+=1,!(n&128))break}return e}function hs(t,e){let r=e;for(;;){let n=r&127;if(r>>=7,r==0){t.push(n);break}else n|=128,t.push(n)}}function yr(t,e){if(!t)throw new Error(e||"Assertion failed")}class qb{constructor(e,r){this.payer=void 0,this.keyMetaMap=void 0,this.payer=e,this.keyMetaMap=r}static compile(e,r){const n=new Map,i=o=>{const a=o.toBase58();let c=n.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,c)),c},s=i(r);s.isSigner=!0,s.isWritable=!0;for(const o of e){i(o.programId).isInvoked=!0;for(const a of o.keys){const c=i(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new qb(r,n)}getMessageComponents(){const e=[...this.keyMetaMap.entries()];yr(e.length<=256,"Max static account keys length exceeded");const r=e.filter(([,c])=>c.isSigner&&c.isWritable),n=e.filter(([,c])=>c.isSigner&&!c.isWritable),i=e.filter(([,c])=>!c.isSigner&&c.isWritable),s=e.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:r.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:s.length};{yr(r.length>0,"Expected at least one writable signer key");const[c]=r[0];yr(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...r.map(([c])=>new Ne(c)),...n.map(([c])=>new Ne(c)),...i.map(([c])=>new Ne(c)),...s.map(([c])=>new Ne(c))];return[o,a]}extractTableLookup(e){const[r,n]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[i,s]=this.drainKeysFoundInLookupTable(e.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(r.length===0&&i.length===0))return[{accountKey:e.key,writableIndexes:r,readonlyIndexes:i},{writable:n,readonly:s}]}drainKeysFoundInLookupTable(e,r){const n=new Array,i=new Array;for(const[s,o]of this.keyMetaMap.entries())if(r(o)){const a=new Ne(s),c=e.findIndex(l=>l.equals(a));c>=0&&(yr(c<256,"Max lookup table index exceeded"),n.push(c),i.push(a),this.keyMetaMap.delete(s))}return[n,i]}}const JM="Reached end of buffer unexpectedly";function Vo(t){if(t.length===0)throw new Error(JM);return t.shift()}function Ji(t,...e){const[r]=e;if(e.length===2?r+(e[1]??0)>t.length:r>=t.length)throw new Error(JM);return t.splice(...e)}class Ro{constructor(e){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=e.header,this.accountKeys=e.accountKeys.map(r=>new Ne(r)),this.recentBlockhash=e.recentBlockhash,this.instructions=e.instructions,this.instructions.forEach(r=>this.indexToProgramIds.set(r.programIdIndex,this.accountKeys[r.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(e=>({programIdIndex:e.programIdIndex,accountKeyIndexes:e.accounts,data:ii.decode(e.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new e0(this.staticAccountKeys)}static compile(e){const r=qb.compile(e.instructions,e.payerKey),[n,i]=r.getMessageComponents(),o=new e0(i).compileInstructions(e.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:ii.encode(a.data)}));return new Ro({header:n,accountKeys:i,recentBlockhash:e.recentBlockhash,instructions:o})}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures;if(e>=this.header.numRequiredSignatures){const n=e-r,s=this.accountKeys.length-r-this.header.numReadonlyUnsignedAccounts;return n<s}else{const n=r-this.header.numReadonlySignedAccounts;return e<n}}isProgramId(e){return this.indexToProgramIds.has(e)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((e,r)=>!this.isProgramId(r))}serialize(){const e=this.accountKeys.length;let r=[];hs(r,e);const n=this.instructions.map(b=>{const{accounts:x,programIdIndex:_}=b,E=Array.from(ii.decode(b.data));let M=[];hs(M,x.length);let B=[];return hs(B,E.length),{programIdIndex:_,keyIndicesCount:Lt.Buffer.from(M),keyIndices:x,dataLength:Lt.Buffer.from(B),data:E}});let i=[];hs(i,n.length);let s=Lt.Buffer.alloc(Wc);Lt.Buffer.from(i).copy(s);let o=i.length;n.forEach(b=>{const _=Ct([gr("programIdIndex"),Wr(b.keyIndicesCount.length,"keyIndicesCount"),si(gr("keyIndex"),b.keyIndices.length,"keyIndices"),Wr(b.dataLength.length,"dataLength"),si(gr("userdatum"),b.data.length,"data")]).encode(b,s,o);o+=_}),s=s.slice(0,o);const a=Ct([Wr(1,"numRequiredSignatures"),Wr(1,"numReadonlySignedAccounts"),Wr(1,"numReadonlyUnsignedAccounts"),Wr(r.length,"keyCount"),si(rr("key"),e,"keys"),rr("recentBlockhash")]),c={numRequiredSignatures:Lt.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Lt.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Lt.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Lt.Buffer.from(r),keys:this.accountKeys.map(b=>er(b.toBytes())),recentBlockhash:ii.decode(this.recentBlockhash)};let l=Lt.Buffer.alloc(2048);const g=a.encode(c,l);return s.copy(l,g),l.slice(0,g+s.length)}static from(e){let r=[...e];const n=Vo(r);if(n!==(n&Fb))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const i=Vo(r),s=Vo(r),o=Yi(r);let a=[];for(let x=0;x<o;x++){const _=Ji(r,0,ia);a.push(new Ne(Lt.Buffer.from(_)))}const c=Ji(r,0,ia),l=Yi(r);let g=[];for(let x=0;x<l;x++){const _=Vo(r),E=Yi(r),M=Ji(r,0,E),B=Yi(r),P=Ji(r,0,B),R=ii.encode(Lt.Buffer.from(P));g.push({programIdIndex:_,accounts:M,data:R})}const b={header:{numRequiredSignatures:n,numReadonlySignedAccounts:i,numReadonlyUnsignedAccounts:s},recentBlockhash:ii.encode(Lt.Buffer.from(c)),accountKeys:a,instructions:g};return new Ro(b)}}class ou{constructor(e){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=e.header,this.staticAccountKeys=e.staticAccountKeys,this.recentBlockhash=e.recentBlockhash,this.compiledInstructions=e.compiledInstructions,this.addressTableLookups=e.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let e=0;for(const r of this.addressTableLookups)e+=r.readonlyIndexes.length+r.writableIndexes.length;return e}getAccountKeys(e){let r;if(e&&"accountKeysFromLookups"in e&&e.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=e.accountKeysFromLookups.writable.length+e.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");r=e.accountKeysFromLookups}else if(e&&"addressLookupTableAccounts"in e&&e.addressLookupTableAccounts)r=this.resolveAddressTableLookups(e.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new e0(this.staticAccountKeys,r)}isAccountSigner(e){return e<this.header.numRequiredSignatures}isAccountWritable(e){const r=this.header.numRequiredSignatures,n=this.staticAccountKeys.length;if(e>=n){const i=e-n,s=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return i<s}else if(e>=this.header.numRequiredSignatures){const i=e-r,o=n-r-this.header.numReadonlyUnsignedAccounts;return i<o}else{const i=r-this.header.numReadonlySignedAccounts;return e<i}}resolveAddressTableLookups(e){const r={writable:[],readonly:[]};for(const n of this.addressTableLookups){const i=e.find(s=>s.key.equals(n.accountKey));if(!i)throw new Error(`Failed to find address lookup table account for table key ${n.accountKey.toBase58()}`);for(const s of n.writableIndexes)if(s<i.state.addresses.length)r.writable.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`);for(const s of n.readonlyIndexes)if(s<i.state.addresses.length)r.readonly.push(i.state.addresses[s]);else throw new Error(`Failed to find address for index ${s} in address lookup table ${n.accountKey.toBase58()}`)}return r}static compile(e){const r=qb.compile(e.instructions,e.payerKey),n=new Array,i={writable:new Array,readonly:new Array},s=e.addressLookupTableAccounts||[];for(const g of s){const b=r.extractTableLookup(g);if(b!==void 0){const[x,{writable:_,readonly:E}]=b;n.push(x),i.writable.push(..._),i.readonly.push(...E)}}const[o,a]=r.getMessageComponents(),l=new e0(a,i).compileInstructions(e.instructions);return new ou({header:o,staticAccountKeys:a,recentBlockhash:e.recentBlockhash,compiledInstructions:l,addressTableLookups:n})}serialize(){const e=Array();hs(e,this.staticAccountKeys.length);const r=this.serializeInstructions(),n=Array();hs(n,this.compiledInstructions.length);const i=this.serializeAddressTableLookups(),s=Array();hs(s,this.addressTableLookups.length);const o=Ct([gr("prefix"),Ct([gr("numRequiredSignatures"),gr("numReadonlySignedAccounts"),gr("numReadonlyUnsignedAccounts")],"header"),Wr(e.length,"staticAccountKeysLength"),si(rr(),this.staticAccountKeys.length,"staticAccountKeys"),rr("recentBlockhash"),Wr(n.length,"instructionsLength"),Wr(r.length,"serializedInstructions"),Wr(s.length,"addressTableLookupsLength"),Wr(i.length,"serializedAddressTableLookups")]),a=new Uint8Array(Wc),l=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(e),staticAccountKeys:this.staticAccountKeys.map(g=>g.toBytes()),recentBlockhash:ii.decode(this.recentBlockhash),instructionsLength:new Uint8Array(n),serializedInstructions:r,addressTableLookupsLength:new Uint8Array(s),serializedAddressTableLookups:i},a);return a.slice(0,l)}serializeInstructions(){let e=0;const r=new Uint8Array(Wc);for(const n of this.compiledInstructions){const i=Array();hs(i,n.accountKeyIndexes.length);const s=Array();hs(s,n.data.length);const o=Ct([gr("programIdIndex"),Wr(i.length,"encodedAccountKeyIndexesLength"),si(gr(),n.accountKeyIndexes.length,"accountKeyIndexes"),Wr(s.length,"encodedDataLength"),Wr(n.data.length,"data")]);e+=o.encode({programIdIndex:n.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(i),accountKeyIndexes:n.accountKeyIndexes,encodedDataLength:new Uint8Array(s),data:n.data},r,e)}return r.slice(0,e)}serializeAddressTableLookups(){let e=0;const r=new Uint8Array(Wc);for(const n of this.addressTableLookups){const i=Array();hs(i,n.writableIndexes.length);const s=Array();hs(s,n.readonlyIndexes.length);const o=Ct([rr("accountKey"),Wr(i.length,"encodedWritableIndexesLength"),si(gr(),n.writableIndexes.length,"writableIndexes"),Wr(s.length,"encodedReadonlyIndexesLength"),si(gr(),n.readonlyIndexes.length,"readonlyIndexes")]);e+=o.encode({accountKey:n.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(i),writableIndexes:n.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(s),readonlyIndexes:n.readonlyIndexes},r,e)}return r.slice(0,e)}static deserialize(e){let r=[...e];const n=Vo(r),i=n&Fb;yr(n!==i,"Expected versioned message but received legacy message");const s=i;yr(s===0,`Expected versioned message with version 0 but found version ${s}`);const o={numRequiredSignatures:Vo(r),numReadonlySignedAccounts:Vo(r),numReadonlyUnsignedAccounts:Vo(r)},a=[],c=Yi(r);for(let E=0;E<c;E++)a.push(new Ne(Ji(r,0,ia)));const l=ii.encode(Ji(r,0,ia)),g=Yi(r),b=[];for(let E=0;E<g;E++){const M=Vo(r),B=Yi(r),P=Ji(r,0,B),R=Yi(r),D=new Uint8Array(Ji(r,0,R));b.push({programIdIndex:M,accountKeyIndexes:P,data:D})}const x=Yi(r),_=[];for(let E=0;E<x;E++){const M=new Ne(Ji(r,0,ia)),B=Yi(r),P=Ji(r,0,B),R=Yi(r),D=Ji(r,0,R);_.push({accountKey:M,writableIndexes:P,readonlyIndexes:D})}return new ou({header:o,staticAccountKeys:a,recentBlockhash:l,compiledInstructions:b,addressTableLookups:_})}}const hw={deserializeMessageVersion(t){const e=t[0],r=e&Fb;return r===e?"legacy":r},deserialize:t=>{const e=hw.deserializeMessageVersion(t);if(e==="legacy")return Ro.from(t);if(e===0)return ou.deserialize(t);throw new Error(`Transaction message version ${e} deserialization is not supported`)}};let Ia=function(t){return t[t.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",t[t.PROCESSED=1]="PROCESSED",t[t.TIMED_OUT=2]="TIMED_OUT",t[t.NONCE_INVALID=3]="NONCE_INVALID",t}({});const _ee=Lt.Buffer.alloc(Qh).fill(0);class Cr{constructor(e){this.keys=void 0,this.programId=void 0,this.data=Lt.Buffer.alloc(0),this.programId=e.programId,this.keys=e.keys,e.data&&(this.data=e.data)}toJSON(){return{keys:this.keys.map(({pubkey:e,isSigner:r,isWritable:n})=>({pubkey:e.toJSON(),isSigner:r,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class nr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(e){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!e)if(e.feePayer&&(this.feePayer=e.feePayer),e.signatures&&(this.signatures=e.signatures),Object.prototype.hasOwnProperty.call(e,"nonceInfo")){const{minContextSlot:r,nonceInfo:n}=e;this.minNonceContextSlot=r,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(e,"lastValidBlockHeight")){const{blockhash:r,lastValidBlockHeight:n}=e;this.recentBlockhash=r,this.lastValidBlockHeight=n}else{const{recentBlockhash:r,nonceInfo:n}=e;n&&(this.nonceInfo=n),this.recentBlockhash=r}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(e=>e.toJSON()),signers:this.signatures.map(({publicKey:e})=>e.toJSON())}}add(...e){if(e.length===0)throw new Error("No instructions");return e.forEach(r=>{"instructions"in r?this.instructions=this.instructions.concat(r.instructions):"data"in r&&"programId"in r&&"keys"in r?this.instructions.push(r):this.instructions.push(new Cr(r))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let e,r;if(this.nonceInfo?(e=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?r=[this.nonceInfo.nonceInstruction,...this.instructions]:r=this.instructions):(e=this.recentBlockhash,r=this.instructions),!e)throw new Error("Transaction recentBlockhash required");r.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let M=0;M<r.length;M++)if(r[M].programId===void 0)throw new Error(`Transaction instruction index ${M} has undefined program id`);const i=[],s=[];r.forEach(M=>{M.keys.forEach(P=>{s.push({...P})});const B=M.programId.toString();i.includes(B)||i.push(B)}),i.forEach(M=>{s.push({pubkey:new Ne(M),isSigner:!1,isWritable:!1})});const o=[];s.forEach(M=>{const B=M.pubkey.toString(),P=o.findIndex(R=>R.pubkey.toString()===B);P>-1?(o[P].isWritable=o[P].isWritable||M.isWritable,o[P].isSigner=o[P].isSigner||M.isSigner):o.push(M)}),o.sort(function(M,B){if(M.isSigner!==B.isSigner)return M.isSigner?-1:1;if(M.isWritable!==B.isWritable)return M.isWritable?-1:1;const P={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return M.pubkey.toBase58().localeCompare(B.pubkey.toBase58(),"en",P)});const a=o.findIndex(M=>M.pubkey.equals(n));if(a>-1){const[M]=o.splice(a,1);M.isSigner=!0,M.isWritable=!0,o.unshift(M)}else o.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const M of this.signatures){const B=o.findIndex(P=>P.pubkey.equals(M.publicKey));if(B>-1)o[B].isSigner||(o[B].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${M.publicKey.toString()}`)}let c=0,l=0,g=0;const b=[],x=[];o.forEach(({pubkey:M,isSigner:B,isWritable:P})=>{B?(b.push(M.toString()),c+=1,P||(l+=1)):(x.push(M.toString()),P||(g+=1))});const _=b.concat(x),E=r.map(M=>{const{data:B,programId:P}=M;return{programIdIndex:_.indexOf(P.toString()),accounts:M.keys.map(R=>_.indexOf(R.pubkey.toString())),data:ii.encode(B)}});return E.forEach(M=>{yr(M.programIdIndex>=0),M.accounts.forEach(B=>yr(B>=0))}),new Ro({header:{numRequiredSignatures:c,numReadonlySignedAccounts:l,numReadonlyUnsignedAccounts:g},accountKeys:_,recentBlockhash:e,instructions:E})}_compile(){const e=this.compileMessage(),r=e.accountKeys.slice(0,e.header.numRequiredSignatures);return this.signatures.length===r.length&&this.signatures.every((i,s)=>r[s].equals(i.publicKey))||(this.signatures=r.map(n=>({signature:null,publicKey:n}))),e}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(e){return(await e.getFeeForMessage(this.compileMessage())).value}setSigners(...e){if(e.length===0)throw new Error("No signers");const r=new Set;this.signatures=e.filter(n=>{const i=n.toString();return r.has(i)?!1:(r.add(i),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}this.signatures=n.map(s=>({signature:null,publicKey:s.publicKey}));const i=this._compile();this._partialSign(i,...n)}partialSign(...e){if(e.length===0)throw new Error("No signers");const r=new Set,n=[];for(const s of e){const o=s.publicKey.toString();r.has(o)||(r.add(o),n.push(s))}const i=this._compile();this._partialSign(i,...n)}_partialSign(e,...r){const n=e.serialize();r.forEach(i=>{const s=fw(n,i.secretKey);this._addSignature(i.publicKey,er(s))})}addSignature(e,r){this._compile(),this._addSignature(e,r)}_addSignature(e,r){yr(r.length===64);const n=this.signatures.findIndex(i=>e.equals(i.publicKey));if(n<0)throw new Error(`unknown signer: ${e.toString()}`);this.signatures[n].signature=Lt.Buffer.from(r)}verifySignatures(e=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),e)}_getMessageSignednessErrors(e,r){const n={};for(const{signature:i,publicKey:s}of this.signatures)i===null?r&&(n.missing||(n.missing=[])).push(s):lee(i,e,s.toBytes())||(n.invalid||(n.invalid=[])).push(s);return n.invalid||n.missing?n:void 0}serialize(e){const{requireAllSignatures:r,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},e),i=this.serializeMessage();if(n){const s=this._getMessageSignednessErrors(i,r);if(s){let o="Signature verification failed.";throw s.invalid&&(o+=`
Invalid signature for public key${s.invalid.length===1?"":"(s)"} [\`${s.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),s.missing&&(o+=`
Missing signature for public key${s.missing.length===1?"":"(s)"} [\`${s.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(i)}_serialize(e){const{signatures:r}=this,n=[];hs(n,r.length);const i=n.length+r.length*64+e.length,s=Lt.Buffer.alloc(i);return yr(r.length<256),Lt.Buffer.from(n).copy(s,0),r.forEach(({signature:o},a)=>{o!==null&&(yr(o.length===64,"signature has invalid length"),Lt.Buffer.from(o).copy(s,n.length+a*64))}),e.copy(s,n.length+r.length*64),yr(s.length<=Wc,`Transaction too large: ${s.length} > ${Wc}`),s}get keys(){return yr(this.instructions.length===1),this.instructions[0].keys.map(e=>e.pubkey)}get programId(){return yr(this.instructions.length===1),this.instructions[0].programId}get data(){return yr(this.instructions.length===1),this.instructions[0].data}static from(e){let r=[...e];const n=Yi(r);let i=[];for(let s=0;s<n;s++){const o=Ji(r,0,Qh);i.push(ii.encode(Lt.Buffer.from(o)))}return nr.populate(Ro.from(r),i)}static populate(e,r=[]){const n=new nr;return n.recentBlockhash=e.recentBlockhash,e.header.numRequiredSignatures>0&&(n.feePayer=e.accountKeys[0]),r.forEach((i,s)=>{const o={signature:i==ii.encode(_ee)?null:ii.decode(i),publicKey:e.accountKeys[s]};n.signatures.push(o)}),e.instructions.forEach(i=>{const s=i.accounts.map(o=>{const a=e.accountKeys[o];return{pubkey:a,isSigner:n.signatures.some(c=>c.publicKey.toString()===a.toString())||e.isAccountSigner(o),isWritable:e.isAccountWritable(o)}});n.instructions.push(new Cr({keys:s,programId:e.accountKeys[i.programIdIndex],data:ii.decode(i.data)}))}),n._message=e,n._json=n.toJSON(),n}}class Ic{constructor(e){this.payerKey=void 0,this.instructions=void 0,this.recentBlockhash=void 0,this.payerKey=e.payerKey,this.instructions=e.instructions,this.recentBlockhash=e.recentBlockhash}static decompile(e,r){const{header:n,compiledInstructions:i,recentBlockhash:s}=e,{numRequiredSignatures:o,numReadonlySignedAccounts:a,numReadonlyUnsignedAccounts:c}=n,l=o-a;yr(l>0,"Message header is invalid");const g=e.staticAccountKeys.length-o-c;yr(g>=0,"Message header is invalid");const b=e.getAccountKeys(r),x=b.get(0);if(x===void 0)throw new Error("Failed to decompile message because no account keys were found");const _=[];for(const E of i){const M=[];for(const P of E.accountKeyIndexes){const R=b.get(P);if(R===void 0)throw new Error(`Failed to find key for account key index ${P}`);const D=P<o;let U;D?U=P<l:P<b.staticAccountKeys.length?U=P-o<g:U=P-b.staticAccountKeys.length<b.accountKeysFromLookups.writable.length,M.push({pubkey:R,isSigner:P<n.numRequiredSignatures,isWritable:U})}const B=b.get(E.programIdIndex);if(B===void 0)throw new Error(`Failed to find program id for program id index ${E.programIdIndex}`);_.push(new Cr({programId:B,data:er(E.data),keys:M}))}return new Ic({payerKey:x,instructions:_,recentBlockhash:s})}compileToLegacyMessage(){return Ro.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions})}compileToV0Message(e){return ou.compile({payerKey:this.payerKey,recentBlockhash:this.recentBlockhash,instructions:this.instructions,addressLookupTableAccounts:e})}}class ps{get version(){return this.message.version}constructor(e,r){if(this.signatures=void 0,this.message=void 0,r!==void 0)yr(r.length===e.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=r;else{const n=[];for(let i=0;i<e.header.numRequiredSignatures;i++)n.push(new Uint8Array(Qh));this.signatures=n}this.message=e}serialize(){const e=this.message.serialize(),r=Array();hs(r,this.signatures.length);const n=Ct([Wr(r.length,"encodedSignaturesLength"),si(vee(),this.signatures.length,"signatures"),Wr(e.length,"serializedMessage")]),i=new Uint8Array(2048),s=n.encode({encodedSignaturesLength:new Uint8Array(r),signatures:this.signatures,serializedMessage:e},i);return i.slice(0,s)}static deserialize(e){let r=[...e];const n=[],i=Yi(r);for(let o=0;o<i;o++)n.push(new Uint8Array(Ji(r,0,Qh)));const s=hw.deserialize(new Uint8Array(r));return new ps(s,n)}sign(e){const r=this.message.serialize(),n=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const i of e){const s=n.findIndex(o=>o.equals(i.publicKey));yr(s>=0,`Cannot sign with non signer key ${i.publicKey.toBase58()}`),this.signatures[s]=fw(r,i.secretKey)}}addSignature(e,r){yr(r.byteLength===64,"Signature must be 64 bytes long");const i=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(s=>s.equals(e));yr(i>=0,`Can not add signature; \`${e.toBase58()}\` is not required to sign this transaction`),this.signatures[i]=r}}const See=160,Eee=64,Aee=See/Eee,XM=1e3/Aee,jo=new Ne("SysvarC1ock11111111111111111111111111111111"),Iee=new Ne("SysvarEpochSchedu1e111111111111111111111111"),Mee=new Ne("Sysvar1nstructions1111111111111111111111111"),i1=new Ne("SysvarRecentB1ockHashes11111111111111111111"),$d=new Ne("SysvarRent111111111111111111111111111111111"),Pee=new Ne("SysvarRewards111111111111111111111111111111"),kee=new Ne("SysvarS1otHashes111111111111111111111111111"),Ree=new Ne("SysvarS1otHistory11111111111111111111111111"),s1=new Ne("SysvarStakeHistory1111111111111111111111111");class t0 extends Error{constructor({action:e,signature:r,transactionMessage:n,logs:i}){const s=i?`Logs: 
${JSON.stringify(i.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(e){case"send":a=`Transaction ${r} resulted in an error. 
${n}. `+s+o;break;case"simulate":a=`Simulation failed. 
Message: ${n}. 
`+s+o;break;default:a=`Unknown action '${(c=>c)(e)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=r,this.transactionMessage=n,this.transactionLogs=i||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const e=this.transactionLogs;if(!(e!=null&&typeof e=="object"&&"then"in e))return e}async getLogs(e){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((r,n)=>{e.getTransaction(this.signature).then(i=>{if(i&&i.meta&&i.meta.logMessages){const s=i.meta.logMessages;this.transactionLogs=s,r(s)}else n(new Error("Log messages not found"))}).catch(n)})),await this.transactionLogs}}const Cee={JSON_RPC_SERVER_ERROR_BLOCK_CLEANED_UP:-32001,JSON_RPC_SERVER_ERROR_SEND_TRANSACTION_PREFLIGHT_FAILURE:-32002,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_VERIFICATION_FAILURE:-32003,JSON_RPC_SERVER_ERROR_BLOCK_NOT_AVAILABLE:-32004,JSON_RPC_SERVER_ERROR_NODE_UNHEALTHY:-32005,JSON_RPC_SERVER_ERROR_TRANSACTION_PRECOMPILE_VERIFICATION_FAILURE:-32006,JSON_RPC_SERVER_ERROR_SLOT_SKIPPED:-32007,JSON_RPC_SERVER_ERROR_NO_SNAPSHOT:-32008,JSON_RPC_SERVER_ERROR_LONG_TERM_STORAGE_SLOT_SKIPPED:-32009,JSON_RPC_SERVER_ERROR_KEY_EXCLUDED_FROM_SECONDARY_INDEX:-32010,JSON_RPC_SERVER_ERROR_TRANSACTION_HISTORY_NOT_AVAILABLE:-32011,JSON_RPC_SCAN_ERROR:-32012,JSON_RPC_SERVER_ERROR_TRANSACTION_SIGNATURE_LEN_MISMATCH:-32013,JSON_RPC_SERVER_ERROR_BLOCK_STATUS_NOT_AVAILABLE_YET:-32014,JSON_RPC_SERVER_ERROR_UNSUPPORTED_TRANSACTION_VERSION:-32015,JSON_RPC_SERVER_ERROR_MIN_CONTEXT_SLOT_NOT_REACHED:-32016};class Nt extends Error{constructor({code:e,message:r,data:n},i){super(i!=null?`${i}: ${r}`:r),this.code=void 0,this.data=void 0,this.code=e,this.data=n,this.name="SolanaJSONRPCError"}}async function k2(t,e,r,n){const i=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries,minContextSlot:n.minContextSlot},s=await t.sendTransaction(e,r,i);let o;if(e.recentBlockhash!=null&&e.lastValidBlockHeight!=null)o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,signature:s,blockhash:e.recentBlockhash,lastValidBlockHeight:e.lastValidBlockHeight},n&&n.commitment)).value;else if(e.minNonceContextSlot!=null&&e.nonceInfo!=null){const{nonceInstruction:a}=e.nonceInfo,c=a.keys[0].pubkey;o=(await t.confirmTransaction({abortSignal:n==null?void 0:n.abortSignal,minContextSlot:e.minNonceContextSlot,nonceAccountPubkey:c,nonceValue:e.nonceInfo.nonce,signature:s},n&&n.commitment)).value}else(n==null?void 0:n.abortSignal)!=null&&console.warn("sendAndConfirmTransaction(): A transaction with a deprecated confirmation strategy was supplied along with an `abortSignal`. Only transactions having `lastValidBlockHeight` or a combination of `nonceInfo` and `minNonceContextSlot` are abortable."),o=(await t.confirmTransaction(s,n&&n.commitment)).value;if(o.err)throw s!=null?new t0({action:"send",signature:s,transactionMessage:`Status: (${JSON.stringify(o)})`}):new Error(`Transaction ${s} failed (${JSON.stringify(o)})`);return s}function Pf(t){return new Promise(e=>setTimeout(e,t))}function pr(t,e){const r=t.layout.span>=0?t.layout.span:YM(t,e),n=Lt.Buffer.alloc(r),i=Object.assign({instruction:t.index},e);return t.layout.encode(i,n),n}function wr(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.instruction!==t.index)throw new Error(`invalid instruction; instruction index mismatch ${r.instruction} != ${t.index}`);return r}const ZM=ei("lamportsPerSignature"),QM=Ct([Rt("version"),Rt("state"),rr("authorizedPubkey"),rr("nonce"),Ct([ZM],"feeCalculator")]),R2=QM.span;class Kb{constructor(e){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=e.authorizedPubkey,this.nonce=e.nonce,this.feeCalculator=e.feeCalculator}static fromAccountData(e){const r=QM.decode(er(e),0);return new Kb({authorizedPubkey:new Ne(r.authorizedPubkey),nonce:new Ne(r.nonce).toString(),feeCalculator:r.feeCalculator})}}const Tee=t=>{const e=t.decode.bind(t),r=t.encode.bind(t);return{decode:e,encode:r}},Nee=t=>e=>{const r=Wr(t,e),{encode:n,decode:i}=Tee(r),s=r;return s.decode=(o,a)=>{const c=i(o,a);return iQ(Lt.Buffer.from(c))},s.encode=(o,a,c)=>{const l=RM(o,t);return n(l,a,c)},s},Ud=Nee(8);class Oee{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=Rt("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Br))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a SystemInstruction");return i}static decodeCreateAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r,space:n,programId:i}=wr(Br.Create,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,lamports:r,space:n,programId:new Ne(i)}}static decodeTransfer(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{lamports:r}=wr(Br.Transfer,e.data);return{fromPubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,lamports:r}}static decodeTransferWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r,seed:n,programId:i}=wr(Br.TransferWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,basePubkey:e.keys[1].pubkey,toPubkey:e.keys[2].pubkey,lamports:r,seed:n,programId:new Ne(i)}}static decodeAllocate(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{space:r}=wr(Br.Allocate,e.data);return{accountPubkey:e.keys[0].pubkey,space:r}}static decodeAllocateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,space:i,programId:s}=wr(Br.AllocateWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ne(r),seed:n,space:i,programId:new Ne(s)}}static decodeAssign(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{programId:r}=wr(Br.Assign,e.data);return{accountPubkey:e.keys[0].pubkey,programId:new Ne(r)}}static decodeAssignWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,1);const{base:r,seed:n,programId:i}=wr(Br.AssignWithSeed,e.data);return{accountPubkey:e.keys[0].pubkey,basePubkey:new Ne(r),seed:n,programId:new Ne(i)}}static decodeCreateWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{base:r,seed:n,lamports:i,space:s,programId:o}=wr(Br.CreateWithSeed,e.data);return{fromPubkey:e.keys[0].pubkey,newAccountPubkey:e.keys[1].pubkey,basePubkey:new Ne(r),seed:n,lamports:i,space:s,programId:new Ne(o)}}static decodeNonceInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{authorized:r}=wr(Br.InitializeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:new Ne(r)}}static decodeNonceAdvance(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),wr(Br.AdvanceNonceAccount,e.data),{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static decodeNonceWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=wr(Br.WithdrawNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r}}static decodeNonceAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r}=wr(Br.AuthorizeNonceAccount,e.data);return{noncePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[1].pubkey,newAuthorizedPubkey:new Ne(r)}}static checkProgramId(e){if(!e.equals(Pr.programId))throw new Error("invalid instruction; programId is not SystemProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Br=Object.freeze({Create:{index:0,layout:Ct([Rt("instruction"),ls("lamports"),ls("space"),rr("programId")])},Assign:{index:1,layout:Ct([Rt("instruction"),rr("programId")])},Transfer:{index:2,layout:Ct([Rt("instruction"),Ud("lamports")])},CreateWithSeed:{index:3,layout:Ct([Rt("instruction"),rr("base"),Df("seed"),ls("lamports"),ls("space"),rr("programId")])},AdvanceNonceAccount:{index:4,layout:Ct([Rt("instruction")])},WithdrawNonceAccount:{index:5,layout:Ct([Rt("instruction"),ls("lamports")])},InitializeNonceAccount:{index:6,layout:Ct([Rt("instruction"),rr("authorized")])},AuthorizeNonceAccount:{index:7,layout:Ct([Rt("instruction"),rr("authorized")])},Allocate:{index:8,layout:Ct([Rt("instruction"),ls("space")])},AllocateWithSeed:{index:9,layout:Ct([Rt("instruction"),rr("base"),Df("seed"),ls("space"),rr("programId")])},AssignWithSeed:{index:10,layout:Ct([Rt("instruction"),rr("base"),Df("seed"),rr("programId")])},TransferWithSeed:{index:11,layout:Ct([Rt("instruction"),Ud("lamports"),Df("seed"),rr("programId")])},UpgradeNonceAccount:{index:12,layout:Ct([Rt("instruction")])}});class Pr{constructor(){}static createAccount(e){const r=Br.Create,n=pr(r,{lamports:e.lamports,space:e.space,programId:er(e.programId.toBuffer())});return new Cr({keys:[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:n})}static transfer(e){let r,n;if("basePubkey"in e){const i=Br.TransferWithSeed;r=pr(i,{lamports:BigInt(e.lamports),seed:e.seed,programId:er(e.programId.toBuffer())}),n=[{pubkey:e.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}else{const i=Br.Transfer;r=pr(i,{lamports:BigInt(e.lamports)}),n=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0}]}return new Cr({keys:n,programId:this.programId,data:r})}static assign(e){let r,n;if("basePubkey"in e){const i=Br.AssignWithSeed;r=pr(i,{base:er(e.basePubkey.toBuffer()),seed:e.seed,programId:er(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Br.Assign;r=pr(i,{programId:er(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Cr({keys:n,programId:this.programId,data:r})}static createAccountWithSeed(e){const r=Br.CreateWithSeed,n=pr(r,{base:er(e.basePubkey.toBuffer()),seed:e.seed,lamports:e.lamports,space:e.space,programId:er(e.programId.toBuffer())});let i=[{pubkey:e.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:e.newAccountPubkey,isSigner:!1,isWritable:!0}];return e.basePubkey.equals(e.fromPubkey)||i.push({pubkey:e.basePubkey,isSigner:!0,isWritable:!1}),new Cr({keys:i,programId:this.programId,data:n})}static createNonceAccount(e){const r=new nr;"basePubkey"in e&&"seed"in e?r.add(Pr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:R2,programId:this.programId})):r.add(Pr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.noncePubkey,lamports:e.lamports,space:R2,programId:this.programId}));const n={noncePubkey:e.noncePubkey,authorizedPubkey:e.authorizedPubkey};return r.add(this.nonceInitialize(n)),r}static nonceInitialize(e){const r=Br.InitializeNonceAccount,n=pr(r,{authorized:er(e.authorizedPubkey.toBuffer())}),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:i1,isSigner:!1,isWritable:!1},{pubkey:$d,isSigner:!1,isWritable:!1}],programId:this.programId,data:n};return new Cr(i)}static nonceAdvance(e){const r=Br.AdvanceNonceAccount,n=pr(r),i={keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:i1,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n};return new Cr(i)}static nonceWithdraw(e){const r=Br.WithdrawNonceAccount,n=pr(r,{lamports:e.lamports});return new Cr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.toPubkey,isSigner:!1,isWritable:!0},{pubkey:i1,isSigner:!1,isWritable:!1},{pubkey:$d,isSigner:!1,isWritable:!1},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static nonceAuthorize(e){const r=Br.AuthorizeNonceAccount,n=pr(r,{authorized:er(e.newAuthorizedPubkey.toBuffer())});return new Cr({keys:[{pubkey:e.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:e.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:n})}static allocate(e){let r,n;if("basePubkey"in e){const i=Br.AllocateWithSeed;r=pr(i,{base:er(e.basePubkey.toBuffer()),seed:e.seed,space:e.space,programId:er(e.programId.toBuffer())}),n=[{pubkey:e.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:e.basePubkey,isSigner:!0,isWritable:!1}]}else{const i=Br.Allocate;r=pr(i,{space:e.space}),n=[{pubkey:e.accountPubkey,isSigner:!0,isWritable:!0}]}return new Cr({keys:n,programId:this.programId,data:r})}}Pr.programId=new Ne("11111111111111111111111111111111");const Bee=Wc-300;class au{constructor(){}static getMinNumSignatures(e){return 2*(Math.ceil(e/au.chunkSize)+1+1)}static async load(e,r,n,i,s){{const b=await e.getMinimumBalanceForRentExemption(s.length),x=await e.getAccountInfo(n.publicKey,"confirmed");let _=null;if(x!==null){if(x.executable)return console.error("Program load failed, account is already executable"),!1;x.data.length!==s.length&&(_=_||new nr,_.add(Pr.allocate({accountPubkey:n.publicKey,space:s.length}))),x.owner.equals(i)||(_=_||new nr,_.add(Pr.assign({accountPubkey:n.publicKey,programId:i}))),x.lamports<b&&(_=_||new nr,_.add(Pr.transfer({fromPubkey:r.publicKey,toPubkey:n.publicKey,lamports:b-x.lamports})))}else _=new nr().add(Pr.createAccount({fromPubkey:r.publicKey,newAccountPubkey:n.publicKey,lamports:b>0?b:1,space:s.length,programId:i}));_!==null&&await k2(e,_,[r,n],{commitment:"confirmed"})}const o=Ct([Rt("instruction"),Rt("offset"),Rt("bytesLength"),Rt("bytesLengthPadding"),si(gr("byte"),jc(Rt(),-8),"bytes")]),a=au.chunkSize;let c=0,l=s,g=[];for(;l.length>0;){const b=l.slice(0,a),x=Lt.Buffer.alloc(a+16);o.encode({instruction:0,offset:c,bytes:b,bytesLength:0,bytesLengthPadding:0},x);const _=new nr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0}],programId:i,data:x});g.push(k2(e,_,[r,n],{commitment:"confirmed"})),e._rpcEndpoint.includes("solana.com")&&await Pf(1e3/4),c+=a,l=l.slice(a)}await Promise.all(g);{const b=Ct([Rt("instruction")]),x=Lt.Buffer.alloc(b.span);b.encode({instruction:1},x);const _=new nr().add({keys:[{pubkey:n.publicKey,isSigner:!0,isWritable:!0},{pubkey:$d,isSigner:!1,isWritable:!1}],programId:i,data:x}),E="processed",M=await e.sendTransaction(_,[r,n],{preflightCommitment:E}),{context:B,value:P}=await e.confirmTransaction({signature:M,lastValidBlockHeight:_.lastValidBlockHeight,blockhash:_.recentBlockhash},E);if(P.err)throw new Error(`Transaction ${M} failed (${JSON.stringify(P)})`);for(;;){try{if(await e.getSlot({commitment:E})>B.slot)break}catch{}await new Promise(R=>setTimeout(R,Math.round(XM/2)))}}return!0}}au.chunkSize=Bee;const Dee=new Ne("BPFLoader2111111111111111111111111111111111");class Lee{static getMinNumSignatures(e){return au.getMinNumSignatures(e)}static load(e,r,n,i,s){return au.load(e,r,n,s,i)}}function $ee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ky,a7;function Uee(){if(a7)return ky;a7=1;var t=Object.prototype.toString,e=Object.keys||function(n){var i=[];for(var s in n)i.push(s);return i};function r(n,i){var s,o,a,c,l,g,b;if(n===!0)return"true";if(n===!1)return"false";switch(typeof n){case"object":if(n===null)return null;if(n.toJSON&&typeof n.toJSON=="function")return r(n.toJSON(),i);if(b=t.call(n),b==="[object Array]"){for(a="[",o=n.length-1,s=0;s<o;s++)a+=r(n[s],!0)+",";return o>-1&&(a+=r(n[s],!0)),a+"]"}else if(b==="[object Object]"){for(c=e(n).sort(),o=c.length,a="",s=0;s<o;)l=c[s],g=r(n[l],!1),g!==void 0&&(a&&(a+=","),a+=JSON.stringify(l)+":"+g),s++;return"{"+a+"}"}else return JSON.stringify(n);case"function":case"undefined":return i?null:void 0;case"string":return JSON.stringify(n);default:return isFinite(n)?n:null}}return ky=function(n){var i=r(n,!1);if(i!==void 0)return""+i},ky}var zee=Uee(),c7=$ee(zee);const Hl=32;function Ry(t){let e=0;for(;t>1;)t/=2,e++;return e}function Fee(t){return t===0?1:(t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,t|=t>>32,t+1)}class eP{constructor(e,r,n,i,s){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=e,this.leaderScheduleSlotOffset=r,this.warmup=n,this.firstNormalEpoch=i,this.firstNormalSlot=s}getEpoch(e){return this.getEpochAndSlotIndex(e)[0]}getEpochAndSlotIndex(e){if(e<this.firstNormalSlot){const r=Ry(Fee(e+Hl+1))-Ry(Hl)-1,n=this.getSlotsInEpoch(r),i=e-(n-Hl);return[r,i]}else{const r=e-this.firstNormalSlot,n=Math.floor(r/this.slotsPerEpoch),i=this.firstNormalEpoch+n,s=r%this.slotsPerEpoch;return[i,s]}}getFirstSlotInEpoch(e){return e<=this.firstNormalEpoch?(Math.pow(2,e)-1)*Hl:(e-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(e){return this.getFirstSlotInEpoch(e)+this.getSlotsInEpoch(e)-1}getSlotsInEpoch(e){return e<this.firstNormalEpoch?Math.pow(2,e+Ry(Hl)):this.slotsPerEpoch}}var qee=globalThis.fetch;class Kee extends WQ{constructor(e,r,n){const i=s=>{const o=KQ(s,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...r});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(i,e,r,n),this.underlyingSocket=void 0}call(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.call(...e):Promise.reject(new Error("Tried to call a JSON-RPC method `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}notify(...e){var n;const r=(n=this.underlyingSocket)==null?void 0:n.readyState;return r===1?super.notify(...e):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+e[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+r+")"))}}function jee(t,e){let r;try{r=t.layout.decode(e)}catch(n){throw new Error("invalid instruction; "+n)}if(r.typeIndex!==t.index)throw new Error(`invalid account data; account type mismatch ${r.typeIndex} != ${t.index}`);return r}const f7=56;class C2{constructor(e){this.key=void 0,this.state=void 0,this.key=e.key,this.state=e.state}isActive(){const e=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===e}static deserialize(e){const r=jee(Wee,e),n=e.length-f7;yr(n>=0,"lookup table is invalid"),yr(n%32===0,"lookup table is invalid");const i=n/32,{addresses:s}=Ct([si(rr(),i,"addresses")]).decode(e.slice(f7));return{deactivationSlot:r.deactivationSlot,lastExtendedSlot:r.lastExtendedSlot,lastExtendedSlotStartIndex:r.lastExtendedStartIndex,authority:r.authority.length!==0?new Ne(r.authority[0]):void 0,addresses:s.map(o=>new Ne(o))}}}const Wee={index:1,layout:Ct([Rt("typeIndex"),Ud("deactivationSlot"),ei("lastExtendedSlot"),gr("lastExtendedStartIndex"),gr(),si(rr(),jc(gr(),-1),"authority")])},Hee=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function Vee(t){const e=t.match(Hee);if(e==null)throw TypeError(`Failed to validate endpoint URL \`${t}\``);const[r,n,i,s]=e,o=t.startsWith("https:")?"wss:":"ws:",a=i==null?null:parseInt(i.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${n}${c}${s}`}const sn=B0(ow(Ne),st(),t=>new Ne(t)),tP=aw([st(),en("base64")]),pw=B0(ow(Lt.Buffer),tP,t=>Lt.Buffer.from(t[0],"base64")),rP=30*1e3;function Gee(t){if(/^https?:/.test(t)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return t}function Tr(t){let e,r;if(typeof t=="string")e=t;else if(t){const{commitment:n,...i}=t;e=n,r=i}return{commitment:e,config:r}}function u7(t){return t.map(e=>"memcmp"in e?{...e,memcmp:{...e.memcmp,encoding:e.memcmp.encoding??"base58"}}:e)}function nP(t){return Fi([je({jsonrpc:en("2.0"),id:st(),result:t}),je({jsonrpc:en("2.0"),id:st(),error:je({code:vl(),message:st(),data:Ut(hQ())})})])}const Yee=nP(vl());function Qt(t){return B0(nP(t),Yee,e=>"error"in e?e:{...e,result:lt(e.result,t)})}function fn(t){return Qt(je({context:je({slot:ge()}),value:t}))}function jb(t){return je({context:je({slot:ge()}),value:t})}function Cy(t,e){return t===0?new ou({header:e.header,staticAccountKeys:e.accountKeys.map(r=>new Ne(r)),recentBlockhash:e.recentBlockhash,compiledInstructions:e.instructions.map(r=>({programIdIndex:r.programIdIndex,accountKeyIndexes:r.accounts,data:ii.decode(r.data)})),addressTableLookups:e.addressTableLookups}):new Ro(e)}const Jee=je({foundation:ge(),foundationTerm:ge(),initial:ge(),taper:ge(),terminal:ge()}),Xee=Qt(vt(yt(je({epoch:ge(),effectiveSlot:ge(),amount:ge(),postBalance:ge(),commission:Ut(yt(ge()))})))),Zee=vt(je({slot:ge(),prioritizationFee:ge()})),Qee=je({total:ge(),validator:ge(),foundation:ge(),epoch:ge()}),ete=je({epoch:ge(),slotIndex:ge(),slotsInEpoch:ge(),absoluteSlot:ge(),blockHeight:Ut(ge()),transactionCount:Ut(ge())}),tte=je({slotsPerEpoch:ge(),leaderScheduleSlotOffset:ge(),warmup:ua(),firstNormalEpoch:ge(),firstNormalSlot:ge()}),rte=NM(st(),vt(ge())),wu=yt(Fi([je({}),st()])),nte=je({err:wu}),ite=en("receivedSignature"),ste=je({"solana-core":st(),"feature-set":Ut(ge())}),ote=je({program:st(),programId:sn,parsed:vl()}),ate=je({programId:sn,accounts:vt(sn),data:st()}),d7=fn(je({err:yt(Fi([je({}),st()])),logs:yt(vt(st())),accounts:Ut(yt(vt(yt(je({executable:ua(),owner:st(),lamports:ge(),data:vt(st()),rentEpoch:Ut(ge())}))))),unitsConsumed:Ut(ge()),returnData:Ut(yt(je({programId:st(),data:aw([st(),en("base64")])}))),innerInstructions:Ut(yt(vt(je({index:ge(),instructions:vt(Fi([ote,ate]))}))))})),cte=fn(je({byIdentity:NM(st(),vt(ge())),range:je({firstSlot:ge(),lastSlot:ge()})}));function fte(t,e,r,n,i,s){const o=r||qee;let a;s!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return n&&(c=async(g,b)=>{const x=await new Promise((_,E)=>{try{n(g,b,(M,B)=>_([M,B]))}catch(M){E(M)}});return await o(...x)}),new zQ(async(g,b)=>{const x={method:"POST",body:g,agent:a,headers:Object.assign({"Content-Type":"application/json"},e||{},ure)};try{let _=5,E,M=500;for(;c?E=await c(t,x):E=await o(t,x),!(E.status!==429||i===!0||(_-=1,_===0));)console.error(`Server responded with ${E.status} ${E.statusText}.  Retrying after ${M}ms delay...`),await Pf(M),M*=2;const B=await E.text();E.ok?b(null,B):b(new Error(`${E.status} ${E.statusText}: ${B}`))}catch(_){_ instanceof Error&&b(_)}},{})}function ute(t){return(e,r)=>new Promise((n,i)=>{t.request(e,r,(s,o)=>{if(s){i(s);return}n(o)})})}function dte(t){return e=>new Promise((r,n)=>{e.length===0&&r([]);const i=e.map(s=>t.request(s.methodName,s.args));t.request(i,(s,o)=>{if(s){n(s);return}r(o)})})}const lte=Qt(Jee),hte=Qt(Qee),pte=Qt(Zee),gte=Qt(ete),bte=Qt(tte),vte=Qt(rte),yte=Qt(ge()),mte=fn(je({total:ge(),circulating:ge(),nonCirculating:ge(),nonCirculatingAccounts:vt(sn)})),T2=je({amount:st(),uiAmount:yt(ge()),decimals:ge(),uiAmountString:Ut(st())}),wte=fn(vt(je({address:sn,amount:st(),uiAmount:yt(ge()),decimals:ge(),uiAmountString:Ut(st())}))),xte=fn(vt(je({pubkey:sn,account:je({executable:ua(),owner:sn,lamports:ge(),data:pw,rentEpoch:ge()})}))),N2=je({program:st(),parsed:vl(),space:ge()}),_te=fn(vt(je({pubkey:sn,account:je({executable:ua(),owner:sn,lamports:ge(),data:N2,rentEpoch:ge()})}))),Ste=fn(vt(je({lamports:ge(),address:sn}))),r0=je({executable:ua(),owner:sn,lamports:ge(),data:pw,rentEpoch:ge()}),Ete=je({pubkey:sn,account:r0}),Ate=B0(Fi([ow(Lt.Buffer),N2]),Fi([tP,N2]),t=>Array.isArray(t)?lt(t,pw):t),O2=je({executable:ua(),owner:sn,lamports:ge(),data:Ate,rentEpoch:ge()}),Ite=je({pubkey:sn,account:O2}),Mte=je({state:Fi([en("active"),en("inactive"),en("activating"),en("deactivating")]),active:ge(),inactive:ge()}),Pte=Qt(vt(je({signature:st(),slot:ge(),err:wu,memo:yt(st()),blockTime:Ut(yt(ge()))}))),kte=Qt(vt(je({signature:st(),slot:ge(),err:wu,memo:yt(st()),blockTime:Ut(yt(ge()))}))),Rte=je({subscription:ge(),result:jb(r0)}),Cte=je({pubkey:sn,account:r0}),Tte=je({subscription:ge(),result:jb(Cte)}),Nte=je({parent:ge(),slot:ge(),root:ge()}),Ote=je({subscription:ge(),result:Nte}),Bte=Fi([je({type:Fi([en("firstShredReceived"),en("completed"),en("optimisticConfirmation"),en("root")]),slot:ge(),timestamp:ge()}),je({type:en("createdBank"),parent:ge(),slot:ge(),timestamp:ge()}),je({type:en("frozen"),slot:ge(),timestamp:ge(),stats:je({numTransactionEntries:ge(),numSuccessfulTransactions:ge(),numFailedTransactions:ge(),maxTransactionsPerEntry:ge()})}),je({type:en("dead"),slot:ge(),timestamp:ge(),err:st()})]),Dte=je({subscription:ge(),result:Bte}),Lte=je({subscription:ge(),result:jb(Fi([nte,ite]))}),$te=je({subscription:ge(),result:ge()}),Ute=je({pubkey:st(),gossip:yt(st()),tpu:yt(st()),rpc:yt(st()),version:yt(st())}),l7=je({votePubkey:st(),nodePubkey:st(),activatedStake:ge(),epochVoteAccount:ua(),epochCredits:vt(aw([ge(),ge(),ge()])),commission:ge(),lastVote:ge(),rootSlot:yt(ge())}),zte=Qt(je({current:vt(l7),delinquent:vt(l7)})),Fte=Fi([en("processed"),en("confirmed"),en("finalized")]),qte=je({slot:ge(),confirmations:yt(ge()),err:wu,confirmationStatus:Ut(Fte)}),Kte=fn(vt(yt(qte))),jte=Qt(ge()),iP=je({accountKey:sn,writableIndexes:vt(ge()),readonlyIndexes:vt(ge())}),gw=je({signatures:vt(st()),message:je({accountKeys:vt(st()),header:je({numRequiredSignatures:ge(),numReadonlySignedAccounts:ge(),numReadonlyUnsignedAccounts:ge()}),instructions:vt(je({accounts:vt(ge()),data:st(),programIdIndex:ge()})),recentBlockhash:st(),addressTableLookups:Ut(vt(iP))})}),sP=je({pubkey:sn,signer:ua(),writable:ua(),source:Ut(Fi([en("transaction"),en("lookupTable")]))}),oP=je({accountKeys:vt(sP),signatures:vt(st())}),aP=je({parsed:vl(),program:st(),programId:sn}),cP=je({accounts:vt(sn),data:st(),programId:sn}),Wte=Fi([cP,aP]),Hte=Fi([je({parsed:vl(),program:st(),programId:st()}),je({accounts:vt(st()),data:st(),programId:st()})]),fP=B0(Wte,Hte,t=>"accounts"in t?lt(t,cP):lt(t,aP)),uP=je({signatures:vt(st()),message:je({accountKeys:vt(sP),instructions:vt(fP),recentBlockhash:st(),addressTableLookups:Ut(yt(vt(iP)))})}),hg=je({accountIndex:ge(),mint:st(),owner:Ut(st()),uiTokenAmount:T2}),dP=je({writable:vt(sn),readonly:vt(sn)}),Wb=je({err:wu,fee:ge(),innerInstructions:Ut(yt(vt(je({index:ge(),instructions:vt(je({accounts:vt(ge()),data:st(),programIdIndex:ge()}))})))),preBalances:vt(ge()),postBalances:vt(ge()),logMessages:Ut(yt(vt(st()))),preTokenBalances:Ut(yt(vt(hg))),postTokenBalances:Ut(yt(vt(hg))),loadedAddresses:Ut(dP),computeUnitsConsumed:Ut(ge())}),bw=je({err:wu,fee:ge(),innerInstructions:Ut(yt(vt(je({index:ge(),instructions:vt(fP)})))),preBalances:vt(ge()),postBalances:vt(ge()),logMessages:Ut(yt(vt(st()))),preTokenBalances:Ut(yt(vt(hg))),postTokenBalances:Ut(yt(vt(hg))),loadedAddresses:Ut(dP),computeUnitsConsumed:Ut(ge())}),yl=Fi([en(0),en("legacy")]),xu=je({pubkey:st(),lamports:ge(),postBalance:yt(ge()),rewardType:yt(st()),commission:Ut(yt(ge()))}),Vte=Qt(yt(je({blockhash:st(),previousBlockhash:st(),parentSlot:ge(),transactions:vt(je({transaction:gw,meta:yt(Wb),version:Ut(yl)})),rewards:Ut(vt(xu)),blockTime:yt(ge()),blockHeight:yt(ge())}))),Gte=Qt(yt(je({blockhash:st(),previousBlockhash:st(),parentSlot:ge(),rewards:Ut(vt(xu)),blockTime:yt(ge()),blockHeight:yt(ge())}))),Yte=Qt(yt(je({blockhash:st(),previousBlockhash:st(),parentSlot:ge(),transactions:vt(je({transaction:oP,meta:yt(Wb),version:Ut(yl)})),rewards:Ut(vt(xu)),blockTime:yt(ge()),blockHeight:yt(ge())}))),Jte=Qt(yt(je({blockhash:st(),previousBlockhash:st(),parentSlot:ge(),transactions:vt(je({transaction:uP,meta:yt(bw),version:Ut(yl)})),rewards:Ut(vt(xu)),blockTime:yt(ge()),blockHeight:yt(ge())}))),Xte=Qt(yt(je({blockhash:st(),previousBlockhash:st(),parentSlot:ge(),transactions:vt(je({transaction:oP,meta:yt(bw),version:Ut(yl)})),rewards:Ut(vt(xu)),blockTime:yt(ge()),blockHeight:yt(ge())}))),Zte=Qt(yt(je({blockhash:st(),previousBlockhash:st(),parentSlot:ge(),rewards:Ut(vt(xu)),blockTime:yt(ge()),blockHeight:yt(ge())}))),Qte=Qt(yt(je({blockhash:st(),previousBlockhash:st(),parentSlot:ge(),transactions:vt(je({transaction:gw,meta:yt(Wb)})),rewards:Ut(vt(xu)),blockTime:yt(ge())}))),h7=Qt(yt(je({blockhash:st(),previousBlockhash:st(),parentSlot:ge(),signatures:vt(st()),blockTime:yt(ge())}))),Ty=Qt(yt(je({slot:ge(),meta:yt(Wb),blockTime:Ut(yt(ge())),transaction:gw,version:Ut(yl)}))),xp=Qt(yt(je({slot:ge(),transaction:uP,meta:yt(bw),blockTime:Ut(yt(ge())),version:Ut(yl)}))),ere=fn(je({blockhash:st(),feeCalculator:je({lamportsPerSignature:ge()})})),tre=fn(je({blockhash:st(),lastValidBlockHeight:ge()})),rre=fn(ua()),nre=je({slot:ge(),numTransactions:ge(),numSlots:ge(),samplePeriodSecs:ge()}),ire=Qt(vt(nre)),sre=fn(yt(je({feeCalculator:je({lamportsPerSignature:ge()})}))),ore=Qt(st()),are=Qt(st()),cre=je({err:wu,logs:vt(st()),signature:st()}),fre=je({result:jb(cre),subscription:ge()}),ure={"solana-client":"js/1.0.0-maintenance"};class pc{constructor(e,r){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const l={};return async g=>{const{commitment:b,config:x}=Tr(g),_=this._buildArgs([],b,void 0,x),E=c7(_);return l[E]=l[E]??(async()=>{try{const M=await this._rpcRequest("getBlockHeight",_),B=lt(M,Qt(ge()));if("error"in B)throw new Nt(B.error,"failed to get block height information");return B.result}finally{delete l[E]}})(),await l[E]}})();let n,i,s,o,a,c;r&&typeof r=="string"?this._commitment=r:r&&(this._commitment=r.commitment,this._confirmTransactionInitialTimeout=r.confirmTransactionInitialTimeout,n=r.wsEndpoint,i=r.httpHeaders,s=r.fetch,o=r.fetchMiddleware,a=r.disableRetryOnRateLimit,c=r.httpAgent),this._rpcEndpoint=Gee(e),this._rpcWsEndpoint=n||Vee(e),this._rpcClient=fte(e,i,s,o,a,c),this._rpcRequest=ute(this._rpcClient),this._rpcBatchRequest=dte(this._rpcClient),this._rpcWebSocket=new Kee(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(e,r){const{commitment:n,config:i}=Tr(r),s=this._buildArgs([e.toBase58()],n,void 0,i),o=await this._rpcRequest("getBalance",s),a=lt(o,fn(ge()));if("error"in a)throw new Nt(a.error,`failed to get balance for ${e.toBase58()}`);return a.result}async getBalance(e,r){return await this.getBalanceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get balance of account "+e.toBase58()+": "+n)})}async getBlockTime(e){const r=await this._rpcRequest("getBlockTime",[e]),n=lt(r,Qt(yt(ge())));if("error"in n)throw new Nt(n.error,`failed to get block time for slot ${e}`);return n.result}async getMinimumLedgerSlot(){const e=await this._rpcRequest("minimumLedgerSlot",[]),r=lt(e,Qt(ge()));if("error"in r)throw new Nt(r.error,"failed to get minimum ledger slot");return r.result}async getFirstAvailableBlock(){const e=await this._rpcRequest("getFirstAvailableBlock",[]),r=lt(e,yte);if("error"in r)throw new Nt(r.error,"failed to get first available block");return r.result}async getSupply(e){let r={};typeof e=="string"?r={commitment:e}:e?r={...e,commitment:e&&e.commitment||this.commitment}:r={commitment:this.commitment};const n=await this._rpcRequest("getSupply",[r]),i=lt(n,mte);if("error"in i)throw new Nt(i.error,"failed to get supply");return i.result}async getTokenSupply(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenSupply",n),s=lt(i,fn(T2));if("error"in s)throw new Nt(s.error,"failed to get token supply");return s.result}async getTokenAccountBalance(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenAccountBalance",n),s=lt(i,fn(T2));if("error"in s)throw new Nt(s.error,"failed to get token account balance");return s.result}async getTokenAccountsByOwner(e,r,n){const{commitment:i,config:s}=Tr(n);let o=[e.toBase58()];"mint"in r?o.push({mint:r.mint.toBase58()}):o.push({programId:r.programId.toBase58()});const a=this._buildArgs(o,i,"base64",s),c=await this._rpcRequest("getTokenAccountsByOwner",a),l=lt(c,xte);if("error"in l)throw new Nt(l.error,`failed to get token accounts owned by account ${e.toBase58()}`);return l.result}async getParsedTokenAccountsByOwner(e,r,n){let i=[e.toBase58()];"mint"in r?i.push({mint:r.mint.toBase58()}):i.push({programId:r.programId.toBase58()});const s=this._buildArgs(i,n,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",s),a=lt(o,_te);if("error"in a)throw new Nt(a.error,`failed to get token accounts owned by account ${e.toBase58()}`);return a.result}async getLargestAccounts(e){const r={...e,commitment:e&&e.commitment||this.commitment},n=r.filter||r.commitment?[r]:[],i=await this._rpcRequest("getLargestAccounts",n),s=lt(i,Ste);if("error"in s)throw new Nt(s.error,"failed to get largest accounts");return s.result}async getTokenLargestAccounts(e,r){const n=this._buildArgs([e.toBase58()],r),i=await this._rpcRequest("getTokenLargestAccounts",n),s=lt(i,wte);if("error"in s)throw new Nt(s.error,"failed to get token largest accounts");return s.result}async getAccountInfoAndContext(e,r){const{commitment:n,config:i}=Tr(r),s=this._buildArgs([e.toBase58()],n,"base64",i),o=await this._rpcRequest("getAccountInfo",s),a=lt(o,fn(yt(r0)));if("error"in a)throw new Nt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getParsedAccountInfo(e,r){const{commitment:n,config:i}=Tr(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getAccountInfo",s),a=lt(o,fn(yt(O2)));if("error"in a)throw new Nt(a.error,`failed to get info about account ${e.toBase58()}`);return a.result}async getAccountInfo(e,r){try{return(await this.getAccountInfoAndContext(e,r)).value}catch(n){throw new Error("failed to get info about account "+e.toBase58()+": "+n)}}async getMultipleParsedAccounts(e,r){const{commitment:n,config:i}=Tr(r),s=e.map(l=>l.toBase58()),o=this._buildArgs([s],n,"jsonParsed",i),a=await this._rpcRequest("getMultipleAccounts",o),c=lt(a,fn(vt(yt(O2))));if("error"in c)throw new Nt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfoAndContext(e,r){const{commitment:n,config:i}=Tr(r),s=e.map(l=>l.toBase58()),o=this._buildArgs([s],n,"base64",i),a=await this._rpcRequest("getMultipleAccounts",o),c=lt(a,fn(vt(yt(r0))));if("error"in c)throw new Nt(c.error,`failed to get info for accounts ${s}`);return c.result}async getMultipleAccountsInfo(e,r){return(await this.getMultipleAccountsInfoAndContext(e,r)).value}async getStakeActivation(e,r,n){const{commitment:i,config:s}=Tr(r),o=this._buildArgs([e.toBase58()],i,void 0,{...s,epoch:n??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=lt(a,Qt(Mte));if("error"in c)throw new Nt(c.error,`failed to get Stake Activation ${e.toBase58()}`);return c.result}async getProgramAccounts(e,r){const{commitment:n,config:i}=Tr(r),{encoding:s,...o}=i||{},a=this._buildArgs([e.toBase58()],n,s||"base64",{...o,...o.filters?{filters:u7(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),l=vt(Ete),g=o.withContext===!0?lt(c,fn(l)):lt(c,Qt(l));if("error"in g)throw new Nt(g.error,`failed to get accounts owned by program ${e.toBase58()}`);return g.result}async getParsedProgramAccounts(e,r){const{commitment:n,config:i}=Tr(r),s=this._buildArgs([e.toBase58()],n,"jsonParsed",i),o=await this._rpcRequest("getProgramAccounts",s),a=lt(o,Qt(vt(Ite)));if("error"in a)throw new Nt(a.error,`failed to get accounts owned by program ${e.toBase58()}`);return a.result}async confirmTransaction(e,r){var s;let n;if(typeof e=="string")n=e;else{const o=e;if((s=o.abortSignal)!=null&&s.aborted)return Promise.reject(o.abortSignal.reason);n=o.signature}let i;try{i=ii.decode(n)}catch{throw new Error("signature must be base58 encoded: "+n)}return yr(i.length===64,"signature has invalid length"),typeof e=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:r||this.commitment,signature:n}):"lastValidBlockHeight"in e?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:r||this.commitment,strategy:e}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:r||this.commitment,strategy:e})}getCancellationPromise(e){return new Promise((r,n)=>{e!=null&&(e.aborted?n(e.reason):e.addEventListener("abort",()=>{n(e.reason)}))})}getTransactionConfirmationPromise({commitment:e,signature:r}){let n,i,s=!1;const o=new Promise((c,l)=>{try{n=this.onSignature(r,(b,x)=>{n=void 0;const _={context:x,value:b};c({__type:Ia.PROCESSED,response:_})},e);const g=new Promise(b=>{n==null?b():i=this._onSubscriptionStateChange(n,x=>{x==="subscribed"&&b()})});(async()=>{if(await g,s)return;const b=await this.getSignatureStatus(r);if(s||b==null)return;const{context:x,value:_}=b;if(_!=null)if(_!=null&&_.err)l(_.err);else{switch(e){case"confirmed":case"single":case"singleGossip":{if(_.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(_.confirmationStatus==="processed"||_.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}s=!0,c({__type:Ia.PROCESSED,response:{context:x,value:_}})}})()}catch(g){l(g)}});return{abortConfirmation:()=>{i&&(i(),i=void 0),n!=null&&(this.removeSignatureListener(n),n=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:e,strategy:{abortSignal:r,lastValidBlockHeight:n,signature:i}}){let s=!1;const o=new Promise(b=>{const x=async()=>{try{return await this.getBlockHeight(e)}catch{return-1}};(async()=>{let _=await x();if(!s){for(;_<=n;)if(await Pf(1e3),s||(_=await x(),s))return;b({__type:Ia.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:e,signature:i}),l=this.getCancellationPromise(r);let g;try{const b=await Promise.race([l,c,o]);if(b.__type===Ia.PROCESSED)g=b.response;else throw new dw(i)}finally{s=!0,a()}return g}async confirmTransactionUsingDurableNonceStrategy({commitment:e,strategy:{abortSignal:r,minContextSlot:n,nonceAccountPubkey:i,nonceValue:s,signature:o}}){let a=!1;const c=new Promise(_=>{let E=s,M=null;const B=async()=>{try{const{context:P,value:R}=await this.getNonceAndContext(i,{commitment:e,minContextSlot:n});return M=P.slot,R==null?void 0:R.nonce}catch{return E}};(async()=>{if(E=await B(),!a)for(;;){if(s!==E){_({__type:Ia.NONCE_INVALID,slotInWhichNonceDidAdvance:M});return}if(await Pf(2e3),a||(E=await B(),a))return}})()}),{abortConfirmation:l,confirmationPromise:g}=this.getTransactionConfirmationPromise({commitment:e,signature:o}),b=this.getCancellationPromise(r);let x;try{const _=await Promise.race([b,g,c]);if(_.__type===Ia.PROCESSED)x=_.response;else{let E;for(;;){const M=await this.getSignatureStatus(o);if(M==null)break;if(M.context.slot<(_.slotInWhichNonceDidAdvance??n)){await Pf(400);continue}E=M;break}if(E!=null&&E.value){const M=e||"finalized",{confirmationStatus:B}=E.value;switch(M){case"processed":case"recent":if(B!=="processed"&&B!=="confirmed"&&B!=="finalized")throw new Zu(o);break;case"confirmed":case"single":case"singleGossip":if(B!=="confirmed"&&B!=="finalized")throw new Zu(o);break;case"finalized":case"max":case"root":if(B!=="finalized")throw new Zu(o);break;default:}x={context:E.context,value:{err:E.value.err}}}else throw new Zu(o)}}finally{a=!0,l()}return x}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:e,signature:r}){let n;const i=new Promise(c=>{let l=this._confirmTransactionInitialTimeout||6e4;switch(e){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{l=this._confirmTransactionInitialTimeout||3e4;break}}n=setTimeout(()=>c({__type:Ia.TIMED_OUT,timeoutMs:l}),l)}),{abortConfirmation:s,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:e,signature:r});let a;try{const c=await Promise.race([o,i]);if(c.__type===Ia.PROCESSED)a=c.response;else throw new lw(r,c.timeoutMs/1e3)}finally{clearTimeout(n),s()}return a}async getClusterNodes(){const e=await this._rpcRequest("getClusterNodes",[]),r=lt(e,Qt(vt(Ute)));if("error"in r)throw new Nt(r.error,"failed to get cluster nodes");return r.result}async getVoteAccounts(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getVoteAccounts",r),i=lt(n,zte);if("error"in i)throw new Nt(i.error,"failed to get vote accounts");return i.result}async getSlot(e){const{commitment:r,config:n}=Tr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlot",i),o=lt(s,Qt(ge()));if("error"in o)throw new Nt(o.error,"failed to get slot");return o.result}async getSlotLeader(e){const{commitment:r,config:n}=Tr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getSlotLeader",i),o=lt(s,Qt(st()));if("error"in o)throw new Nt(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(e,r){const n=[e,r],i=await this._rpcRequest("getSlotLeaders",n),s=lt(i,Qt(vt(sn)));if("error"in s)throw new Nt(s.error,"failed to get slot leaders");return s.result}async getSignatureStatus(e,r){const{context:n,value:i}=await this.getSignatureStatuses([e],r);yr(i.length===1);const s=i[0];return{context:n,value:s}}async getSignatureStatuses(e,r){const n=[e];r&&n.push(r);const i=await this._rpcRequest("getSignatureStatuses",n),s=lt(i,Kte);if("error"in s)throw new Nt(s.error,"failed to get signature status");return s.result}async getTransactionCount(e){const{commitment:r,config:n}=Tr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getTransactionCount",i),o=lt(s,Qt(ge()));if("error"in o)throw new Nt(o.error,"failed to get transaction count");return o.result}async getTotalSupply(e){return(await this.getSupply({commitment:e,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getInflationGovernor",r),i=lt(n,lte);if("error"in i)throw new Nt(i.error,"failed to get inflation");return i.result}async getInflationReward(e,r,n){const{commitment:i,config:s}=Tr(n),o=this._buildArgs([e.map(l=>l.toBase58())],i,void 0,{...s,epoch:r??(s==null?void 0:s.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=lt(a,Xee);if("error"in c)throw new Nt(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const e=await this._rpcRequest("getInflationRate",[]),r=lt(e,hte);if("error"in r)throw new Nt(r.error,"failed to get inflation rate");return r.result}async getEpochInfo(e){const{commitment:r,config:n}=Tr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getEpochInfo",i),o=lt(s,gte);if("error"in o)throw new Nt(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const e=await this._rpcRequest("getEpochSchedule",[]),r=lt(e,bte);if("error"in r)throw new Nt(r.error,"failed to get epoch schedule");const n=r.result;return new eP(n.slotsPerEpoch,n.leaderScheduleSlotOffset,n.warmup,n.firstNormalEpoch,n.firstNormalSlot)}async getLeaderSchedule(){const e=await this._rpcRequest("getLeaderSchedule",[]),r=lt(e,vte);if("error"in r)throw new Nt(r.error,"failed to get leader schedule");return r.result}async getMinimumBalanceForRentExemption(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getMinimumBalanceForRentExemption",n),s=lt(i,jte);return"error"in s?(console.warn("Unable to fetch minimum balance for rent exemption"),0):s.result}async getRecentBlockhashAndContext(e){const r=this._buildArgs([],e),n=await this._rpcRequest("getRecentBlockhash",r),i=lt(n,ere);if("error"in i)throw new Nt(i.error,"failed to get recent blockhash");return i.result}async getRecentPerformanceSamples(e){const r=await this._rpcRequest("getRecentPerformanceSamples",e?[e]:[]),n=lt(r,ire);if("error"in n)throw new Nt(n.error,"failed to get recent performance samples");return n.result}async getFeeCalculatorForBlockhash(e,r){const n=this._buildArgs([e],r),i=await this._rpcRequest("getFeeCalculatorForBlockhash",n),s=lt(i,sre);if("error"in s)throw new Nt(s.error,"failed to get fee calculator");const{context:o,value:a}=s.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(e,r){const n=er(e.serialize()).toString("base64"),i=this._buildArgs([n],r),s=await this._rpcRequest("getFeeForMessage",i),o=lt(s,fn(yt(ge())));if("error"in o)throw new Nt(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(e){var o;const r=(o=e==null?void 0:e.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),n=r!=null&&r.length?[r]:[],i=await this._rpcRequest("getRecentPrioritizationFees",n),s=lt(i,pte);if("error"in s)throw new Nt(s.error,"failed to get recent prioritization fees");return s.result}async getRecentBlockhash(e){try{return(await this.getRecentBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhash(e){try{return(await this.getLatestBlockhashAndContext(e)).value}catch(r){throw new Error("failed to get recent blockhash: "+r)}}async getLatestBlockhashAndContext(e){const{commitment:r,config:n}=Tr(e),i=this._buildArgs([],r,void 0,n),s=await this._rpcRequest("getLatestBlockhash",i),o=lt(s,tre);if("error"in o)throw new Nt(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(e,r){const{commitment:n,config:i}=Tr(r),s=this._buildArgs([e],n,void 0,i),o=await this._rpcRequest("isBlockhashValid",s),a=lt(o,rre);if("error"in a)throw new Nt(a.error,"failed to determine if the blockhash `"+e+"`is valid");return a.result}async getVersion(){const e=await this._rpcRequest("getVersion",[]),r=lt(e,Qt(ste));if("error"in r)throw new Nt(r.error,"failed to get version");return r.result}async getGenesisHash(){const e=await this._rpcRequest("getGenesisHash",[]),r=lt(e,Qt(st()));if("error"in r)throw new Nt(r.error,"failed to get genesis hash");return r.result}async getBlock(e,r){const{commitment:n,config:i}=Tr(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=lt(o,Yte);if("error"in a)throw a.error;return a.result}case"none":{const a=lt(o,Gte);if("error"in a)throw a.error;return a.result}default:{const a=lt(o,Vte);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:l,meta:g,version:b})=>({meta:g,transaction:{...l,message:Cy(b,l.message)},version:b}))}:null}}}catch(a){throw new Nt(a,"failed to get confirmed block")}}async getParsedBlock(e,r){const{commitment:n,config:i}=Tr(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getBlock",s);try{switch(i==null?void 0:i.transactionDetails){case"accounts":{const a=lt(o,Xte);if("error"in a)throw a.error;return a.result}case"none":{const a=lt(o,Zte);if("error"in a)throw a.error;return a.result}default:{const a=lt(o,Jte);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Nt(a,"failed to get block")}}async getBlockProduction(e){let r,n;if(typeof e=="string")n=e;else if(e){const{commitment:a,...c}=e;n=a,r=c}const i=this._buildArgs([],n,"base64",r),s=await this._rpcRequest("getBlockProduction",i),o=lt(s,cte);if("error"in o)throw new Nt(o.error,"failed to get block production information");return o.result}async getTransaction(e,r){const{commitment:n,config:i}=Tr(r),s=this._buildArgsAtLeastConfirmed([e],n,void 0,i),o=await this._rpcRequest("getTransaction",s),a=lt(o,Ty);if("error"in a)throw new Nt(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Cy(c.version,c.transaction.message)}}}async getParsedTransaction(e,r){const{commitment:n,config:i}=Tr(r),s=this._buildArgsAtLeastConfirmed([e],n,"jsonParsed",i),o=await this._rpcRequest("getTransaction",s),a=lt(o,xp);if("error"in a)throw new Nt(a.error,"failed to get transaction");return a.result}async getParsedTransactions(e,r){const{commitment:n,config:i}=Tr(r),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,"jsonParsed",i)}));return(await this._rpcBatchRequest(s)).map(c=>{const l=lt(c,xp);if("error"in l)throw new Nt(l.error,"failed to get transactions");return l.result})}async getTransactions(e,r){const{commitment:n,config:i}=Tr(r),s=e.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],n,void 0,i)}));return(await this._rpcBatchRequest(s)).map(c=>{const l=lt(c,Ty);if("error"in l)throw new Nt(l.error,"failed to get transactions");const g=l.result;return g&&{...g,transaction:{...g.transaction,message:Cy(g.version,g.transaction.message)}}})}async getConfirmedBlock(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedBlock",n),s=lt(i,Qte);if("error"in s)throw new Nt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:l})=>{const g=new Ro(c.message);return{meta:l,transaction:{...c,message:g}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:l})=>({meta:l,transaction:nr.populate(c.message,c.signatures)}))}}async getBlocks(e,r,n){const i=this._buildArgsAtLeastConfirmed(r!==void 0?[e,r]:[e],n),s=await this._rpcRequest("getBlocks",i),o=lt(s,Qt(vt(ge())));if("error"in o)throw new Nt(o.error,"failed to get blocks");return o.result}async getBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getBlock",n),s=lt(i,h7);if("error"in s)throw new Nt(s.error,"failed to get block");const o=s.result;if(!o)throw new Error("Block "+e+" not found");return o}async getConfirmedBlockSignatures(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,void 0,{transactionDetails:"signatures",rewards:!1}),i=await this._rpcRequest("getConfirmedBlock",n),s=lt(i,h7);if("error"in s)throw new Nt(s.error,"failed to get confirmed block");const o=s.result;if(!o)throw new Error("Confirmed block "+e+" not found");return o}async getConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r),i=await this._rpcRequest("getConfirmedTransaction",n),s=lt(i,Ty);if("error"in s)throw new Nt(s.error,"failed to get transaction");const o=s.result;if(!o)return o;const a=new Ro(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:nr.populate(a,c)}}async getParsedConfirmedTransaction(e,r){const n=this._buildArgsAtLeastConfirmed([e],r,"jsonParsed"),i=await this._rpcRequest("getConfirmedTransaction",n),s=lt(i,xp);if("error"in s)throw new Nt(s.error,"failed to get confirmed transaction");return s.result}async getParsedConfirmedTransactions(e,r){const n=e.map(o=>({methodName:"getConfirmedTransaction",args:this._buildArgsAtLeastConfirmed([o],r,"jsonParsed")}));return(await this._rpcBatchRequest(n)).map(o=>{const a=lt(o,xp);if("error"in a)throw new Nt(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(e,r,n){let i={},s=await this.getFirstAvailableBlock();for(;!("until"in i)&&(r--,!(r<=0||r<s));)try{const c=await this.getConfirmedBlockSignatures(r,"finalized");c.signatures.length>0&&(i.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in i)&&(n++,!(n>o));)try{const c=await this.getConfirmedBlockSignatures(n);c.signatures.length>0&&(i.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(e,i)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getConfirmedSignaturesForAddress2",i),o=lt(s,Pte);if("error"in o)throw new Nt(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(e,r,n){const i=this._buildArgsAtLeastConfirmed([e.toBase58()],n,void 0,r),s=await this._rpcRequest("getSignaturesForAddress",i),o=lt(s,kte);if("error"in o)throw new Nt(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=new C2({key:e,state:C2.deserialize(i.data)})),{context:n,value:s}}async getNonceAndContext(e,r){const{context:n,value:i}=await this.getAccountInfoAndContext(e,r);let s=null;return i!==null&&(s=Kb.fromAccountData(i.data)),{context:n,value:s}}async getNonce(e,r){return await this.getNonceAndContext(e,r).then(n=>n.value).catch(n=>{throw new Error("failed to get nonce for account "+e.toBase58()+": "+n)})}async requestAirdrop(e,r){const n=await this._rpcRequest("requestAirdrop",[e.toBase58(),r]),i=lt(n,ore);if("error"in i)throw new Nt(i.error,`airdrop to ${e.toBase58()} failed`);return i.result}async _blockhashWithExpiryBlockHeight(e){if(!e){for(;this._pollingBlockhash;)await Pf(100);const n=Date.now()-this._blockhashInfo.lastFetch>=rP;if(this._blockhashInfo.latestBlockhash!==null&&!n)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const e=Date.now(),r=this._blockhashInfo.latestBlockhash,n=r?r.blockhash:null;for(let i=0;i<50;i++){const s=await this.getLatestBlockhash("finalized");if(n!==s.blockhash)return this._blockhashInfo={latestBlockhash:s,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},s;await Pf(XM/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-e}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(e){const{commitment:r,config:n}=Tr(e),i=this._buildArgs([],r,"base64",n),s=await this._rpcRequest("getStakeMinimumDelegation",i),o=lt(s,fn(ge()));if("error"in o)throw new Nt(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(e,r,n){if("message"in e){const M=e.serialize(),B=Lt.Buffer.from(M).toString("base64");if(Array.isArray(r)||n!==void 0)throw new Error("Invalid arguments");const P=r||{};P.encoding="base64","commitment"in P||(P.commitment=this.commitment),r&&typeof r=="object"&&"innerInstructions"in r&&(P.innerInstructions=r.innerInstructions);const R=[B,P],D=await this._rpcRequest("simulateTransaction",R),U=lt(D,d7);if("error"in U)throw new Error("failed to simulate transaction: "+U.error.message);return U.result}let i;if(e instanceof nr){let E=e;i=new nr,i.feePayer=E.feePayer,i.instructions=e.instructions,i.nonceInfo=E.nonceInfo,i.signatures=E.signatures}else i=nr.populate(e),i._message=i._json=void 0;if(r!==void 0&&!Array.isArray(r))throw new Error("Invalid arguments");const s=r;if(i.nonceInfo&&s)i.sign(...s);else{let E=this._disableBlockhashCaching;for(;;){const M=await this._blockhashWithExpiryBlockHeight(E);if(i.lastValidBlockHeight=M.lastValidBlockHeight,i.recentBlockhash=M.blockhash,!s)break;if(i.sign(...s),!i.signature)throw new Error("!signature");const B=i.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(B)&&!this._blockhashInfo.transactionSignatures.includes(B)){this._blockhashInfo.simulatedSignatures.push(B);break}else E=!0}}const o=i._compile(),a=o.serialize(),l=i._serialize(a).toString("base64"),g={encoding:"base64",commitment:this.commitment};if(n){const E=(Array.isArray(n)?n:o.nonProgramIds()).map(M=>M.toBase58());g.accounts={encoding:"base64",addresses:E}}s&&(g.sigVerify=!0),r&&typeof r=="object"&&"innerInstructions"in r&&(g.innerInstructions=r.innerInstructions);const b=[l,g],x=await this._rpcRequest("simulateTransaction",b),_=lt(x,d7);if("error"in _){let E;if("data"in _.error&&(E=_.error.data.logs,E&&Array.isArray(E))){const M=`
    `,B=M+E.join(M);console.error(_.error.message,B)}throw new t0({action:"simulate",signature:"",transactionMessage:_.error.message,logs:E})}return _.result}async sendTransaction(e,r,n){if("version"in e){if(r&&Array.isArray(r))throw new Error("Invalid arguments");const o=e.serialize();return await this.sendRawTransaction(o,r)}if(r===void 0||!Array.isArray(r))throw new Error("Invalid arguments");const i=r;if(e.nonceInfo)e.sign(...i);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(e.lastValidBlockHeight=a.lastValidBlockHeight,e.recentBlockhash=a.blockhash,e.sign(...i),!e.signature)throw new Error("!signature");const c=e.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const s=e.serialize();return await this.sendRawTransaction(s,n)}async sendRawTransaction(e,r){const n=er(e).toString("base64");return await this.sendEncodedTransaction(n,r)}async sendEncodedTransaction(e,r){const n={encoding:"base64"},i=r&&r.skipPreflight,s=i===!0?"processed":r&&r.preflightCommitment||this.commitment;r&&r.maxRetries!=null&&(n.maxRetries=r.maxRetries),r&&r.minContextSlot!=null&&(n.minContextSlot=r.minContextSlot),i&&(n.skipPreflight=i),s&&(n.preflightCommitment=s);const o=[e,n],a=await this._rpcRequest("sendTransaction",o),c=lt(a,are);if("error"in c){let l;throw"data"in c.error&&(l=c.error.data.logs),new t0({action:i?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:l})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(e){this._rpcWebSocketConnected=!1,console.error("ws error:",e.message)}_wsOnClose(e){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),e===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([r,n])=>{this._setSubscription(r,{...n,state:"pending"})})}_setSubscription(e,r){var i;const n=(i=this._subscriptionsByHash[e])==null?void 0:i.state;if(this._subscriptionsByHash[e]=r,n!==r.state){const s=this._subscriptionStateChangeCallbacksByHash[e];s&&s.forEach(o=>{try{o(r.state)}catch{}})}}_onSubscriptionStateChange(e,r){var s;const n=this._subscriptionHashByClientSubscriptionId[e];if(n==null)return()=>{};const i=(s=this._subscriptionStateChangeCallbacksByHash)[n]||(s[n]=new Set);return i.add(r),()=>{i.delete(r),i.size===0&&delete this._subscriptionStateChangeCallbacksByHash[n]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(n){n instanceof Error&&console.log(`Error when closing socket connection: ${n.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const e=this._rpcWebSocketGeneration,r=()=>e===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async n=>{const i=this._subscriptionsByHash[n];if(i!==void 0)switch(i.state){case"pending":case"unsubscribed":if(i.callbacks.size===0){delete this._subscriptionsByHash[n],i.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[i.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:s,method:o}=i;try{this._setSubscription(n,{...i,state:"subscribing"});const a=await this._rpcWebSocket.call(o,s);this._setSubscription(n,{...i,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=i.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:s,error:a}),!r())return;this._setSubscription(n,{...i,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":i.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:s,unsubscribeMethod:o}=i;if(this._subscriptionsAutoDisposedByRpc.has(s))this._subscriptionsAutoDisposedByRpc.delete(s);else{this._setSubscription(n,{...i,state:"unsubscribing"}),this._setSubscription(n,{...i,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[s])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!r())return;this._setSubscription(n,{...i,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(n,{...i,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(e,r){const n=this._subscriptionCallbacksByServerSubscriptionId[e];n!==void 0&&n.forEach(i=>{try{i(...r)}catch(s){console.error(s)}})}_wsOnAccountNotification(e){const{result:r,subscription:n}=lt(e,Rte);this._handleServerNotification(n,[r.value,r.context])}_makeSubscription(e,r){const n=this._nextClientSubscriptionId++,i=c7([e.method,r]),s=this._subscriptionsByHash[i];return s===void 0?this._subscriptionsByHash[i]={...e,args:r,callbacks:new Set([e.callback]),state:"pending"}:s.callbacks.add(e.callback),this._subscriptionHashByClientSubscriptionId[n]=i,this._subscriptionDisposeFunctionsByClientSubscriptionId[n]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[n],delete this._subscriptionHashByClientSubscriptionId[n];const o=this._subscriptionsByHash[i];yr(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${n}`),o.callbacks.delete(e.callback),await this._updateSubscriptions()},this._updateSubscriptions(),n}onAccountChange(e,r,n){const{commitment:i,config:s}=Tr(n),o=this._buildArgs([e.toBase58()],i||this._commitment||"finalized","base64",s);return this._makeSubscription({callback:r,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"account change")}_wsOnProgramAccountNotification(e){const{result:r,subscription:n}=lt(e,Tte);this._handleServerNotification(n,[{accountId:r.value.pubkey,accountInfo:r.value.account},r.context])}onProgramAccountChange(e,r,n,i){const{commitment:s,config:o}=Tr(n),a=this._buildArgs([e.toBase58()],s||this._commitment||"finalized","base64",o||(i?{filters:u7(i)}:void 0));return this._makeSubscription({callback:r,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(e){await this._unsubscribeClientSubscription(e,"program account change")}onLogs(e,r,n){const i=this._buildArgs([typeof e=="object"?{mentions:[e.toString()]}:e],n||this._commitment||"finalized");return this._makeSubscription({callback:r,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},i)}async removeOnLogsListener(e){await this._unsubscribeClientSubscription(e,"logs")}_wsOnLogsNotification(e){const{result:r,subscription:n}=lt(e,fre);this._handleServerNotification(n,[r.value,r.context])}_wsOnSlotNotification(e){const{result:r,subscription:n}=lt(e,Ote);this._handleServerNotification(n,[r])}onSlotChange(e){return this._makeSubscription({callback:e,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(e){await this._unsubscribeClientSubscription(e,"slot change")}_wsOnSlotUpdatesNotification(e){const{result:r,subscription:n}=lt(e,Dte);this._handleServerNotification(n,[r])}onSlotUpdate(e){return this._makeSubscription({callback:e,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(e){await this._unsubscribeClientSubscription(e,"slot update")}async _unsubscribeClientSubscription(e,r){const n=this._subscriptionDisposeFunctionsByClientSubscriptionId[e];n?await n():console.warn(`Ignored unsubscribe request because an active subscription with id \`${e}\` for '${r}' events could not be found.`)}_buildArgs(e,r,n,i){const s=r||this._commitment;if(s||n||i){let o={};n&&(o.encoding=n),s&&(o.commitment=s),i&&(o=Object.assign(o,i)),e.push(o)}return e}_buildArgsAtLeastConfirmed(e,r,n,i){const s=r||this._commitment;if(s&&!["confirmed","finalized"].includes(s))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(e,r,n,i)}_wsOnSignatureNotification(e){const{result:r,subscription:n}=lt(e,Lte);r.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(n),this._handleServerNotification(n,r.value==="receivedSignature"?[{type:"received"},r.context]:[{type:"status",result:r.value},r.context])}onSignature(e,r,n){const i=this._buildArgs([e],n||this._commitment||"finalized"),s=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){r(o.result,a);try{this.removeSignatureListener(s)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},i);return s}onSignatureWithOptions(e,r,n){const{commitment:i,...s}={...n,commitment:n&&n.commitment||this._commitment||"finalized"},o=this._buildArgs([e],i,void 0,s),a=this._makeSubscription({callback:(c,l)=>{r(c,l);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(e){await this._unsubscribeClientSubscription(e,"signature result")}_wsOnRootNotification(e){const{result:r,subscription:n}=lt(e,$te);this._handleServerNotification(n,[r])}onRootChange(e){return this._makeSubscription({callback:e,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(e){await this._unsubscribeClientSubscription(e,"root change")}}class Hf{constructor(e){this._keypair=void 0,this._keypair=e??i7()}static generate(){return new Hf(i7())}static fromSecretKey(e,r){if(e.byteLength!==64)throw new Error("bad secret key size");const n=e.slice(32,64);if(!r||!r.skipValidation){const i=e.slice(0,32),s=lg(i);for(let o=0;o<32;o++)if(n[o]!==s[o])throw new Error("provided secretKey is invalid")}return new Hf({publicKey:n,secretKey:e})}static fromSeed(e){const r=lg(e),n=new Uint8Array(64);return n.set(e),n.set(r,32),new Hf({publicKey:r,secretKey:n})}get publicKey(){return new Ne(this._keypair.publicKey)}get secretKey(){return new Uint8Array(this._keypair.secretKey)}}const Oa=Object.freeze({CreateLookupTable:{index:0,layout:Ct([Rt("instruction"),Ud("recentSlot"),gr("bumpSeed")])},FreezeLookupTable:{index:1,layout:Ct([Rt("instruction")])},ExtendLookupTable:{index:2,layout:Ct([Rt("instruction"),Ud(),si(rr(),jc(Rt(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:Ct([Rt("instruction")])},CloseLookupTable:{index:4,layout:Ct([Rt("instruction")])}});class dre{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=Rt("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Oa))if(o.index==n){i=s;break}if(!i)throw new Error("Invalid Instruction. Should be a LookupTable Instruction");return i}static decodeCreateLookupTable(e){this.checkProgramId(e.programId),this.checkKeysLength(e.keys,4);const{recentSlot:r}=wr(Oa.CreateLookupTable,e.data);return{authority:e.keys[1].pubkey,payer:e.keys[2].pubkey,recentSlot:Number(r)}}static decodeExtendLookupTable(e){if(this.checkProgramId(e.programId),e.keys.length<2)throw new Error(`invalid instruction; found ${e.keys.length} keys, expected at least 2`);const{addresses:r}=wr(Oa.ExtendLookupTable,e.data);return{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,payer:e.keys.length>2?e.keys[2].pubkey:void 0,addresses:r.map(n=>new Ne(n))}}static decodeCloseLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,3),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey,recipient:e.keys[2].pubkey}}static decodeFreezeLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static decodeDeactivateLookupTable(e){return this.checkProgramId(e.programId),this.checkKeysLength(e.keys,2),{lookupTable:e.keys[0].pubkey,authority:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(vw.programId))throw new Error("invalid instruction; programId is not AddressLookupTable Program")}static checkKeysLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}class vw{constructor(){}static createLookupTable(e){const[r,n]=Ne.findProgramAddressSync([e.authority.toBuffer(),RM(BigInt(e.recentSlot),8)],this.programId),i=Oa.CreateLookupTable,s=pr(i,{recentSlot:BigInt(e.recentSlot),bumpSeed:n}),o=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Pr.programId,isSigner:!1,isWritable:!1}];return[new Cr({programId:this.programId,keys:o,data:s}),r]}static freezeLookupTable(e){const r=Oa.FreezeLookupTable,n=pr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Cr({programId:this.programId,keys:i,data:n})}static extendLookupTable(e){const r=Oa.ExtendLookupTable,n=pr(r,{addresses:e.addresses.map(s=>s.toBytes())}),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return e.payer&&i.push({pubkey:e.payer,isSigner:!0,isWritable:!0},{pubkey:Pr.programId,isSigner:!1,isWritable:!1}),new Cr({programId:this.programId,keys:i,data:n})}static deactivateLookupTable(e){const r=Oa.DeactivateLookupTable,n=pr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1}];return new Cr({programId:this.programId,keys:i,data:n})}static closeLookupTable(e){const r=Oa.CloseLookupTable,n=pr(r),i=[{pubkey:e.lookupTable,isSigner:!1,isWritable:!0},{pubkey:e.authority,isSigner:!0,isWritable:!1},{pubkey:e.recipient,isSigner:!1,isWritable:!0}];return new Cr({programId:this.programId,keys:i,data:n})}}vw.programId=new Ne("AddressLookupTab1e1111111111111111111111111");class lre{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=gr("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Go))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a ComputeBudgetInstruction");return i}static decodeRequestUnits(e){this.checkProgramId(e.programId);const{units:r,additionalFee:n}=wr(Go.RequestUnits,e.data);return{units:r,additionalFee:n}}static decodeRequestHeapFrame(e){this.checkProgramId(e.programId);const{bytes:r}=wr(Go.RequestHeapFrame,e.data);return{bytes:r}}static decodeSetComputeUnitLimit(e){this.checkProgramId(e.programId);const{units:r}=wr(Go.SetComputeUnitLimit,e.data);return{units:r}}static decodeSetComputeUnitPrice(e){this.checkProgramId(e.programId);const{microLamports:r}=wr(Go.SetComputeUnitPrice,e.data);return{microLamports:r}}static checkProgramId(e){if(!e.equals(yw.programId))throw new Error("invalid instruction; programId is not ComputeBudgetProgram")}}const Go=Object.freeze({RequestUnits:{index:0,layout:Ct([gr("instruction"),Rt("units"),Rt("additionalFee")])},RequestHeapFrame:{index:1,layout:Ct([gr("instruction"),Rt("bytes")])},SetComputeUnitLimit:{index:2,layout:Ct([gr("instruction"),Rt("units")])},SetComputeUnitPrice:{index:3,layout:Ct([gr("instruction"),Ud("microLamports")])}});class yw{constructor(){}static requestUnits(e){const r=Go.RequestUnits,n=pr(r,e);return new Cr({keys:[],programId:this.programId,data:n})}static requestHeapFrame(e){const r=Go.RequestHeapFrame,n=pr(r,e);return new Cr({keys:[],programId:this.programId,data:n})}static setComputeUnitLimit(e){const r=Go.SetComputeUnitLimit,n=pr(r,e);return new Cr({keys:[],programId:this.programId,data:n})}static setComputeUnitPrice(e){const r=Go.SetComputeUnitPrice,n=pr(r,{microLamports:BigInt(e.microLamports)});return new Cr({keys:[],programId:this.programId,data:n})}}yw.programId=new Ne("ComputeBudget111111111111111111111111111111");const p7=64,g7=32,b7=64,v7=Ct([gr("numSignatures"),gr("padding"),Ls("signatureOffset"),Ls("signatureInstructionIndex"),Ls("publicKeyOffset"),Ls("publicKeyInstructionIndex"),Ls("messageDataOffset"),Ls("messageDataSize"),Ls("messageInstructionIndex")]);class Hb{constructor(){}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,instructionIndex:s}=e;yr(r.length===g7,`Public Key must be ${g7} bytes but received ${r.length} bytes`),yr(i.length===b7,`Signature must be ${b7} bytes but received ${i.length} bytes`);const o=v7.span,a=o+r.length,c=a+i.length,l=1,g=Lt.Buffer.alloc(c+n.length),b=s??65535;return v7.encode({numSignatures:l,padding:0,signatureOffset:a,signatureInstructionIndex:b,publicKeyOffset:o,publicKeyInstructionIndex:b,messageDataOffset:c,messageDataSize:n.length,messageInstructionIndex:b},g),g.fill(r,o),g.fill(i,a),g.fill(n,c),new Cr({keys:[],programId:Hb.programId,data:g})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;yr(r.length===p7,`Private key must be ${p7} bytes but received ${r.length} bytes`);try{const s=Hf.fromSecretKey(r),o=s.publicKey.toBytes(),a=fw(n,s.secretKey);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:a,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}Hb.programId=new Ne("Ed25519SigVerify111111111111111111111111111");const hre=(t,e)=>{const r=zb.sign(t,e);return[r.toCompactRawBytes(),r.recovery]};zb.utils.isValidPrivateKey;const pre=zb.getPublicKey,y7=32,Ny=20,m7=64,gre=11,Oy=Ct([gr("numSignatures"),Ls("signatureOffset"),gr("signatureInstructionIndex"),Ls("ethAddressOffset"),gr("ethAddressInstructionIndex"),Ls("messageDataOffset"),Ls("messageDataSize"),gr("messageInstructionIndex"),Wr(20,"ethAddress"),Wr(64,"signature"),gr("recoveryId")]);class gd{constructor(){}static publicKeyToEthAddress(e){yr(e.length===m7,`Public key must be ${m7} bytes but received ${e.length} bytes`);try{return Lt.Buffer.from(Q9(er(e))).slice(-Ny)}catch(r){throw new Error(`Error constructing Ethereum address: ${r}`)}}static createInstructionWithPublicKey(e){const{publicKey:r,message:n,signature:i,recoveryId:s,instructionIndex:o}=e;return gd.createInstructionWithEthAddress({ethAddress:gd.publicKeyToEthAddress(r),message:n,signature:i,recoveryId:s,instructionIndex:o})}static createInstructionWithEthAddress(e){const{ethAddress:r,message:n,signature:i,recoveryId:s,instructionIndex:o=0}=e;let a;typeof r=="string"?r.startsWith("0x")?a=Lt.Buffer.from(r.substr(2),"hex"):a=Lt.Buffer.from(r,"hex"):a=r,yr(a.length===Ny,`Address must be ${Ny} bytes but received ${a.length} bytes`);const c=1+gre,l=c,g=c+a.length,b=g+i.length+1,x=1,_=Lt.Buffer.alloc(Oy.span+n.length);return Oy.encode({numSignatures:x,signatureOffset:g,signatureInstructionIndex:o,ethAddressOffset:l,ethAddressInstructionIndex:o,messageDataOffset:b,messageDataSize:n.length,messageInstructionIndex:o,signature:er(i),ethAddress:er(a),recoveryId:s},_),_.fill(er(n),Oy.span),new Cr({keys:[],programId:gd.programId,data:_})}static createInstructionWithPrivateKey(e){const{privateKey:r,message:n,instructionIndex:i}=e;yr(r.length===y7,`Private key must be ${y7} bytes but received ${r.length} bytes`);try{const s=er(r),o=pre(s,!1).slice(1),a=Lt.Buffer.from(Q9(er(n))),[c,l]=hre(a,s);return this.createInstructionWithPublicKey({publicKey:o,message:n,signature:c,recoveryId:l,instructionIndex:i})}catch(s){throw new Error(`Error creating instruction; ${s}`)}}}gd.programId=new Ne("KeccakSecp256k11111111111111111111111111111");var lP;const hP=new Ne("StakeConfig11111111111111111111111111111111");class pP{constructor(e,r){this.staker=void 0,this.withdrawer=void 0,this.staker=e,this.withdrawer=r}}class D0{constructor(e,r,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=e,this.epoch=r,this.custodian=n}}lP=D0;D0.default=new lP(0,0,Ne.default);class bre{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=Rt("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Dn))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a StakeInstruction");return i}static decodeInitialize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{authorized:r,lockup:n}=wr(Dn.Initialize,e.data);return{stakePubkey:e.keys[0].pubkey,authorized:new pP(new Ne(r.staker),new Ne(r.withdrawer)),lockup:new D0(n.unixTimestamp,n.epoch,new Ne(n.custodian))}}static decodeDelegate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,6),wr(Dn.Delegate,e.data),{stakePubkey:e.keys[0].pubkey,votePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[5].pubkey}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,stakeAuthorizationType:n}=wr(Dn.Authorize,e.data),i={stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ne(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(i.custodianPubkey=e.keys[3].pubkey),i}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,2);const{newAuthorized:r,stakeAuthorizationType:n,authoritySeed:i,authorityOwner:s}=wr(Dn.AuthorizeWithSeed,e.data),o={stakePubkey:e.keys[0].pubkey,authorityBase:e.keys[1].pubkey,authoritySeed:i,authorityOwner:new Ne(s),newAuthorizedPubkey:new Ne(r),stakeAuthorizationType:{index:n}};return e.keys.length>3&&(o.custodianPubkey=e.keys[3].pubkey),o}static decodeSplit(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=wr(Dn.Split,e.data);return{stakePubkey:e.keys[0].pubkey,splitStakePubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[2].pubkey,lamports:r}}static decodeMerge(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),wr(Dn.Merge,e.data),{stakePubkey:e.keys[0].pubkey,sourceStakePubKey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,5);const{lamports:r}=wr(Dn.Withdraw,e.data),n={stakePubkey:e.keys[0].pubkey,toPubkey:e.keys[1].pubkey,authorizedPubkey:e.keys[4].pubkey,lamports:r};return e.keys.length>5&&(n.custodianPubkey=e.keys[5].pubkey),n}static decodeDeactivate(e){return this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3),wr(Dn.Deactivate,e.data),{stakePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey}}static checkProgramId(e){if(!e.equals(Vb.programId))throw new Error("invalid instruction; programId is not StakeProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Dn=Object.freeze({Initialize:{index:0,layout:Ct([Rt("instruction"),yee(),mee()])},Authorize:{index:1,layout:Ct([Rt("instruction"),rr("newAuthorized"),Rt("stakeAuthorizationType")])},Delegate:{index:2,layout:Ct([Rt("instruction")])},Split:{index:3,layout:Ct([Rt("instruction"),ls("lamports")])},Withdraw:{index:4,layout:Ct([Rt("instruction"),ls("lamports")])},Deactivate:{index:5,layout:Ct([Rt("instruction")])},Merge:{index:7,layout:Ct([Rt("instruction")])},AuthorizeWithSeed:{index:8,layout:Ct([Rt("instruction"),rr("newAuthorized"),Rt("stakeAuthorizationType"),Df("authoritySeed"),rr("authorityOwner")])}}),vre=Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class Vb{constructor(){}static initialize(e){const{stakePubkey:r,authorized:n,lockup:i}=e,s=i||D0.default,o=Dn.Initialize,a=pr(o,{authorized:{staker:er(n.staker.toBuffer()),withdrawer:er(n.withdrawer.toBuffer())},lockup:{unixTimestamp:s.unixTimestamp,epoch:s.epoch,custodian:er(s.custodian.toBuffer())}}),c={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:$d,isSigner:!1,isWritable:!1}],programId:this.programId,data:a};return new Cr(c)}static createAccountWithSeed(e){const r=new nr;r.add(Pr.createAccountWithSeed({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,basePubkey:e.basePubkey,seed:e.seed,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static createAccount(e){const r=new nr;r.add(Pr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.stakePubkey,lamports:e.lamports,space:this.space,programId:this.programId}));const{stakePubkey:n,authorized:i,lockup:s}=e;return r.add(this.initialize({stakePubkey:n,authorized:i,lockup:s}))}static delegate(e){const{stakePubkey:r,authorizedPubkey:n,votePubkey:i}=e,s=Dn.Delegate,o=pr(s);return new nr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!1},{pubkey:jo,isSigner:!1,isWritable:!1},{pubkey:s1,isSigner:!1,isWritable:!1},{pubkey:hP,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static authorize(e){const{stakePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,stakeAuthorizationType:s,custodianPubkey:o}=e,a=Dn.Authorize,c=pr(a,{newAuthorized:er(i.toBuffer()),stakeAuthorizationType:s.index}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jo,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),new nr().add({keys:l,programId:this.programId,data:c})}static authorizeWithSeed(e){const{stakePubkey:r,authorityBase:n,authoritySeed:i,authorityOwner:s,newAuthorizedPubkey:o,stakeAuthorizationType:a,custodianPubkey:c}=e,l=Dn.AuthorizeWithSeed,g=pr(l,{newAuthorized:er(o.toBuffer()),stakeAuthorizationType:a.index,authoritySeed:i,authorityOwner:er(s.toBuffer())}),b=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1},{pubkey:jo,isSigner:!1,isWritable:!1}];return c&&b.push({pubkey:c,isSigner:!0,isWritable:!1}),new nr().add({keys:b,programId:this.programId,data:g})}static splitInstruction(e){const{stakePubkey:r,authorizedPubkey:n,splitStakePubkey:i,lamports:s}=e,o=Dn.Split,a=pr(o,{lamports:s});return new Cr({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:a})}static split(e,r){const n=new nr;return n.add(Pr.createAccount({fromPubkey:e.authorizedPubkey,newAccountPubkey:e.splitStakePubkey,lamports:r,space:this.space,programId:this.programId})),n.add(this.splitInstruction(e))}static splitWithSeed(e,r){const{stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,basePubkey:o,seed:a,lamports:c}=e,l=new nr;return l.add(Pr.allocate({accountPubkey:s,basePubkey:o,seed:a,space:this.space,programId:this.programId})),r&&r>0&&l.add(Pr.transfer({fromPubkey:e.authorizedPubkey,toPubkey:s,lamports:r})),l.add(this.splitInstruction({stakePubkey:n,authorizedPubkey:i,splitStakePubkey:s,lamports:c}))}static merge(e){const{stakePubkey:r,sourceStakePubKey:n,authorizedPubkey:i}=e,s=Dn.Merge,o=pr(s);return new nr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:jo,isSigner:!1,isWritable:!1},{pubkey:s1,isSigner:!1,isWritable:!1},{pubkey:i,isSigner:!0,isWritable:!1}],programId:this.programId,data:o})}static withdraw(e){const{stakePubkey:r,authorizedPubkey:n,toPubkey:i,lamports:s,custodianPubkey:o}=e,a=Dn.Withdraw,c=pr(a,{lamports:s}),l=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0},{pubkey:jo,isSigner:!1,isWritable:!1},{pubkey:s1,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return o&&l.push({pubkey:o,isSigner:!0,isWritable:!1}),new nr().add({keys:l,programId:this.programId,data:c})}static deactivate(e){const{stakePubkey:r,authorizedPubkey:n}=e,i=Dn.Deactivate,s=pr(i);return new nr().add({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:s})}}Vb.programId=new Ne("Stake11111111111111111111111111111111111111");Vb.space=200;class gP{constructor(e,r,n,i){this.nodePubkey=void 0,this.authorizedVoter=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.nodePubkey=e,this.authorizedVoter=r,this.authorizedWithdrawer=n,this.commission=i}}class yre{constructor(){}static decodeInstructionType(e){this.checkProgramId(e.programId);const n=Rt("instruction").decode(e.data);let i;for(const[s,o]of Object.entries(Yo))if(o.index==n){i=s;break}if(!i)throw new Error("Instruction type incorrect; not a VoteInstruction");return i}static decodeInitializeAccount(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,4);const{voteInit:r}=wr(Yo.InitializeAccount,e.data);return{votePubkey:e.keys[0].pubkey,nodePubkey:e.keys[3].pubkey,voteInit:new gP(new Ne(r.nodePubkey),new Ne(r.authorizedVoter),new Ne(r.authorizedWithdrawer),r.commission)}}static decodeAuthorize(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{newAuthorized:r,voteAuthorizationType:n}=wr(Yo.Authorize,e.data);return{votePubkey:e.keys[0].pubkey,authorizedPubkey:e.keys[2].pubkey,newAuthorizedPubkey:new Ne(r),voteAuthorizationType:{index:n}}}static decodeAuthorizeWithSeed(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:r,currentAuthorityDerivedKeySeed:n,newAuthorized:i,voteAuthorizationType:s}}=wr(Yo.AuthorizeWithSeed,e.data);return{currentAuthorityDerivedKeyBasePubkey:e.keys[2].pubkey,currentAuthorityDerivedKeyOwnerPubkey:new Ne(r),currentAuthorityDerivedKeySeed:n,newAuthorizedPubkey:new Ne(i),voteAuthorizationType:{index:s},votePubkey:e.keys[0].pubkey}}static decodeWithdraw(e){this.checkProgramId(e.programId),this.checkKeyLength(e.keys,3);const{lamports:r}=wr(Yo.Withdraw,e.data);return{votePubkey:e.keys[0].pubkey,authorizedWithdrawerPubkey:e.keys[2].pubkey,lamports:r,toPubkey:e.keys[1].pubkey}}static checkProgramId(e){if(!e.equals(ml.programId))throw new Error("invalid instruction; programId is not VoteProgram")}static checkKeyLength(e,r){if(e.length<r)throw new Error(`invalid instruction; found ${e.length} keys, expected at least ${r}`)}}const Yo=Object.freeze({InitializeAccount:{index:0,layout:Ct([Rt("instruction"),wee()])},Authorize:{index:1,layout:Ct([Rt("instruction"),rr("newAuthorized"),Rt("voteAuthorizationType")])},Withdraw:{index:3,layout:Ct([Rt("instruction"),ls("lamports")])},UpdateValidatorIdentity:{index:4,layout:Ct([Rt("instruction")])},AuthorizeWithSeed:{index:10,layout:Ct([Rt("instruction"),xee()])}}),mre=Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class ml{constructor(){}static initializeAccount(e){const{votePubkey:r,nodePubkey:n,voteInit:i}=e,s=Yo.InitializeAccount,o=pr(s,{voteInit:{nodePubkey:er(i.nodePubkey.toBuffer()),authorizedVoter:er(i.authorizedVoter.toBuffer()),authorizedWithdrawer:er(i.authorizedWithdrawer.toBuffer()),commission:i.commission}}),a={keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:$d,isSigner:!1,isWritable:!1},{pubkey:jo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:o};return new Cr(a)}static createAccount(e){const r=new nr;return r.add(Pr.createAccount({fromPubkey:e.fromPubkey,newAccountPubkey:e.votePubkey,lamports:e.lamports,space:this.space,programId:this.programId})),r.add(this.initializeAccount({votePubkey:e.votePubkey,nodePubkey:e.voteInit.nodePubkey,voteInit:e.voteInit}))}static authorize(e){const{votePubkey:r,authorizedPubkey:n,newAuthorizedPubkey:i,voteAuthorizationType:s}=e,o=Yo.Authorize,a=pr(o,{newAuthorized:er(i.toBuffer()),voteAuthorizationType:s.index}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:jo,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new nr().add({keys:c,programId:this.programId,data:a})}static authorizeWithSeed(e){const{currentAuthorityDerivedKeyBasePubkey:r,currentAuthorityDerivedKeyOwnerPubkey:n,currentAuthorityDerivedKeySeed:i,newAuthorizedPubkey:s,voteAuthorizationType:o,votePubkey:a}=e,c=Yo.AuthorizeWithSeed,l=pr(c,{voteAuthorizeWithSeedArgs:{currentAuthorityDerivedKeyOwnerPubkey:er(n.toBuffer()),currentAuthorityDerivedKeySeed:i,newAuthorized:er(s.toBuffer()),voteAuthorizationType:o.index}}),g=[{pubkey:a,isSigner:!1,isWritable:!0},{pubkey:jo,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return new nr().add({keys:g,programId:this.programId,data:l})}static withdraw(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,lamports:i,toPubkey:s}=e,o=Yo.Withdraw,a=pr(o,{lamports:i}),c=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:s,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!0,isWritable:!1}];return new nr().add({keys:c,programId:this.programId,data:a})}static safeWithdraw(e,r,n){if(e.lamports>r-n)throw new Error("Withdraw will leave vote account with insufficient funds.");return ml.withdraw(e)}static updateValidatorIdentity(e){const{votePubkey:r,authorizedWithdrawerPubkey:n,nodePubkey:i}=e,s=Yo.UpdateValidatorIdentity,o=pr(s),a=[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!0,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}];return new nr().add({keys:a,programId:this.programId,data:o})}}ml.programId=new Ne("Vote111111111111111111111111111111111111111");ml.space=3762;const bP=new Ne("Va1idator1nfo111111111111111111111111111111"),wre=je({name:st(),website:Ut(st()),details:Ut(st()),iconUrl:Ut(st()),keybaseUsername:Ut(st())});class mw{constructor(e,r){this.key=void 0,this.info=void 0,this.key=e,this.info=r}static fromConfigData(e){let r=[...e];if(Yi(r)!==2)return null;const i=[];for(let s=0;s<2;s++){const o=new Ne(Ji(r,0,ia)),a=Vo(r)===1;i.push({publicKey:o,isSigner:a})}if(i[0].publicKey.equals(bP)&&i[1].isSigner){const s=Df().decode(Lt.Buffer.from(r)),o=JSON.parse(s);return CM(o,wre),new mw(i[1].publicKey,o)}return null}}const xre=new Ne("Vote111111111111111111111111111111111111111"),_re=Ct([rr("nodePubkey"),rr("authorizedWithdrawer"),gr("commission"),ei(),si(Ct([ei("slot"),Rt("confirmationCount")]),jc(Rt(),-8),"votes"),gr("rootSlotValid"),ei("rootSlot"),ei(),si(Ct([ei("epoch"),rr("authorizedVoter")]),jc(Rt(),-8),"authorizedVoters"),Ct([si(Ct([rr("authorizedPubkey"),ei("epochOfLastAuthorizedSwitch"),ei("targetEpoch")]),32,"buf"),ei("idx"),gr("isEmpty")],"priorVoters"),ei(),si(Ct([ei("epoch"),ei("credits"),ei("prevCredits")]),jc(Rt(),-8),"epochCredits"),Ct([ei("slot"),ei("timestamp")],"lastTimestamp")]);class ww{constructor(e){this.nodePubkey=void 0,this.authorizedWithdrawer=void 0,this.commission=void 0,this.rootSlot=void 0,this.votes=void 0,this.authorizedVoters=void 0,this.priorVoters=void 0,this.epochCredits=void 0,this.lastTimestamp=void 0,this.nodePubkey=e.nodePubkey,this.authorizedWithdrawer=e.authorizedWithdrawer,this.commission=e.commission,this.rootSlot=e.rootSlot,this.votes=e.votes,this.authorizedVoters=e.authorizedVoters,this.priorVoters=e.priorVoters,this.epochCredits=e.epochCredits,this.lastTimestamp=e.lastTimestamp}static fromAccountData(e){const n=_re.decode(er(e),4);let i=n.rootSlot;return n.rootSlotValid||(i=null),new ww({nodePubkey:new Ne(n.nodePubkey),authorizedWithdrawer:new Ne(n.authorizedWithdrawer),commission:n.commission,votes:n.votes,rootSlot:i,authorizedVoters:n.authorizedVoters.map(Sre),priorVoters:Ere(n.priorVoters),epochCredits:n.epochCredits,lastTimestamp:n.lastTimestamp})}}function Sre({authorizedVoter:t,epoch:e}){return{epoch:e,authorizedVoter:new Ne(t)}}function w7({authorizedPubkey:t,epochOfLastAuthorizedSwitch:e,targetEpoch:r}){return{authorizedPubkey:new Ne(t),epochOfLastAuthorizedSwitch:e,targetEpoch:r}}function Ere({buf:t,idx:e,isEmpty:r}){return r?[]:[...t.slice(e+1).map(w7),...t.slice(0,e).map(w7)]}const x7={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function Are(t,e){const r=e===!1?"http":"https";if(!t)return x7[r].devnet;const n=x7[r][t];if(!n)throw new Error(`Unknown ${r} cluster: ${t}`);return n}async function Ire(t,e,r,n){let i,s;r&&Object.prototype.hasOwnProperty.call(r,"lastValidBlockHeight")||r&&Object.prototype.hasOwnProperty.call(r,"nonceValue")?(i=r,s=n):s=r;const o=s&&{skipPreflight:s.skipPreflight,preflightCommitment:s.preflightCommitment||s.commitment,minContextSlot:s.minContextSlot},a=await t.sendRawTransaction(e,o),c=s&&s.commitment,g=(await(i?t.confirmTransaction(i,c):t.confirmTransaction(a,c))).value;if(g.err)throw a!=null?new t0({action:o!=null&&o.skipPreflight?"send":"simulate",signature:a,transactionMessage:`Status: (${JSON.stringify(g)})`}):new Error(`Raw transaction ${a} failed (${JSON.stringify(g)})`);return a}const go=1e9,Mre=Object.freeze(Object.defineProperty({__proto__:null,Account:gee,AddressLookupTableAccount:C2,AddressLookupTableInstruction:dre,AddressLookupTableProgram:vw,Authorized:pP,BLOCKHASH_CACHE_TIMEOUT_MS:rP,BPF_LOADER_DEPRECATED_PROGRAM_ID:bee,BPF_LOADER_PROGRAM_ID:Dee,BpfLoader:Lee,COMPUTE_BUDGET_INSTRUCTION_LAYOUTS:Go,ComputeBudgetInstruction:lre,ComputeBudgetProgram:yw,Connection:pc,Ed25519Program:Hb,Enum:hee,EpochSchedule:eP,FeeCalculatorLayout:ZM,Keypair:Hf,LAMPORTS_PER_SOL:go,LOOKUP_TABLE_INSTRUCTION_LAYOUTS:Oa,Loader:au,Lockup:D0,MAX_SEED_LENGTH:GM,Message:Ro,MessageAccountKeys:e0,MessageV0:ou,NONCE_ACCOUNT_LENGTH:R2,NonceAccount:Kb,PACKET_DATA_SIZE:Wc,PUBLIC_KEY_LENGTH:ia,PublicKey:Ne,SIGNATURE_LENGTH_IN_BYTES:Qh,SOLANA_SCHEMA:yh,STAKE_CONFIG_ID:hP,STAKE_INSTRUCTION_LAYOUTS:Dn,SYSTEM_INSTRUCTION_LAYOUTS:Br,SYSVAR_CLOCK_PUBKEY:jo,SYSVAR_EPOCH_SCHEDULE_PUBKEY:Iee,SYSVAR_INSTRUCTIONS_PUBKEY:Mee,SYSVAR_RECENT_BLOCKHASHES_PUBKEY:i1,SYSVAR_RENT_PUBKEY:$d,SYSVAR_REWARDS_PUBKEY:Pee,SYSVAR_SLOT_HASHES_PUBKEY:kee,SYSVAR_SLOT_HISTORY_PUBKEY:Ree,SYSVAR_STAKE_HISTORY_PUBKEY:s1,Secp256k1Program:gd,SendTransactionError:t0,SolanaJSONRPCError:Nt,SolanaJSONRPCErrorCode:Cee,StakeAuthorizationLayout:vre,StakeInstruction:bre,StakeProgram:Vb,Struct:uw,SystemInstruction:Oee,SystemProgram:Pr,Transaction:nr,TransactionExpiredBlockheightExceededError:dw,TransactionExpiredNonceInvalidError:Zu,TransactionExpiredTimeoutError:lw,TransactionInstruction:Cr,TransactionMessage:Ic,TransactionStatus:Ia,VALIDATOR_INFO_KEY:bP,VERSION_PREFIX_MASK:Fb,VOTE_PROGRAM_ID:xre,ValidatorInfo:mw,VersionedMessage:hw,VersionedTransaction:ps,VoteAccount:ww,VoteAuthorizationLayout:mre,VoteInit:gP,VoteInstruction:yre,VoteProgram:ml,clusterApiUrl:Are,sendAndConfirmRawTransaction:Ire,sendAndConfirmTransaction:k2},Symbol.toStringTag,{value:"Module"}));async function Pre({privKey:t,keyExportEnabled:e,getProviderEngineProxy:r}){const n=()=>Hf.fromSecretKey(Buffer.from(t,"hex"));if(typeof t!="string")throw wt.invalidParams("privKey must be a string");const i=n();return{requestAccounts:async()=>[i.publicKey.toBase58()],getAccounts:async()=>[i.publicKey.toBase58()],getPublicKey:async()=>i.publicKey.toBase58(),getPrivateKey:async()=>{if(!e)throw js.custom({message:"Private key export is disabled",code:4902});return t},getSecretKey:async()=>Wa.encode(i.secretKey),signTransaction:async o=>{var a;if(!((a=o.params)!==null&&a!==void 0&&a.message))throw qt.invalidParams("message");const c=o.params.message;return c.version!==void 0||c instanceof ps?c.sign([i]):c.partialSign(i),c},signMessage:async o=>{var a;if(!((a=o.params)!==null&&a!==void 0&&a.message))throw qt.invalidParams("message");return GE.sign.detached(o.params.message,i.secretKey)},signAndSendTransaction:async o=>{var a;if(!((a=o.params)!==null&&a!==void 0&&a.message))throw qt.invalidParams("message");const c=r();if(!c)throw js.custom({message:"Provider is not initialized",code:4902});const l=o.params.message;return l.version!==void 0||l instanceof ps?l.sign([i]):l.partialSign(i),{signature:await c.request({method:"sendTransaction",params:[Buffer.from(l.serialize()).toString("base64"),{encoding:"base64",preflightCommitment:"confirmed"}]})}},signAllTransactions:async o=>{var a,c,l;if(!((a=o.params)!==null&&a!==void 0&&a.message)||!((c=o.params)!==null&&c!==void 0&&c.message.length))throw qt.invalidParams("message");const g=(l=o.params)===null||l===void 0?void 0:l.message;for(const b of g||[]){const x=b;x.version!==void 0||x instanceof ps?x.sign([i]):x.partialSign(i)}return g}}}var vP;class xw extends cb{constructor({config:e,state:r}){super({config:e,state:r}),Oe(this,"PROVIDER_CHAIN_NAMESPACE",Gt.SOLANA)}async enable(){if(!this.state.privateKey)throw js.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}getEd25519Key(e){return Y$(e).sk.toString("hex").padStart(128,"0")}async setupProvider(e){const{chainNamespace:r}=this.config.chainConfig;if(r!==this.PROVIDER_CHAIN_NAMESPACE)throw wt.incompatibleChainNameSpace("Invalid chain namespace");const n=await Pre({privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this),keyExportEnabled:this.config.keyExportEnabled}),i=j6(n),s=new Gi,{networkMiddleware:o}=XI(this.config.chainConfig);s.push(this.getChainSwitchMiddleware()),s.push(this.getAccountMiddleware()),s.push(i),s.push(o);const a=Fh(s);this.updateProviderEngineProxy(a),await this.lookupNetwork()}async updateAccount(e){if(!this._providerEngineProxy)throw js.custom({message:"Provider is not initialized",code:4902});if(await this._providerEngineProxy.request({method:"solanaPrivateKey"})!==e.privateKey){await this.setupProvider(e.privateKey);const n=await this._providerEngineProxy.request({method:"requestAccounts"});this.emit("accountsChanged",n)}}async switchChain(e){if(!this._providerEngineProxy)throw js.custom({message:"Provider is not initialized",code:4902});const r=this.getChainConfig(e.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:r});const n=await this._providerEngineProxy.request({method:"solanaPrivateKey"});await this.setupProvider(n)}async lookupNetwork(){if(!this._providerEngineProxy)throw js.custom({message:"Provider is not initialized",code:4902});const e=await this._providerEngineProxy.request({method:"getHealth",params:[]}),{chainConfig:r}=this.config;if(e!=="ok")throw wt.rpcConnectionError(`Failed to lookup network for following rpc target: ${r.rpcTarget}`);return this.update({chainId:r.chainId}),this.state.chainId!==r.chainId&&(this.emit("chainChanged",this.state.chainId),this.emit("connect",{chainId:this.state.chainId})),this.state.chainId}getChainSwitchMiddleware(){return KX({addNewChainConfig:async n=>{if(!n.params)throw qt.invalidParams("Missing request params");const{chainId:i,chainName:s,rpcUrls:o,blockExplorerUrls:a,nativeCurrency:c,iconUrls:l}=n.params;if(!i)throw qt.invalidParams("Missing chainId in chainParams");if(!o||o.length===0)throw qt.invalidParams("Missing rpcUrls in chainParams");if(!c)throw qt.invalidParams("Missing nativeCurrency in chainParams");this.addChain({chainNamespace:Gt.SOLANA,chainId:i,ticker:(c==null?void 0:c.symbol)||"SOL",tickerName:(c==null?void 0:c.name)||"Solana",displayName:s,rpcTarget:o[0],blockExplorerUrl:(a==null?void 0:a[0])||"",decimals:(c==null?void 0:c.decimals)||9,logo:(l==null?void 0:l[0])||"https://images.toruswallet.io/sol.svg"})},switchSolanaChain:async n=>{if(!n.params)throw qt.invalidParams("Missing request params");if(!n.params.chainId)throw qt.invalidParams("Missing chainId");await this.switchChain(n.params)}})}getAccountMiddleware(){return jX({updatePrivatekey:async r=>{if(!r.params)throw qt.invalidParams("Missing request params");if(!r.params.privateKey)throw qt.invalidParams("Missing privateKey");const{privateKey:n}=r.params;await this.updateAccount({privateKey:n})}})}}vP=xw;Oe(xw,"getProviderInstance",async t=>{const e=new vP({config:{chainConfig:t.chainConfig}});return await e.setupProvider(t.privKey),e});async function yP(t){if(t.session.length){const e=t.session.keys.length-1;return t.session.get(t.session.keys[e])}return null}function kre(){return/Mobi|Android|iPhone|iPad|iPod|Opera Mini|IEMobile|WPDesktop/i.test(window.navigator.userAgent)}function Rre(t){return t.startsWith("solana:")}async function Ba(t,e,r,n){const i=await yP(t);if(!i)throw js.disconnected();return typeof window<"u"&&kre()&&i.peer.metadata.redirect&&i.peer.metadata.redirect.native&&window.open(i.peer.metadata.redirect.native,"_blank"),t.request({topic:i.topic,chainId:e,request:{method:r,params:Rre(e)?He(He({},n),{},{pubkey:i.self.publicKey}):n}})}async function bd(t){const e=await yP(t);if(!e)throw js.disconnected();const r=cI(e.namespaces);if(r&&r.length)return[...new Set(r.map(n=>aI(n).address))];throw zt.connectionError("Failed to get accounts")}function Cre({connector:t,chainId:e}){return{getPrivateKey:async()=>{throw qt.methodNotSupported()},getPublicKey:async()=>{throw qt.methodNotSupported()},getAccounts:async r=>bd(t),processTransaction:async(r,n)=>await Ba(t,`eip155:${e}`,"eth_sendTransaction",[r]),processSignTransaction:async(r,n)=>await Ba(t,`eip155:${e}`,"eth_signTransaction",[r]),processEthSignMessage:async(r,n)=>await Ba(t,`eip155:${e}`,"eth_sign",[r.from,r.data]),processPersonalMessage:async(r,n)=>await Ba(t,`eip155:${e}`,"personal_sign",[r.data,r.from]),processTypedMessageV4:async r=>await Ba(t,`eip155:${e}`,"eth_signTypedData_v4",[r.from,r.data])}}function Tre({connector:t,chainId:e}){return{requestAccounts:async r=>bd(t),getPrivateKey:async()=>{throw qt.methodNotSupported()},getSecretKey:async()=>{throw qt.methodNotSupported()},getPublicKey:async()=>{throw qt.methodNotSupported()},getAccounts:async r=>bd(t),signAllTransactions:async r=>{throw qt.methodNotSupported()},signAndSendTransaction:async r=>{throw qt.methodNotSupported()},signMessage:async r=>{const n=await Ba(t,`solana:${Zm[e]}`,"solana_signMessage",{message:Wa.encode(r.params.message)});return Wa.decode(n.signature)},signTransaction:async r=>{const[{PublicKey:n},i]=await Promise.all([YI(()=>Promise.resolve().then(()=>Mre),void 0),bd(t)]);if(i.length===0)throw js.disconnected();const s=await Ba(t,`solana:${Zm[e]}`,"solana_signTransaction",{transaction:r.params.message.serialize({requireAllSignatures:!1}).toString("base64")}),o=r.params.message;return o.addSignature(new n(i[0]),Buffer.from(Wa.decode(s.signature))),o}}}async function Nre({connector:t,chainId:e,newChainId:r}){await Ba(t,`eip155:${e}`,"wallet_switchEthereumChain",[{chainId:r}])}async function Ore({connector:t,chainId:e,chainConfig:r}){await Ba(t,`eip155:${e}`,"wallet_addEthereumChain",[r])}var mP;class pg extends cb{constructor({config:e,state:r,connector:n}){super({config:{chainConfig:e.chainConfig,skipLookupNetwork:!!e.skipLookupNetwork},state:He(He({},r||{}),{},{chainId:"loading",accounts:[]})}),Oe(this,"connector",null),this.connector=n||null}async enable(){if(!this.connector)throw js.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});return await this.setupProvider(this.connector),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){this.onConnectorStateUpdate(e),await this.setupEngine(e)}async switchChain({chainId:e}){if(!this.connector)throw js.custom({message:"Connector is not initialized, pass wallet connect connector in constructor",code:4902});const r=this.getChainConfig(e),{chainId:n}=this.config.chainConfig,i=parseInt(n,16);await Nre({connector:this.connector,chainId:i,newChainId:e}),this.configure({chainConfig:r}),await this.setupEngine(this.connector),this.lookupNetwork(this.connector)}async addChain(e){const{chainId:r}=this.config.chainConfig,n=parseInt(r,16);await Ore({connector:this.connector,chainId:n,chainConfig:{chainId:e.chainId,chainName:e.displayName,nativeCurrency:{name:e.tickerName,symbol:e.ticker.toLocaleUpperCase(),decimals:e.decimals||18},rpcUrls:[e.rpcTarget],blockExplorerUrls:[e.blockExplorerUrl],iconUrls:[e.logo]}}),super.addChain(e)}async lookupNetwork(e){const r=this.config.chainConfig.chainId;return this.update({chainId:r}),this.emit("chainChanged",r),this.emit("connect",{chainId:r}),this.config.chainConfig.chainId}async setupEngine(e){if(this.config.chainConfig.chainNamespace===Gt.EIP155)return this.setupEthEngine(e);if(this.config.chainConfig.chainNamespace===Gt.SOLANA)return this.setupSolEngine(e);throw new Error(`Unsupported chainNamespace: ${this.config.chainConfig.chainNamespace}`)}async setupEthEngine(e){const{chainId:r}=this.config.chainConfig,n=parseInt(r,16),i=Cre({connector:e,chainId:n}),s=await bd(e);this.update({accounts:s||[]});const o=OX(i),a=this.getEthChainSwitchMiddleware(),c=new Gi,{networkMiddleware:l}=$X(this.config.chainConfig);c.push(o),c.push(a),c.push(l);const g=Fh(c);this.updateProviderEngineProxy(g)}async setupSolEngine(e){const{chainId:r}=this.config.chainConfig,n=Tre({connector:e,chainId:r}),i=await bd(e);this.update({accounts:i||[]});const s=j6(n),o=new Gi,{networkMiddleware:a}=XI(this.config.chainConfig);o.push(s),o.push(a);const c=Fh(o);this.updateProviderEngineProxy(c)}getEthChainSwitchMiddleware(){return BX({addChain:async n=>{const{chainId:i,chainName:s,rpcUrls:o,blockExplorerUrls:a,nativeCurrency:c,iconUrls:l}=n;this.addChain({chainNamespace:Gt.EIP155,chainId:i,ticker:(c==null?void 0:c.symbol)||"ETH",tickerName:(c==null?void 0:c.name)||"Ether",displayName:s,rpcTarget:o[0],blockExplorerUrl:(a==null?void 0:a[0])||"",decimals:(c==null?void 0:c.decimals)||18,logo:(l==null?void 0:l[0])||"https://images.toruswallet.io/eth.svg"})},switchChain:async n=>{const{chainId:i}=n;await this.switchChain({chainId:i})}})}connectedTopic(){var e;if(!this.connector)throw zt.notConnectedError("Wallet connect connector is not connected");if((e=this.connector)!==null&&e!==void 0&&(e=e.session)!==null&&e!==void 0&&e.length){var r;const n=this.connector.session.keys.length-1;return(r=this.connector.session.get(this.connector.session.keys[n]))===null||r===void 0?void 0:r.topic}}checkIfAccountAllowed(e){if(!this.connector||!this.connectedTopic())return!1;const r=this.connector.session.get(this.connectedTopic()),n=cI(r.namespaces);let i=!1;for(const o of n){var s;if(((s=aI(o).address)===null||s===void 0?void 0:s.toLowerCase())===(e==null?void 0:e.toLowerCase())){i=!0;break}}return i}async onConnectorStateUpdate(e){e.events.on("session_event",async r=>{if(vr.debug("session_event data",r),!this.provider)throw zt.notConnectedError("Wallet connect connector is not connected");const{event:n}=r.params,{name:i,data:s}=n||{};if(i==="accountsChanged"&&s!==null&&s!==void 0&&s.length&&this.state.accounts[0]!==s[0]&&this.checkIfAccountAllowed(s[0])&&(this.update({accounts:s}),this.emit("accountsChanged",s)),n.name==="chainChanged"){if(!s)return;const a=`0x${s.toString(16)}`;if(a&&this.state.chainId!==a){const c=v0(Gt.EIP155,a);this.configure({chainConfig:He(He({},c),{},{chainId:a,chainNamespace:Gt.EIP155})}),await this.setupEngine(e)}}})}}mP=pg;Oe(pg,"getProviderInstance",async t=>{const e=new mP({config:{chainConfig:t.chainConfig,skipLookupNetwork:t.skipLookupNetwork}});return await e.setupProvider(t.connector),e});class Bre extends d6{constructor(e={}){super(e),Oe(this,"name",Pi.WALLET_CONNECT_V2),Oe(this,"adapterNamespace",qh.MULTICHAIN),Oe(this,"currentChainNamespace",Gt.OTHER),Oe(this,"type",u6.EXTERNAL),Oe(this,"adapterOptions",{}),Oe(this,"status",It.NOT_READY),Oe(this,"adapterData",{uri:""}),Oe(this,"connector",null),Oe(this,"activeSession",null),Oe(this,"wcProvider",null),this.adapterOptions=He({},e),this.setAdapterSettings(e)}get connected(){return!!this.activeSession}get provider(){return this.status!==It.NOT_READY&&this.wcProvider?this.wcProvider:null}set provider(e){throw new Error("Not implemented")}async init(e){var r,n,i;super.checkInitializationRequirements();const s=(r=this.adapterOptions.adapterSettings)===null||r===void 0||(r=r.walletConnectInitOptions)===null||r===void 0?void 0:r.projectId;if(!s)throw wt.invalidParams("Wallet connect project id is required in wallet connect v2 adapter");const o=await lA((n=this.chainConfig)===null||n===void 0?void 0:n.chainNamespace,[(i=this.chainConfig)===null||i===void 0?void 0:i.chainId],s);(!this.adapterOptions.loginSettings||Object.keys(this.adapterOptions.loginSettings).length===0)&&(this.adapterOptions.loginSettings=o.loginSettings),this.adapterOptions.adapterSettings=Yc(o.adapterSettings||{},this.adapterOptions.adapterSettings||{});const{adapterSettings:a}=this.adapterOptions;if(this.connector=await K6.init(a==null?void 0:a.walletConnectInitOptions),this.wcProvider=new pg({config:{chainConfig:this.chainConfig},connector:this.connector}),this.emit(lr.READY,Pi.WALLET_CONNECT_V2),this.status=It.READY,vr.debug("initializing wallet connect v2 adapter"),e.autoConnect)if(await this.checkForPersistedSession(),this.connected){this.rehydrated=!0;try{await this.onConnectHandler()}catch(c){vr.error("wallet auto connect",c),this.emit(lr.ERRORED,c)}}else this.status=It.NOT_READY,this.emit(lr.CACHE_CLEAR)}async connect(){if(super.checkConnectionRequirements(),!this.connector)throw wt.notReady("Wallet adapter is not ready yet");try{return this.connected?(await this.onConnectHandler(),this.provider):(this.status!==It.CONNECTING&&await this.createNewSession(),this.provider)}catch(e){throw vr.error("Wallet connect v2 adapter error while connecting",e),this.status=It.READY,this.rehydrated=!0,this.emit(lr.ERRORED,e),e instanceof Qf?e:zt.connectionError(`Failed to login with wallet connect: ${(e==null?void 0:e.message)||""}`,e)}}setAdapterSettings(e){var r,n,i,s,o;super.setAdapterSettings(e);const{qrcodeModal:a,walletConnectInitOptions:c}=(e==null?void 0:e.adapterSettings)||{};this.adapterOptions=He(He({},this.adapterOptions),{},{adapterSettings:(r=(n=this.adapterOptions)===null||n===void 0?void 0:n.adapterSettings)!==null&&r!==void 0?r:{},loginSettings:(i=(s=this.adapterOptions)===null||s===void 0?void 0:s.loginSettings)!==null&&i!==void 0?i:{}}),a&&(this.adapterOptions.adapterSettings.qrcodeModal=a),c&&(this.adapterOptions.adapterSettings.walletConnectInitOptions=He(He({},(o=this.adapterOptions.adapterSettings.walletConnectInitOptions)!==null&&o!==void 0?o:{}),c));const{loginSettings:l}=e;l&&(this.adapterOptions.loginSettings=He(He({},this.adapterOptions.loginSettings||{}),l))}async addChain(e,r=!1){var n;super.checkAddChainRequirements(e,r),await((n=this.wcProvider)===null||n===void 0?void 0:n.addChain(e)),this.addChainConfig(e)}async switchChain(e,r=!1){var n;super.checkSwitchChainRequirements(e,r),await((n=this.wcProvider)===null||n===void 0?void 0:n.switchChain({chainId:e.chainId})),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}async getUserInfo(){if(!this.connected)throw zt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async disconnect(e={cleanup:!1,sessionRemovedByWallet:!1}){var r,n;const{cleanup:i}=e;if(!this.connector||!this.connected||!((r=this.activeSession)!==null&&r!==void 0&&r.topic))throw zt.notConnectedError("Not connected with wallet");e.sessionRemovedByWallet||await this.connector.disconnect({topic:(n=this.activeSession)===null||n===void 0?void 0:n.topic,reason:Sr("USER_DISCONNECTED")}),this.rehydrated=!1,i?(this.connector=null,this.status=It.NOT_READY,this.wcProvider=null):this.status=It.READY,this.activeSession=null,this.emit(lr.DISCONNECTED)}async authenticateUser(){if(!this.provider||this.status!==It.CONNECTED)throw zt.notConnectedError();const{chainNamespace:e,chainId:r}=this.chainConfig,n=await this.provider.request({method:e===Gt.EIP155?"eth_accounts":"getAccounts"});if(n&&n.length>0){const i=cA(n[0],this.name);if(i&&!aA(i))return{idToken:i};const s={domain:window.location.origin,uri:window.location.href,address:n[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},o=await iA(s,e),a=await this._getSignedMessage(o,n,e),c=await sA(e,a,o,this.name,this.sessionTime,this.clientId,this.web3AuthNetwork);return fA(n[0],this.name,c),{idToken:c}}throw zt.notConnectedError("Not connected with wallet, Please login/connect first")}async enableMFA(){throw new Error("Method Not implemented")}cleanupPendingPairings(){if(!this.connector)throw wt.notReady("Wallet adapter is not ready yet");const e=this.connector.pairing.getAll({active:!1});ll(e)&&e.forEach(r=>{this.connector&&this.connector.pairing.delete(r.topic,Sr("USER_DISCONNECTED"))})}async checkForPersistedSession(){if(!this.connector)throw wt.notReady("Wallet adapter is not ready yet");if(this.connector.session.length){const e=this.connector.session.keys.length-1;this.activeSession=this.connector.session.get(this.connector.session.keys[e])}return this.activeSession}async createNewSession(e={forceNewSession:!1}){try{var r,n;if(!this.connector)throw wt.notReady("Wallet adapter is not ready yet");if(!this.adapterOptions.loginSettings||Object.keys(this.adapterOptions.loginSettings).length===0)throw wt.notReady("login settings are not set yet");if(this.status=It.CONNECTING,this.emit(lr.CONNECTING,{adapter:Pi.WALLET_CONNECT_V2}),e.forceNewSession&&(r=this.activeSession)!==null&&r!==void 0&&r.topic){var i;await this.connector.disconnect({topic:(i=this.activeSession)===null||i===void 0?void 0:i.topic,reason:Sr("USER_DISCONNECTED")})}const{uri:o,approval:a}=await this.connector.connect(this.adapterOptions.loginSettings),c=(n=this.adapterOptions)===null||n===void 0||(n=n.adapterSettings)===null||n===void 0?void 0:n.qrcodeModal;if(o)if(c)try{await c.openModal({uri:o}),vr.debug("EVENT","QR Code Modal closed"),this.status=It.READY,this.emit(lr.READY,Pi.WALLET_CONNECT_V2)}catch{vr.error("unable to open qr code modal")}else this.updateAdapterData({uri:o});vr.info("awaiting session approval from wallet");const l=await a();this.activeSession=l,await this.onConnectHandler(),c&&c.closeModal()}catch(o){var s;if((s=o.message)!==null&&s!==void 0&&s.toLowerCase().includes("proposal expired")){if(vr.info("current adapter status: ",this.status),this.status===It.CONNECTING)return vr.info("retrying to create new wallet connect session since proposal expired"),this.createNewSession({forceNewSession:!0});if(this.status===It.READY){vr.info("ignoring proposal expired error since some other adapter is connected");return}}throw vr.error("error while creating new wallet connect session",o),this.emit(lr.ERRORED,o),o}}async onConnectHandler(){var e;if(!this.connector||!this.wcProvider)throw wt.notReady("Wallet adapter is not ready yet");if(!this.chainConfig)throw wt.invalidParams("Chain config is not set");this.subscribeEvents(),(e=this.adapterOptions.adapterSettings)!==null&&e!==void 0&&e.qrcodeModal&&(this.wcProvider=new pg({config:{chainConfig:this.chainConfig,skipLookupNetwork:!0},connector:this.connector})),await this.wcProvider.setupProvider(this.connector),this.cleanupPendingPairings(),this.status=It.CONNECTED,this.emit(lr.CONNECTED,{adapter:Pi.WALLET_CONNECT_V2,reconnected:this.rehydrated,provider:this.provider})}subscribeEvents(){if(!this.connector)throw wt.notReady("Wallet adapter is not ready yet");this.connector.events.on("session_update",({topic:e,params:r})=>{if(!this.connector)return;const{namespaces:n}=r,i=this.connector.session.get(e),s=He(He({},i),{},{namespaces:n});this.activeSession=s}),this.connector.events.on("session_delete",()=>{this.disconnect({sessionRemovedByWallet:!0})})}async _getSignedMessage(e,r,n){const i=await this.provider.request({method:n===Gt.EIP155?"personal_sign":"signMessage",params:n===Gt.EIP155?[e,r[0]]:{message:Buffer.from(e)}});return n===Gt.SOLANA?Wa.encode(i):i}}const Dre=Symbol(),_7=Object.getPrototypeOf,B2=new WeakMap,Lre=t=>t&&(B2.has(t)?B2.get(t):_7(t)===Object.prototype||_7(t)===Array.prototype),$re=t=>Lre(t)&&t[Dre]||null,S7=(t,e=!0)=>{B2.set(t,e)},gg={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1},By=t=>typeof t=="object"&&t!==null,wc=new WeakMap,_p=new WeakSet,Ure=(t=Object.is,e=(l,g)=>new Proxy(l,g),r=l=>By(l)&&!_p.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),n=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,g,b=n)=>{const x=i.get(l);if((x==null?void 0:x[0])===g)return x[1];const _=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return S7(_,!0),i.set(l,[g,_]),Reflect.ownKeys(l).forEach(E=>{if(Object.getOwnPropertyDescriptor(_,E))return;const M=Reflect.get(l,E),B={value:M,enumerable:!0,configurable:!0};if(_p.has(M))S7(M,!1);else if(M instanceof Promise)delete B.value,B.get=()=>b(M);else if(wc.has(M)){const[P,R]=wc.get(M);B.value=s(P,R(),b)}Object.defineProperty(_,E,B)}),Object.preventExtensions(_)},o=new WeakMap,a=[1,1],c=l=>{if(!By(l))throw new Error("object required");const g=o.get(l);if(g)return g;let b=a[0];const x=new Set,_=(te,ce=++a[0])=>{b!==ce&&(b=ce,x.forEach(A=>A(te,ce)))};let E=a[1];const M=(te=++a[1])=>(E!==te&&!x.size&&(E=te,P.forEach(([ce])=>{const A=ce[1](te);A>b&&(b=A)})),b),B=te=>(ce,A)=>{const f=[...ce];f[1]=[te,...f[1]],_(f,A)},P=new Map,R=(te,ce)=>{if((gg?"production":void 0)!=="production"&&P.has(te))throw new Error("prop listener already exists");if(x.size){const A=ce[3](B(te));P.set(te,[ce,A])}else P.set(te,[ce])},D=te=>{var ce;const A=P.get(te);A&&(P.delete(te),(ce=A[1])==null||ce.call(A))},U=te=>(x.add(te),x.size===1&&P.forEach(([A,f],h)=>{if((gg?"production":void 0)!=="production"&&f)throw new Error("remove already exists");const d=A[3](B(h));P.set(h,[A,d])}),()=>{x.delete(te),x.size===0&&P.forEach(([A,f],h)=>{f&&(f(),P.set(h,[A]))})}),F=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),k=e(F,{deleteProperty(te,ce){const A=Reflect.get(te,ce);D(ce);const f=Reflect.deleteProperty(te,ce);return f&&_(["delete",[ce],A]),f},set(te,ce,A,f){const h=Reflect.has(te,ce),d=Reflect.get(te,ce,f);if(h&&(t(d,A)||o.has(A)&&t(d,o.get(A))))return!0;D(ce),By(A)&&(A=$re(A)||A);let p=A;if(A instanceof Promise)A.then(v=>{A.status="fulfilled",A.value=v,_(["resolve",[ce],v])}).catch(v=>{A.status="rejected",A.reason=v,_(["reject",[ce],v])});else{!wc.has(A)&&r(A)&&(p=c(A));const v=!_p.has(p)&&wc.get(p);v&&R(ce,v)}return Reflect.set(te,ce,p,f),_(["set",[ce],A,d]),!0}});o.set(l,k);const K=[F,M,s,U];return wc.set(k,K),Reflect.ownKeys(l).forEach(te=>{const ce=Object.getOwnPropertyDescriptor(l,te);"value"in ce&&(k[te]=l[te],delete ce.value,delete ce.writable),Object.defineProperty(F,te,ce)}),k})=>[c,wc,_p,t,e,r,n,i,s,o,a],[zre]=Ure();function cf(t={}){return zre(t)}function _u(t,e,r){const n=wc.get(t);(gg?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[3];let a=!1;const l=o(g=>{s.push(g),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Fre(t,e){const r=wc.get(t);(gg?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");const[n,i,s]=r;return s(n,i(),e)}const Tn=cf({history:["ConnectWallet"],view:"ConnectWallet",data:void 0}),wP={state:Tn,subscribe(t){return _u(Tn,()=>t(Tn))},push(t,e){t!==Tn.view&&(Tn.view=t,e&&(Tn.data=e),Tn.history.push(t))},reset(t){Tn.view=t,Tn.history=[t]},replace(t){Tn.history.length>1&&(Tn.history[Tn.history.length-1]=t,Tn.view=t)},goBack(){if(Tn.history.length>1){Tn.history.pop();const[t]=Tn.history.slice(-1);Tn.view=t}},setData(t){Tn.data=t}},Ii={WALLETCONNECT_DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",WCM_VERSION:"WCM_VERSION",RECOMMENDED_WALLET_AMOUNT:9,isMobile(){return typeof window<"u"?!!(window.matchMedia("(pointer:coarse)").matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},isAndroid(){return Ii.isMobile()&&navigator.userAgent.toLowerCase().includes("android")},isIos(){const t=navigator.userAgent.toLowerCase();return Ii.isMobile()&&(t.includes("iphone")||t.includes("ipad"))},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},isArray(t){return Array.isArray(t)&&t.length>0},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},formatNativeUrl(t,e,r){if(Ii.isHttpUrl(t))return this.formatUniversalUrl(t,e,r);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},formatUniversalUrl(t,e,r){if(!Ii.isHttpUrl(t))return this.formatNativeUrl(t,e,r);let n=t;if(n.startsWith("https://t.me")){const s=Buffer.from(e).toString("base64").replace(/[=]/g,"");n.endsWith("/")&&(n=n.slice(0,-1)),this.setWalletConnectDeepLink(n,r);const o=new URL(n);return o.searchParams.set("startapp",s),o.toString()}n.endsWith("/")||(n=`${n}/`),this.setWalletConnectDeepLink(n,r);const i=encodeURIComponent(e);return`${n}wc?uri=${i}`},async wait(t){return new Promise(e=>{setTimeout(e,t)})},openHref(t,e){const r=this.isTelegram()?"_blank":e;window.open(t,r,"noreferrer noopener")},setWalletConnectDeepLink(t,e){try{localStorage.setItem(Ii.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:t,name:e}))}catch{console.info("Unable to set WalletConnect deep link")}},setWalletConnectAndroidDeepLink(t){try{const[e]=t.split("?");localStorage.setItem(Ii.WALLETCONNECT_DEEPLINK_CHOICE,JSON.stringify({href:e,name:"Android"}))}catch{console.info("Unable to set WalletConnect android deep link")}},removeWalletConnectDeepLink(){try{localStorage.removeItem(Ii.WALLETCONNECT_DEEPLINK_CHOICE)}catch{console.info("Unable to remove WalletConnect deep link")}},setModalVersionInStorage(){try{typeof localStorage<"u"&&localStorage.setItem(Ii.WCM_VERSION,"2.7.0")}catch{console.info("Unable to set Web3Modal version in storage")}},getWalletRouterData(){var t;const e=(t=wP.state.data)==null?void 0:t.Wallet;if(!e)throw new Error('Missing "Wallet" view data');return e}},qre=typeof location<"u"&&(location.hostname.includes("localhost")||location.protocol.includes("https")),Ei=cf({enabled:qre,userSessionId:"",events:[],connectedWalletId:void 0}),Kre={state:Ei,subscribe(t){return _u(Ei.events,()=>t(Fre(Ei.events[Ei.events.length-1])))},initialize(){Ei.enabled&&typeof(crypto==null?void 0:crypto.randomUUID)<"u"&&(Ei.userSessionId=crypto.randomUUID())},setConnectedWalletId(t){Ei.connectedWalletId=t},click(t){if(Ei.enabled){const e={type:"CLICK",name:t.name,userSessionId:Ei.userSessionId,timestamp:Date.now(),data:t};Ei.events.push(e)}},track(t){if(Ei.enabled){const e={type:"TRACK",name:t.name,userSessionId:Ei.userSessionId,timestamp:Date.now(),data:t};Ei.events.push(e)}},view(t){if(Ei.enabled){const e={type:"VIEW",name:t.name,userSessionId:Ei.userSessionId,timestamp:Date.now(),data:t};Ei.events.push(e)}}},Do=cf({chains:void 0,walletConnectUri:void 0,isAuth:!1,isCustomDesktop:!1,isCustomMobile:!1,isDataLoaded:!1,isUiLoaded:!1}),So={state:Do,subscribe(t){return _u(Do,()=>t(Do))},setChains(t){Do.chains=t},setWalletConnectUri(t){Do.walletConnectUri=t},setIsCustomDesktop(t){Do.isCustomDesktop=t},setIsCustomMobile(t){Do.isCustomMobile=t},setIsDataLoaded(t){Do.isDataLoaded=t},setIsUiLoaded(t){Do.isUiLoaded=t},setIsAuth(t){Do.isAuth=t}},Sp=cf({projectId:"",mobileWallets:void 0,desktopWallets:void 0,walletImages:void 0,chains:void 0,enableAuthMode:!1,enableExplorer:!0,explorerExcludedWalletIds:void 0,explorerRecommendedWalletIds:void 0,termsOfServiceUrl:void 0,privacyPolicyUrl:void 0}),zd={state:Sp,subscribe(t){return _u(Sp,()=>t(Sp))},setConfig(t){var e,r;Kre.initialize(),So.setChains(t.chains),So.setIsAuth(!!t.enableAuthMode),So.setIsCustomMobile(!!((e=t.mobileWallets)!=null&&e.length)),So.setIsCustomDesktop(!!((r=t.desktopWallets)!=null&&r.length)),Ii.setModalVersionInStorage(),Object.assign(Sp,t)}};var jre=Object.defineProperty,E7=Object.getOwnPropertySymbols,Wre=Object.prototype.hasOwnProperty,Hre=Object.prototype.propertyIsEnumerable,A7=(t,e,r)=>e in t?jre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vre=(t,e)=>{for(var r in e||(e={}))Wre.call(e,r)&&A7(t,r,e[r]);if(E7)for(var r of E7(e))Hre.call(e,r)&&A7(t,r,e[r]);return t};const D2="https://explorer-api.walletconnect.com",L2="wcm",$2="js-2.7.0";async function Ep(t,e){const r=Vre({sdkType:L2,sdkVersion:$2},e),n=new URL(t,D2);return n.searchParams.append("projectId",zd.state.projectId),Object.entries(r).forEach(([s,o])=>{o&&n.searchParams.append(s,String(o))}),(await fetch(n)).json()}const mf={async getDesktopListings(t){return Ep("/w3m/v1/getDesktopListings",t)},async getMobileListings(t){return Ep("/w3m/v1/getMobileListings",t)},async getInjectedListings(t){return Ep("/w3m/v1/getInjectedListings",t)},async getAllListings(t){return Ep("/w3m/v1/getAllListings",t)},getWalletImageUrl(t){return`${D2}/w3m/v1/getWalletImage/${t}?projectId=${zd.state.projectId}&sdkType=${L2}&sdkVersion=${$2}`},getAssetImageUrl(t){return`${D2}/w3m/v1/getAssetImage/${t}?projectId=${zd.state.projectId}&sdkType=${L2}&sdkVersion=${$2}`}};var Gre=Object.defineProperty,I7=Object.getOwnPropertySymbols,Yre=Object.prototype.hasOwnProperty,Jre=Object.prototype.propertyIsEnumerable,M7=(t,e,r)=>e in t?Gre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xre=(t,e)=>{for(var r in e||(e={}))Yre.call(e,r)&&M7(t,r,e[r]);if(I7)for(var r of I7(e))Jre.call(e,r)&&M7(t,r,e[r]);return t};const P7=Ii.isMobile(),Lo=cf({wallets:{listings:[],total:0,page:1},search:{listings:[],total:0,page:1},recomendedWallets:[]}),Yne={state:Lo,async getRecomendedWallets(){const{explorerRecommendedWalletIds:t,explorerExcludedWalletIds:e}=zd.state;if(t==="NONE"||e==="ALL"&&!t)return Lo.recomendedWallets;if(Ii.isArray(t)){const n={recommendedIds:t.join(",")},{listings:i}=await mf.getAllListings(n),s=Object.values(i);s.sort((o,a)=>{const c=t.indexOf(o.id),l=t.indexOf(a.id);return c-l}),Lo.recomendedWallets=s}else{const{chains:r,isAuth:n}=So.state,i=r==null?void 0:r.join(","),s=Ii.isArray(e),o={page:1,sdks:n?"auth_v1":void 0,entries:Ii.RECOMMENDED_WALLET_AMOUNT,chains:i,version:2,excludedIds:s?e.join(","):void 0},{listings:a}=P7?await mf.getMobileListings(o):await mf.getDesktopListings(o);Lo.recomendedWallets=Object.values(a)}return Lo.recomendedWallets},async getWallets(t){const e=Xre({},t),{explorerRecommendedWalletIds:r,explorerExcludedWalletIds:n}=zd.state,{recomendedWallets:i}=Lo;if(n==="ALL")return Lo.wallets;i.length?e.excludedIds=i.map(b=>b.id).join(","):Ii.isArray(r)&&(e.excludedIds=r.join(",")),Ii.isArray(n)&&(e.excludedIds=[e.excludedIds,n].filter(Boolean).join(",")),So.state.isAuth&&(e.sdks="auth_v1");const{page:s,search:o}=t,{listings:a,total:c}=P7?await mf.getMobileListings(e):await mf.getDesktopListings(e),l=Object.values(a),g=o?"search":"wallets";return Lo[g]={listings:[...Lo[g].listings,...l],total:c,page:s??1},{listings:l,total:c}},getWalletImageUrl(t){return mf.getWalletImageUrl(t)},getAssetImageUrl(t){return mf.getAssetImageUrl(t)},resetSearch(){Lo.search={listings:[],total:0,page:1}}},Tu=cf({open:!1}),Dy={state:Tu,subscribe(t){return _u(Tu,()=>t(Tu))},async open(t){return new Promise(e=>{const{isUiLoaded:r,isDataLoaded:n}=So.state;if(Ii.removeWalletConnectDeepLink(),So.setWalletConnectUri(t==null?void 0:t.uri),So.setChains(t==null?void 0:t.chains),wP.reset("ConnectWallet"),r&&n)Tu.open=!0,e();else{const i=setInterval(()=>{const s=So.state;s.isUiLoaded&&s.isDataLoaded&&(clearInterval(i),Tu.open=!0,e())},200)}})},close(){Tu.open=!1}};var Zre=Object.defineProperty,k7=Object.getOwnPropertySymbols,Qre=Object.prototype.hasOwnProperty,ene=Object.prototype.propertyIsEnumerable,R7=(t,e,r)=>e in t?Zre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tne=(t,e)=>{for(var r in e||(e={}))Qre.call(e,r)&&R7(t,r,e[r]);if(k7)for(var r of k7(e))ene.call(e,r)&&R7(t,r,e[r]);return t};function rne(){return typeof matchMedia<"u"&&matchMedia("(prefers-color-scheme: dark)").matches}const Vl=cf({themeMode:rne()?"dark":"light"}),C7={state:Vl,subscribe(t){return _u(Vl,()=>t(Vl))},setThemeConfig(t){const{themeMode:e,themeVariables:r}=t;e&&(Vl.themeMode=e),r&&(Vl.themeVariables=tne({},r))}},wf=cf({open:!1,message:"",variant:"success"}),Jne={state:wf,subscribe(t){return _u(wf,()=>t(wf))},openToast(t,e){wf.open=!0,wf.message=t,wf.variant=e},closeToast(){wf.open=!1}};class nne{constructor(e){this.openModal=Dy.open,this.closeModal=Dy.close,this.subscribeModal=Dy.subscribe,this.setTheme=C7.setThemeConfig,C7.setThemeConfig(e),zd.setConfig(e),this.initUi()}async initUi(){if(typeof window<"u"){await YI(()=>import("./index-NLM_JhO2.js"),[]);const e=document.createElement("wcm-modal");document.body.insertAdjacentElement("beforeend",e),So.setIsUiLoaded(!0)}}}const xP="solana:signAndSendTransaction",_P="solana:signMessage",SP="solana:signTransaction";var ine=function(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r},sne=function(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)},o1;let Gl;const a1=new Set,Qu={};function one(){if(Gl||(Gl=Object.freeze({register:T7,get:ane,on:cne}),typeof window>"u"))return Gl;const t=Object.freeze({register:T7});try{window.addEventListener("wallet-standard:register-wallet",({detail:e})=>e(t))}catch(e){console.error(`wallet-standard:register-wallet event listener could not be added
`,e)}try{window.dispatchEvent(new fne(t))}catch(e){console.error(`wallet-standard:app-ready event could not be dispatched
`,e)}return Gl}function T7(...t){var e;return t=t.filter(r=>!a1.has(r)),t.length?(t.forEach(r=>a1.add(r)),(e=Qu.register)==null||e.forEach(r=>N7(()=>r(...t))),function(){var n;t.forEach(i=>a1.delete(i)),(n=Qu.unregister)==null||n.forEach(i=>N7(()=>i(...t)))}):()=>{}}function ane(){return[...a1]}function cne(t,e){var r;return(r=Qu[t])!=null&&r.push(e)||(Qu[t]=[e]),function(){var i;Qu[t]=(i=Qu[t])==null?void 0:i.filter(s=>e!==s)}}function N7(t){try{t()}catch(e){console.error(e)}}class fne extends Event{constructor(e){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),o1.set(this,void 0),ine(this,o1,e,"f")}get detail(){return sne(this,o1,"f")}get type(){return"wallet-standard:app-ready"}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}o1=new WeakMap;const EP="standard:connect",une="standard:disconnect";class dne extends d6{async init(e){this.chainConfig||(this.chainConfig=v0(Gt.SOLANA,1))}async authenticateUser(){if(!this.provider||this.status!==It.CONNECTED)throw zt.notConnectedError();const{chainNamespace:e,chainId:r}=this.chainConfig,n=await this.provider.request({method:"getAccounts"});if(n&&n.length>0){const i=cA(n[0],this.name);if(i&&!aA(i))return{idToken:i};const s={domain:window.location.origin,uri:window.location.href,address:n[0],chainId:parseInt(r,16),version:"1",nonce:Math.random().toString(36).slice(2),issuedAt:new Date().toISOString()},o=await iA(s,e),a=new TextEncoder().encode(o),c=await this.provider.request({method:"signMessage",params:{message:a,display:"utf8"}}),l=await sA(e,Wa.encode(c),o,this.name,this.sessionTime,this.clientId,this.web3AuthNetwork);return fA(n[0],this.name,l),{idToken:l}}throw zt.notConnectedError("Not connected with wallet, Please login/connect first")}async disconnectSession(){super.checkDisconnectionRequirements();const e=await this.provider.request({method:"getAccounts"});e&&e.length>0&&PU(e[0],this.name)}async disconnect(){this.rehydrated=!1,this.emit(lr.DISCONNECTED)}}const O7=t=>{switch(t.chainId){case"0x1":return"solana:mainnet";case"0x2":return"solana:testnet";case"0x3":return"solana:devnet";default:return null}};class lne extends nl{constructor({wallet:e,getCurrentChain:r}){super(),Oe(this,"wallet",null),Oe(this,"getCurrentChain",void 0),this.wallet=e,this.getCurrentChain=r}get currentAccount(){var e;const r=(e=this.wallet)===null||e===void 0?void 0:e.accounts[0];if(!r)throw zt.notConnectedError();return r}get publicKey(){return new Ne(this.currentAccount.publicKey)}async signMessage(e){const r=this.currentAccount;return{signature:(await this.wallet.features[_P].signMessage({account:r,message:e}))[0].signature,publicKey:new Kt(r.publicKey)}}async signTransaction(e){const r=this.currentAccount,n=await this.wallet.features[SP].signTransaction({account:r,transaction:e.serialize({requireAllSignatures:!1}),chain:this.getCurrentChain()});return e.version!==void 0||e instanceof ps?ps.deserialize(n[0].signedTransaction):nr.from(n[0].signedTransaction)}async signAllTransactions(e){return Promise.all(e.map(r=>this.signTransaction(r)))}async signAndSendTransaction(e){const r=this.currentAccount,n=await this.wallet.features[xP].signAndSendTransaction({account:r,transaction:e.serialize({requireAllSignatures:!1}),chain:this.getCurrentChain()}),[{signature:i}]=n;return{signature:new TextDecoder().decode(i)}}}class hne extends dne{constructor(e){super(e),Oe(this,"name",void 0),Oe(this,"adapterNamespace",qh.SOLANA),Oe(this,"currentChainNamespace",Gt.SOLANA),Oe(this,"type",u6.EXTERNAL),Oe(this,"isInjected",!0),Oe(this,"status",It.NOT_READY),Oe(this,"wallet",null),Oe(this,"injectedProvider",null),this.name=e.name,this.wallet=["gate","solflare"].includes(this.name)?Object.freeze(e.wallet):e.wallet}get provider(){return this.status!==It.NOT_READY&&this.injectedProvider?this.injectedProvider:null}get isWalletConnected(){return this.status===It.CONNECTED&&this.wallet.accounts.length>0}async init(e={}){await super.init(e),super.checkInitializationRequirements(),this.injectedProvider=new YX({config:{chainConfig:this.chainConfig}});const r=new lne({wallet:this.wallet,getCurrentChain:()=>O7(this.chainConfig)});this.injectedProvider.setupProvider(r),this.status=It.READY,this.emit(lr.READY,this.name);try{vr.debug("initializing solana injected adapter"),e.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(n){vr.error("Failed to connect with cached solana injected provider",n),this.emit(lr.ERRORED,n)}}async connect(){try{super.checkConnectionRequirements(),this.status=It.CONNECTING,this.emit(lr.CONNECTING,{adapter:this.name});const e=O7(this.chainConfig);if(!this.wallet.chains.find(r=>r===e))throw zt.connectionError(`Chain ${e} not supported. Supported chains are ${this.wallet.chains.join(", ")}`);if(this.isWalletConnected||await this.wallet.features[EP].connect(),this.wallet.accounts.length===0)throw zt.connectionError();return this.status=It.CONNECTED,this.emit(lr.CONNECTED,{adapter:this.name,reconnected:this.rehydrated,provider:this.provider}),this.provider}catch(e){throw this.status=It.READY,this.rehydrated=!1,this.emit(lr.ERRORED,e),e}}async disconnect(e={cleanup:!1}){await super.disconnectSession();try{var r;await((r=this.wallet.features[une])===null||r===void 0?void 0:r.disconnect()),e.cleanup?(this.status=It.NOT_READY,this.injectedProvider=null):this.status=It.READY,await super.disconnect()}catch(n){this.emit(lr.ERRORED,zt.disconnectionError(n==null?void 0:n.message))}}async getUserInfo(){if(!this.isWalletConnected)throw zt.notConnectedError("Not connected with wallet, Please login/connect first");return{}}async addChain(e,r=!1){var n;super.checkAddChainRequirements(e,r),(n=this.injectedProvider)===null||n===void 0||n.addChain(e),this.addChainConfig(e)}async switchChain(e,r=!1){var n;super.checkSwitchChainRequirements(e,r),await((n=this.injectedProvider)===null||n===void 0?void 0:n.switchChain(e)),this.setAdapterSettings({chainConfig:this.getChainConfig(e.chainId)})}async enableMFA(){throw new Error("Method not implemented.")}}const pne=t=>{const{options:e}=t,{clientId:r,chainConfig:n,sessionTime:i,web3AuthNetwork:s,useCoreKitKey:o}=e;if(!Object.values(Gt).includes(n.chainNamespace))throw wt.invalidParams(`Invalid chainNamespace: ${n.chainNamespace}`);const a=He(He({},v0(n.chainNamespace,n==null?void 0:n.chainId)),n||{}),c=[];return one().get().forEach(g=>{const{name:b,chains:x,features:_}=g;!x.some(B=>B.startsWith("solana"))||![EP,_P,SP,xP].every(B=>Object.keys(_).includes(B))||c.push(new hne({name:MU(b),wallet:g,chainConfig:a,clientId:r,sessionTime:i,web3AuthNetwork:s,useCoreKitKey:o}))}),c};class gne{constructor(e){_r(this,"provider");_r(this,"getAccounts",async()=>{try{return await new _a(this.provider).requestAccounts()}catch(e){return e}});_r(this,"getBalance",async()=>{try{const e=new _a(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new pc(r.rpcTarget),i=await e.requestAccounts();return(await n.getBalance(new Ne(i[0]))).toString()}catch(e){return e}});_r(this,"signMessage",async()=>{try{const e=new _a(this.provider),r=Buffer.from("Test Signing Message ","hex");return(await e.signMessage(r)).toString()}catch(e){return e}});_r(this,"sendTransaction",async()=>{try{const e=new _a(this.provider),r=await e.requestAccounts(),n=await e.request({method:"solana_provider_config",params:[]}),s=await new pc(n.rpcTarget).getLatestBlockhash("finalized"),o=Pr.transfer({fromPubkey:new Ne(r[0]),toPubkey:new Ne(r[0]),lamports:.01*go}),a=new nr({blockhash:s.blockhash,lastValidBlockHeight:s.lastValidBlockHeight,feePayer:new Ne(r[0])}).add(o),{signature:c}=await e.signAndSendTransaction(a);return c}catch(e){return e}});_r(this,"signTransaction",async()=>{var e;try{const r=new _a(this.provider),n=await r.request({method:"solana_provider_config",params:[]}),i=new pc(n.rpcTarget),s=await r.requestAccounts(),{blockhash:o}=await i.getRecentBlockhash("finalized"),a=Pr.transfer({fromPubkey:new Ne(s[0]),toPubkey:new Ne(s[0]),lamports:.01*go}),c=new nr({recentBlockhash:o,feePayer:new Ne(s[0])}).add(a);return((e=(await r.signTransaction(c)).signature)==null?void 0:e.toString())||""}catch(r){return r}});_r(this,"sendVersionTransaction",async()=>{try{const e=new _a(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new pc(r.rpcTarget),i=await e.requestAccounts(),{blockhash:s}=await n.getLatestBlockhash("finalized"),o=Pr.transfer({fromPubkey:new Ne(i[0]),toPubkey:new Ne(i[0]),lamports:.01*go}),a=new Ic({recentBlockhash:s,instructions:[o],payerKey:new Ne(i[0])}),c=new ps(a.compileToV0Message()),{signature:l}=await e.signAndSendTransaction(c);return l}catch(e){return e}});_r(this,"signVersionedTransaction",async()=>{try{const e=new _a(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new pc(r.rpcTarget),i=await e.requestAccounts(),{blockhash:s}=await n.getRecentBlockhash("finalized"),o=Pr.transfer({fromPubkey:new Ne(i[0]),toPubkey:new Ne(i[0]),lamports:.01*go}),a=new Ic({recentBlockhash:s,instructions:[o],payerKey:new Ne(i[0])}),c=new ps(a.compileToV0Message());return await e.signTransaction(c)}catch(e){throw e}});_r(this,"signAllTransaction",async()=>{try{const e=new _a(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new pc(r.rpcTarget),i=await e.requestAccounts(),{blockhash:s}=await n.getRecentBlockhash("finalized"),o=Pr.transfer({fromPubkey:new Ne(i[0]),toPubkey:new Ne(i[0]),lamports:.01*go}),a=Pr.transfer({fromPubkey:new Ne(i[0]),toPubkey:new Ne(i[0]),lamports:.02*go}),c=Pr.transfer({fromPubkey:new Ne(i[0]),toPubkey:new Ne(i[0]),lamports:.03*go}),l=new nr({recentBlockhash:s,feePayer:new Ne(i[0])}).add(o),g=new nr({recentBlockhash:s,feePayer:new Ne(i[0])}).add(a),b=new nr({recentBlockhash:s,feePayer:new Ne(i[0])}).add(c);return await e.signAllTransactions([l,g,b])}catch(e){throw e}});_r(this,"signAllVersionedTransaction",async()=>{try{const e=new _a(this.provider),r=await e.request({method:"solana_provider_config",params:[]}),n=new pc(r.rpcTarget),i=await e.requestAccounts(),{blockhash:s}=await n.getRecentBlockhash("finalized"),o=Pr.transfer({fromPubkey:new Ne(i[0]),toPubkey:new Ne(i[0]),lamports:.01*go}),a=Pr.transfer({fromPubkey:new Ne(i[0]),toPubkey:new Ne(i[0]),lamports:.02*go}),c=Pr.transfer({fromPubkey:new Ne(i[0]),toPubkey:new Ne(i[0]),lamports:.03*go}),l=new Ic({recentBlockhash:s,payerKey:new Ne(i[0]),instructions:[o]}),g=new Ic({recentBlockhash:s,payerKey:new Ne(i[0]),instructions:[o]}),b=new Ic({recentBlockhash:s,payerKey:new Ne(i[0]),instructions:[o]}),x=new ps(l.compileToV0Message()),_=new ps(g.compileToV0Message()),E=new ps(b.compileToV0Message()),M=await e.signAllTransactions([x,_,E]);return console.log(M),M}catch(e){throw e}});_r(this,"getPrivateKey",async()=>await this.provider.request({method:"solanaPrivateKey"}));this.provider=e}}const bne="BPi5PB_UiIZ-cPz1GtV5i1I2iOSOHuimiXBI0e-Oe_u6X3oVAbCiAZOTEBtTXw4tsluTITPqA8zMsfxIKMjiqNQ";let Yl=[];function vne(){const[t,e]=td.useState(null),[r,n]=td.useState(null);td.useEffect(()=>{(async()=>{try{const x={chainNamespace:Gt.SOLANA,chainId:"0x1",rpcTarget:"https://api.devnet.solana.com",displayName:"Solana Devnet",blockExplorerUrl:"https://explorer.solana.com",ticker:"SOL",tickerName:"Solana Token",logo:""},_=new xw({config:{chainConfig:x}}),E={clientId:bne,privateKeyProvider:_,web3AuthNetwork:Kc.SAPPHIRE_MAINNET},M=new LU(E);e(M);const B=new NU({privateKeyProvider:_,adapterSettings:{uxMode:vo.REDIRECT}});M.configureAdapter(B);const P=await lA(Gt.SOLANA,["0x1","0x2"],"04309ed1007e77d1f119b85205bb779d"),R=new nne({projectId:"04309ed1007e77d1f119b85205bb779d"}),D=new Bre({adapterSettings:{qrcodeModal:R,...P.adapterSettings},loginSettings:{...P.loginSettings}});M.configureAdapter(D),Yl=pne({options:E}),Yl.forEach(U=>{M.configureAdapter(U)}),await M.init(),n(M.provider)}catch(x){console.error(x)}})()},[]);const i=async()=>{if(!t){c("web3auth not initialized yet");return}const b=await t.connectTo(Pi.WALLET_CONNECT_V2);n(b)},s=async b=>{if(!t){c("web3auth not initialized yet");return}const x=await t.connectTo(b);n(x)},o=async()=>{if(!t){c("web3auth not initialized yet");return}await t.logout(),n(null)};(async()=>{if(!r){c("provider not initialized yet");return}const x=await new gne(r).getAccounts(),_=document.getElementById("address");_&&(_.innerText=`Address: ${x}`)})();function c(...b){const x=document.querySelector("#console>p");x&&(x.innerHTML=JSON.stringify(b||{},null,2))}const l=Mr.jsxs(Mr.Fragment,{children:[Mr.jsx("div",{className:"flex-container",children:Mr.jsx("div",{children:Mr.jsx("button",{onClick:o,className:"card",children:"Log Out"})})}),Mr.jsx("div",{id:"console",style:{whiteSpace:"pre-line"}}),Mr.jsx("div",{id:"address"})]}),g=Mr.jsxs(Mr.Fragment,{children:[Mr.jsx("button",{onClick:i,className:"card",children:"Airdrop Game"}),Yl==null?void 0:Yl.map(b=>Mr.jsxs("button",{onClick:()=>s(b.name),className:"card",children:["Login with ",b.name.charAt(0).toUpperCase()+b.name.slice(1)," Wallet"]},b.name.toUpperCase()))]});return Mr.jsxs("div",{children:[Mr.jsx("div",{className:"modal fade",id:"inPageModal",role:"dialog",style:{display:"none"},children:Mr.jsx("div",{className:"modal-dialog",children:Mr.jsxs("div",{className:"modal-content",children:[Mr.jsxs("div",{className:"modal-header",children:[Mr.jsx("button",{type:"button",className:"close","data-dismiss":"modal",children:""}),Mr.jsx("h4",{id:"inPageModalTitle",className:"modal-title",children:"Failed to Load"})]}),Mr.jsxs("div",{id:"inPageModalBody",className:"modal-body",children:[Mr.jsx("p",{children:"Failed to load. Please check your connection!"}),Mr.jsx("div",{className:"center",children:Mr.jsx("div",{className:"loader"})})]}),Mr.jsx("div",{className:"modal-footer",children:Mr.jsx("button",{type:"button",className:"btn btn-default","data-dismiss":"modal",children:"Close"})})]})})}),Mr.jsx("div",{className:"container",children:Mr.jsx("div",{className:"grid",children:(t==null?void 0:t.status)==="connected"?l:g})})]})}const yne=Uy.createRoot(document.getElementById("root"));yne.render(Mr.jsx(ck.StrictMode,{children:Mr.jsx(vne,{})}));export{Ii as C,Yne as E,Dy as M,So as O,wP as R,C7 as T,Jne as a,Kre as b,zd as c};
